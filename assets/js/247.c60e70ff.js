(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{1289:function(t,s,n){"use strict";n.r(s);var a=n(18),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"express-常用-api"}},[t._v("Express 常用 API")]),t._v(" "),n("h2",{attrs:{id:"response"}},[t._v("Response")]),t._v(" "),n("p",[n("code",[t._v("res")]),t._v(" 对象表示 Express 应用在收到 HTTP 请求后，返回的 HTTP 响应。")]),t._v(" "),n("p",[t._v("💡 虽然响应对象名称可以任意，但在中间件或路由处理程序中一般称为 "),n("code",[t._v("res")]),t._v("（并且相应的 HTTP 请求为 "),n("code",[t._v("req")]),t._v("），也可以使用 "),n("code",[t._v("response")]),t._v("（相应的 HTTP 请求为 "),n("code",[t._v("request")]),t._v("）。")]),t._v(" "),n("h3",{attrs:{id:"res-redirect"}},[t._v("res.redirect()")]),t._v(" "),n("p",[n("code",[t._v("res.redirect([statusCode], path)")]),t._v(" 重定向到 "),n("code",[t._v("path")]),t._v(" 指定的 URL，而且一般会指定状态（一个正整数，对应HTTP状态码），如果没有指定则使用默认值 "),n("code",[t._v("302")]),t._v("  表示 "),n("code",[t._v('"Found"')]),t._v("。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("💡 可以使用相对路径 URL")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从 http://example.com/admin/blog/ 发出请求")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意请求的 URL 结尾有斜线 /，则当前目录是 blog")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重定向到 http://example.com/admin/blog/post/new")]),t._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post/new'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示基于当前目录 blog/ 的下一级目录")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从 http://example.com/admin/blog 发出请求")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意请求的 URL 结尾没有斜线 /，则当前目录是 admin，而 blog 是 html 文档")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重定向到 http://example.com/admin/post/new")]),t._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post/new'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表示基于当前目录 admin/ 的下一级目录")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从 http://example.com/admin/blog/ 发出请求")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或重定向到父级目录 http://example.com/admin")]),t._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/admin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 斜线 / 表示域名下的根目录，可以返回任意级的父目录")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从 http://example.com/admin/post/new 发出请求")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 重定向到上一级目录 http://example.com/admin/post/")]),t._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'..'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 也可以使用关键字 back 返回上一个路由地址，如果没有上一个路由记录默认返回根目录 /")]),t._v("\nres"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'back'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("💡 可以重定向到网站内的页面或其他网站的页面")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://google.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);