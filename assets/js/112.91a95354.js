(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1151:function(t,a,e){"use strict";e.r(a);var s=e(18),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"管理环境"}},[t._v("管理环境")]),t._v(" "),s("p",[s("code",[t._v("conda")]),t._v("可创建"),s("strong",[t._v("虚拟环境")]),t._v("以分隔不同项目的工作空间，类似于"),s("a",{attrs:{href:"https://virtualenv.pypa.io/en/stable/",target:"_blank",rel:"noopener noreferrer"}},[t._v("virtualenv"),s("OutboundLink")],1),t._v("或"),s("a",{attrs:{href:"https://github.com/yyuu/pyenv",target:"_blank",rel:"noopener noreferrer"}},[t._v("pyenv"),s("OutboundLink")],1),t._v("流行的环境管理器。")]),t._v(" "),s("h2",{attrs:{id:"创建环境"}},[t._v("创建环境")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("conda create "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n env_name list_of_packages_names\n")])])]),s("p",[t._v("解释")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("-n")]),t._v("是借用名称"),s("code",[t._v("name")]),t._v("缩写，表示后面添加的参数是"),s("strong",[t._v("虚拟环境的名称")])]),t._v(" "),s("li",[s("code",[t._v("-n env_name")]),t._v("设置环境的名称")]),t._v(" "),s("li",[s("code",[t._v("list_of_packages")]),t._v("列出需要安装在"),s("strong",[t._v("虚拟环境中包的列表")])])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在虚拟环境 my_env 中安装 numpy 包")]),t._v("\nconda create "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n my_env numpy\n")])])]),s("h3",{attrs:{id:"创建指定版本环境"}},[t._v("创建指定版本环境")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个名为 py3 的且默认使用的python版本为python3的虚拟环境")]),t._v("\nconda create "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n py3 python"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个名为 py2 的且默认使用的python版本为python2的虚拟环境")]),t._v("\nconda create "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n py2 python"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])])]),s("ul",[s("li",[t._v("在个人计算机上创建了这两个环境，用作与任何特定项目均无关的"),s("strong",[t._v("通用环境")]),t._v("，以处理普通的工作（可轻松使用每个 Python 版本）")]),t._v(" "),s("li",[t._v("可以使用"),s("code",[t._v("python=3.3")]),t._v("来安装特定的版本")])]),t._v(" "),s("h3",{attrs:{id:"列出创建的所有环境"}},[t._v("列出创建的所有环境")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("conda env "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),t._v("\n")])])]),s("p",[t._v("列出所创建的"),s("strong",[t._v("所有环境")]),t._v("，当前所在的环境旁边会有一个星号"),s("code",[t._v("*")]),t._v("（默认环境为"),s("code",[t._v("root")]),t._v("，即当不选定环境时所使用的环境）")]),t._v(" "),s("h2",{attrs:{id:"进入环境"}},[t._v("进入环境")]),t._v(" "),s("p",[t._v("在Windows键入")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("activate my_env\n")])])]),s("p",[t._v("在OSX/Linux键入")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("source activate my_env\n")])])]),s("p",[t._v("你会在"),s("strong",[t._v("终端提示符")]),t._v("前看到"),s("strong",[t._v("环境名称")])]),t._v(" "),s("p",[s("img",{attrs:{src:e(520),alt:"activate_deactivate"}})]),t._v(" "),s("h2",{attrs:{id:"离开环境"}},[t._v("离开环境")]),t._v(" "),s("p",[t._v("Windows键入")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("deactive\n")])])]),s("p",[t._v("OSX/Linux键入")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("source deactivate\n")])])]),s("h2",{attrs:{id:"保存环境"}},[t._v("保存环境")]),t._v(" "),s("p",[s("strong",[t._v("共享环境")]),t._v("让其他用户可以便捷地安装你代码中使用的"),s("strong",[t._v("所有包")]),t._v("，并确保这些包的"),s("strong",[t._v("版本正确")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("conda env export "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("yaml\n")])])]),s("p",[t._v("解释：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("conda env export")]),t._v(" 命令"),s("strong",[t._v("输出环境中所有的包")])]),t._v(" "),s("li",[s("code",[t._v("> environment.yaml")]),t._v("将导出的文本"),s("strong",[t._v("写入到 "),s("code",[t._v("YAML")]),t._v(" 文件")])])]),t._v(" "),s("p",[t._v("导出环境中的"),s("strong",[t._v("包列表")]),t._v("导出为文件，并将"),s("strong",[t._v("其与代码打包")]),t._v("再一起共享给其他协作者，让其可以创建与你项目"),s("strong",[t._v("相同的环境")])]),t._v(" "),s("h2",{attrs:{id:"加载环境"}},[t._v("加载环境")]),t._v(" "),s("p",[t._v("通过"),s("strong",[t._v("环境文件创建环境")]),t._v("，以加载相应的包")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境文件为 environment.yaml")]),t._v("\nconda env create "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("yaml\n")])])]),s("h2",{attrs:{id:"删除环境"}},[t._v("删除环境")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("conda env remove "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n env_name\n")])])]),s("h1",{attrs:{id:"建议"}},[t._v("建议")]),t._v(" "),s("h2",{attrs:{id:"使用环境"}},[t._v("使用环境")]),t._v(" "),s("p",[t._v("为从事的每个项目创建一个独立专属的环境很有用。这对于与数据不相关的项目也很有用。")]),t._v(" "),s("h2",{attrs:{id:"共享环境"}},[t._v("共享环境")]),t._v(" "),s("p",[t._v("在 GitHub 上共享代码时，最好同样"),s("strong",[t._v("创建环境文件并将其包括在代码库中")]),t._v("。这能让其他人更轻松地安装代码的所有"),s("strong",[t._v("依赖项")]),t._v("。对于不使用"),s("code",[t._v("conda")]),t._v("的用户，我通常还会使用"),s("code",[t._v("pip freeze")]),t._v("将依赖项导出。")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pip freeze "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" requirements"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n")])])])])}),[],!1,null,null,null);a.default=n.exports},520:function(t,a,e){t.exports=e.p+"assets/img/_activate_d_1539268358_31478.fb3d2551.png"}}]);