(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1009:function(t,s,a){t.exports=a.p+"assets/img/20200507163204265_10127.841a18a0.png"},1010:function(t,s,a){t.exports=a.p+"assets/img/20200507162214641_20995.4c2e7531.png"},1011:function(t,s,a){t.exports=a.p+"assets/img/20200507164321976_4039.64e6028d.png"},1012:function(t,s,a){t.exports=a.p+"assets/img/20200507172546141_6772.95216e28.png"},1383:function(t,s,a){"use strict";a.r(s);var e=a(18),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"尺寸与滚动"}},[t._v("尺寸与滚动")]),t._v(" "),e("p",[t._v("尺寸和滚动是日常使用网页经常遇到的，包括浏览页面视窗大小和页面滚动，以及元素的尺寸和内部内容的滚动（设置了 "),e("code",[t._v("overflow")]),t._v("）也是十分常见的交互，相关属性值都可以通过 JavaScript 获取。")]),t._v(" "),e("h2",{attrs:{id:"元素大小与滚动"}},[t._v("元素大小与滚动")]),t._v(" "),e("p",[t._v("JavaScript 中有许多节点属性可让我们读取有关元素的宽度、高度和其他几何特征的信息，这些属性值都是数值，它们是基于像素进行测量的。")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 元素及尺寸设置 --\x3e")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 它有边框 border，内边距 padding 和滚动条，但没有外边距 margin，因为它们不是元素本身的一部分 --\x3e")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  ...Text...\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token style"}},[e("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#example")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 300px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 25px solid #E8C48F"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("overflow")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" auto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:a(1009),alt:"box model"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(1010),alt:"element geometry"}})]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("offsetParent")]),t._v(" 获取最接近的 CSS 定位的祖先元素节点（即设置了属性 "),e("code",[t._v("position")]),t._v(" 为 "),e("code",[t._v("absolute/relative/fixed")]),t._v(" 的祖先元素节点），或者是 "),e("code",[t._v("td")]),t._v("，"),e("code",[t._v("th")]),t._v("，"),e("code",[t._v("table")]),t._v("，"),e("code",[t._v("body")]),t._v(" 节点")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("main")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token style-attr"}},[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),e("span",{pre:!0,attrs:{class:"token style language-css"}},[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("main"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("article")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token style-attr"}},[e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),e("span",{pre:!0,attrs:{class:"token style language-css"}},[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 180px"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 180px")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("article")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}},[e("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetParent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetLeft"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 180（注意：这是一个数字，不是字符串 "180px"）')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetTop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 180")]),t._v("\n")])]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offsetLeft/offsetTop")]),t._v(" 获取元素相对于 "),e("code",[t._v("offsetParent")]),t._v(" 祖先元素的左侧/上方边缘的距离")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("offsetWidth/offsetHeight")]),t._v(" 元素的宽/高（是指包括边框，内边距、内容的完整元素大小），如果")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("clientLeft/clientTop")]),t._v(" 内侧与外侧的距离，即从元素左上角外角到左上角内角的距离。对于从左到右显示内容的操作系统来说，它们始终是左侧/顶部 border 的宽度。💡 而对于从右到左显示内容的操作系统来说，垂直滚动条在左边，所以 "),e("code",[t._v("clientLeft")]),t._v(" 也包括滚动条的宽度。")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("clientWidth/clientHeight")]),t._v(" 内容的宽/高，包括 "),e("code",[t._v("padding")]),t._v("，但不包括滚动条 scrollbar")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("scrollWidth/scrollHeight")]),t._v(" 内容的宽/高，就像 "),e("code",[t._v("clientWidth/clientHeight")]),t._v(" 一样，"),e("strong",[t._v("但还包括元素的滚动出的不可见的部分")]),t._v("。\n💡 通过"),e("strong",[t._v("修改 "),e("code",[t._v("scrollLeft/scrollTop")]),t._v(" 浏览器会滚动对应的元素")]),t._v("。")]),t._v(" "),e("p",[t._v("💡 利用这个属性可以将元素展开 expand")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将元素展开（expand）到完整的内容高度")]),t._v("\nelement"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("element"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("px")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("scrollLeft/scrollTop")]),t._v(" 从元素的左上角开始，滚动出元素的上半部分的宽/高，即表示滚动了多少像素。")]),t._v(" "),e("p",[t._v("⚠️ 如果一个元素（或其任何祖先）具有 "),e("code",[t._v("display:none")]),t._v(" 或不在文档中，则所有几何属性均为零（或 "),e("code",[t._v("offsetParent")]),t._v(" 为 "),e("code",[t._v("null")]),t._v("）。当我们创建了一个元素，但尚未将其插入文档中，或者它（或它的祖先）具有 "),e("code",[t._v("display:none")]),t._v(" 时，则 "),e("code",[t._v("offsetParent")]),t._v(" 为 "),e("code",[t._v("null")]),t._v("，并且 "),e("code",[t._v("offsetWidth")]),t._v(" 和 "),e("code",[t._v("offsetHeight")]),t._v(" 为 "),e("code",[t._v("0")]),t._v("，我们可以用这个特性来检查一个元素是否被隐藏")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isHidden")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("elem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("elem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetWidth "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("elem"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),e("p",[t._v("💡 除了 "),e("code",[t._v("scrollLeft/scrollTop")]),t._v(" 外，元素的所有几何属性都是只读的。")]),t._v(" "),e("p",[t._v("💡 当元素设置了 "),e("code",[t._v("overflow")]),t._v(" 并且文本溢出而含有滚动条时，元素的尺寸度量会变得十分复杂，一些浏览器（并非全部）通过从内容宽度 content width 中获取空间来为滚动条保留空间，如元素的内容宽度设置为 "),e("code",[t._v("300 px")]),t._v("，但滚动条宽度是 "),e("code",[t._v("16px")]),t._v("（不同的设备和浏览器，滚动条的宽度可能有所不同），那么实际容纳内容的宽度只有 "),e("code",[t._v("300 - 16 ＝ 284px")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(1011),alt:"scrollbar width"}})]),t._v(" "),e("p",[t._v("应该避免使用方法 "),e("code",[t._v("getComputedStyle(elem)")]),t._v(" 来读取元素的 CSS 宽 "),e("code",[t._v("width")]),t._v(" 和高 "),e("code",[t._v("height")]),t._v("，因为 CSS 属性 "),e("code",[t._v("width/height")]),t._v(" 取决于另一个属性 "),e("code",[t._v("box-sizing")]),t._v("；而且 CSS 的 "),e("code",[t._v("width/height")]),t._v(" 可能是 "),e("code",[t._v("auto")]),t._v("，如内联（inline）元素，获取的不是真正的元素尺寸；当元素含有滚动条时，有的浏览器（如 Chrome）返回的是实际内部宽度减去滚动条宽度，而某些浏览器（如 Firefox）返回的是 CSS 宽度（忽略了滚动条），这种跨浏览器的差异是不使用 "),e("code",[t._v("getComputedStyle")]),t._v(" 而依靠几何属性的原因。")]),t._v(" "),e("h2",{attrs:{id:"视窗大小和滚动"}},[t._v("视窗大小和滚动")]),t._v(" "),e("p",[t._v("使用根文档元素节点 "),e("code",[t._v("document.documentElement")]),t._v(" 的属性 "),e("code",[t._v("clientWidth")]),t._v(" 或 "),e("code",[t._v("clientHeight")]),t._v(" 获取窗口（window）的宽度和高度。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1012),alt:"window width and height"}})]),t._v(" "),e("p",[t._v("💡 浏览器支持 "),e("code",[t._v("window.innerWidth/innerHeight")]),t._v(" 属性，但它们返回的是包括滚动条的窗口大小（假设页面有滚动条），而 "),e("code",[t._v("document.documentElement.clientWidth/clientHeight")]),t._v(" 是减去滚动条宽度后可用于内容的显示，文档的可见部分的视窗大小，它们一般比前者大小更小。在大多数情况下，我们需要 "),e("strong",[t._v("可用")]),t._v(" 的窗口宽度以绘制或放置某些东西，所以一般应该使用 "),e("code",[t._v("documentElement.clientHeight/Width")]),t._v(" 获取窗口尺寸大小。")]),t._v(" "),e("p",[t._v("⚠️ 当 HTML 中没有 "),e("code",[t._v("<!DOCTYPE HTML>")]),t._v(" 时，顶层级（top-level）几何属性的工作方式可能就会有所不同，可能会出现一些不可预计的错误情况。因此在现代 HTML 中始终都应该写 "),e("code",[t._v("DOCTYPE")]),t._v("。")]),t._v(" "),e("p",[t._v("对于页面的宽高可以使用根文档元素节点 "),e("code",[t._v("document.documentElement")]),t._v(" 的属性 "),e("code",[t._v("scrollWidth/ScrollHeight")]),t._v(" 获取文档的完整大小。")]),t._v(" "),e("p",[t._v("⚠️ 但在 Chrome/Safari/Opera 浏览器中，如果没有滚动条 "),e("code",[t._v("document.documentElement.scrollHeight")]),t._v(" 甚至可能小于 "),e("code",[t._v("document.documentElement.clientHeight")]),t._v(" 理论上讲，这些不一致来源于远古时代，而非「聪明」的逻辑。为了可靠地获得完整的文档高度，我们应该采用以下这些属性的最大值：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" scrollHeight "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Full document height, with scrolled out part: '")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" scrollHeight"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("获取当前滚动")]),t._v("\n文档的滚动状态可以使用 "),e("code",[t._v("document.documentElement.scrollLeft/Top")]),t._v(" 获取，但在较旧的基于 WebKit 的浏览器中则不行，如在 Safari（bug "),e("a",{attrs:{href:"https://bugs.webkit.org/show_bug.cgi?id=5991",target:"_blank",rel:"noopener noreferrer"}},[t._v("5991"),e("OutboundLink")],1),t._v("）中，我们应该使用 "),e("code",[t._v("document.body")]),t._v(" 而不是 "),e("code",[t._v("document.documentElement")]),t._v("。💡 或者使用更通用的方法 "),e("code",[t._v("window.pageXOffset/pageYOffset")]),t._v(" 获取。")]),t._v(" "),e("p",[e("strong",[t._v("滚动页面")])]),t._v(" "),e("p",[t._v("有多种方法实现页面滚动：")]),t._v(" "),e("ul",[e("li",[t._v("通过赋值修改属性 "),e("code",[t._v("document.documentElement.scrollTop/Left")]),t._v(" 滚动页面（Safari 除外，而应该使用 "),e("code",[t._v("document.body.scrollTop/Left")]),t._v(" 代替）。")]),t._v(" "),e("li",[t._v("通过方法 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh/docs/Web/API/Window/scrollBy",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("window.scrollBy(x,y)")]),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh/docs/Web/API/Window/scrollTo",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("window.scrollTo(pageX,pageY)")]),e("OutboundLink")],1),t._v(" 滚动页面，它们更简单且适用于所有浏览器。\n"),e("ul",[e("li",[t._v("方法 "),e("code",[t._v("scrollBy(x,y)")]),t._v(" 将页面滚动至 "),e("strong",[t._v("相对于当前位置的 "),e("code",[t._v("(x, y)")]),t._v(" 位置")]),t._v("。例如，"),e("code",[t._v("scrollBy(0,10)")]),t._v(" 会将页面向下滚动 "),e("code",[t._v("10px")]),t._v("。")]),t._v(" "),e("li",[t._v("方法 "),e("code",[t._v("scrollTo(pageX,pageY)")]),t._v(" 将页面滚动至 "),e("strong",[t._v("绝对坐标")]),t._v("，使得可见部分的左上角具有相对于文档左上角的坐标 "),e("code",[t._v("(pageX, pageY)")]),t._v("。就像设置了 "),e("code",[t._v("scrollLeft/scrollTop")]),t._v(" 一样。")])])]),t._v(" "),e("li",[t._v("通过方法 "),e("a",{attrs:{href:"https://developer.mozilla.org/zh/docs/Web/API/Element/scrollIntoView",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("elem.scrollIntoView(top)")]),e("OutboundLink")],1),t._v(" 将滚动页面以使 "),e("code",[t._v("elem")]),t._v(" 元素可在视窗中显示，其参数 "),e("code",[t._v("top")]),t._v(" 是一个布尔值，用于设置元素 "),e("code",[t._v("elem")]),t._v(" 滚动后的定位。\n"),e("ul",[e("li",[t._v("如果 "),e("code",[t._v("top=true")]),t._v("（默认值），页面滚动使 "),e("code",[t._v("elem")]),t._v(" 出现在窗口顶部，即元素的上边缘与窗口顶部对齐。")]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("top=false")]),t._v("，页面滚动使 "),e("code",[t._v("elem")]),t._v(" 出现在窗口底部，即元素的底部边缘与窗口底部对齐。")])])])]),t._v(" "),e("p",[t._v("⚠️ 必须在 DOM 完全构建好之后才能通过 JavaScript 滚动页面，如果尝试从 "),e("code",[t._v("<head>")]),t._v(" 中的脚本滚动页面，它将无法正常工作。")]),t._v(" "),e("p",[e("strong",[t._v("禁止滚动")])]),t._v(" "),e("p",[t._v("有时候我们需要使文档「不可滚动」，如网页一般会使用弹出框显示一条信息以立即引起注意时（消息覆盖在文档上，如 Bootstrap 库中的 modal 插件），我们希望访问者与该消息而不是与文档进行交互，因此需要禁止页面滚动，需要设置  "),e("code",[t._v('document.body.style.overflow = "hidden"')]),t._v(" 这样页面就会「冻结」在当前位置，可以通过 "),e("code",[t._v("document.body.sthle.overflow=''")]),t._v(" 取消禁止命令。")]),t._v(" "),e("p",[t._v("💡 这个方法的缺点是会使滚动条消失，如果滚动条占用了一些空间，它原本占用的空间就会空出来，那么内容就会「跳」进去以填充它使得页面布局有细微的改变，在视觉上有卡顿感，这看起来有点奇怪。我们可以对比冻结前后的 "),e("code",[t._v("clientWidth")]),t._v(" 如果它增加了（滚动条消失后），那么我们可以在 "),e("code",[t._v("document.body")]),t._v(" 中滚动条原来的位置处"),e("strong",[t._v("通过添加 "),e("code",[t._v("padding")]),t._v(" 来替代滚动条")]),t._v("，保持了滚动条冻结前后文档内容宽度相同。")])])}),[],!1,null,null,null);s.default=n.exports}}]);