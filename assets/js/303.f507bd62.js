(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{1397:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"generator"}},[t._v("Generator")]),t._v(" "),a("p",[t._v("å¸¸è§„å‡½æ•°åªä¼šè¿”å›ä¸€ä¸ªå•ä¸€å€¼ï¼ˆæˆ–è€…ä¸è¿”å›ä»»ä½•å€¼ï¼‰ï¼Œè€Œä½¿ç”¨ç‰¹æ®Šçš„è¯­æ³•ç»“æ„ "),a("code",[t._v("function* funcName() {...}")]),t._v("ï¼Œå³æ‰€è°“çš„ Generator å‡½æ•°ï¼Œå¯ä»¥"),a("strong",[t._v("æŒ‰éœ€ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿”å›ï¼ˆä½¿ç”¨å…³é”®å­— "),a("code",[t._v("yield")]),t._v("ï¼‰å¤šä¸ªå€¼")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// generator function çš„å£°æ˜")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ğŸ’¡ "),a("code",[t._v("function* f(â€¦)")]),t._v(" æˆ– "),a("code",[t._v("function *f(â€¦)")]),t._v(" è¿™ä¸¤ç§å‡½æ•°å£°æ˜è¯­æ³•éƒ½æ˜¯å¯¹çš„ï¼Œä½†æ˜¯é€šå¸¸æ›´å€¾å‘äºç¬¬ä¸€ç§è¯­æ³•ï¼Œå› ä¸ºæ˜Ÿå· "),a("code",[t._v("*")]),t._v(" è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ª generator å‡½æ•°ï¼Œå®ƒæè¿°çš„æ˜¯å‡½æ•°ç§ç±»è€Œä¸æ˜¯åç§°ï¼Œå› æ­¤ "),a("code",[t._v("*")]),t._v(" åº”è¯¥å’Œ "),a("code",[t._v("function")]),t._v(" å…³é”®å­—ç´§è´´ä¸€èµ·ã€‚")]),t._v(" "),a("p",[t._v("Generator å‡½æ•°ä¸å¸¸è§„å‡½æ•°çš„è¡Œä¸ºä¸åŒï¼Œæ­¤ç±»å‡½æ•°è¢«è°ƒç”¨æ—¶"),a("strong",[t._v("ä¸ä¼šè¿è¡Œå…¶ä»£ç ")]),t._v("ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªè¢«ç§°ä¸º generator object "),a("strong",[t._v("å¯è¿­ä»£å¯¹è±¡")]),t._v("æ¥ç®¡ç†æ‰§è¡Œæµç¨‹ã€‚")]),t._v(" "),a("p",[t._v("generator å¯¹è±¡çš„ä¸»è¦æ–¹æ³•å°±æ˜¯ "),a("code",[t._v(".next()")]),t._v("ï¼Œå½“è¯¥æ–¹æ³•è¢«è°ƒç”¨æ—¶å®ƒä¼šæ¢å¤å‡½æ•°çš„è¿è¡Œï¼Œæ‰§è¡Œç›´åˆ°æœ€è¿‘çš„ "),a("code",[t._v("yield <value>")]),t._v(" è¯­å¥ï¼ˆ"),a("code",[t._v("value")]),t._v(" å¯ä»¥è¢«çœç•¥ï¼Œé»˜è®¤ä¸º "),a("code",[t._v("undefined")]),t._v("ï¼‰ï¼Œç„¶åå‡½æ•°å†æ¬¡æš‚åœï¼Œå¹¶å°†äº§å‡ºçš„ yielded å€¼è¿”å›åˆ°å¤–éƒ¨ä»£ç ï¼Œè¿”å›çš„ç»“æœå§‹ç»ˆæ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("value")]),t._v(" äº§å‡ºçš„ yielded çš„å€¼ã€‚")]),t._v(" "),a("li",[a("code",[t._v("done")]),t._v(" ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœ generator å‡½æ•°å·²æ‰§è¡Œå®Œæˆåˆ™ä¸º "),a("code",[t._v("true")]),t._v("ï¼Œå¦åˆ™ä¸º "),a("code",[t._v("false")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "generator function" åˆ›å»ºäº†ä¸€ä¸ª "generator object"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" one "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("one"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// {"value": 1, "done": false}')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" two "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("two"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {value: 2, done: false}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" three "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("three"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// {value: 3, done: true}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šè¿°å®ä¾‹ä»£ç çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("è°ƒç”¨å‡½æ•° "),a("code",[t._v("generateSequence()")]),t._v(" æ—¶å‡½æ•°ä½“ä»£ç å¹¶æœªå¼€å§‹æ‰§è¡Œï¼Œåªæ˜¯åˆ›å»ºäº†ä¸€ä¸ª generator å¯¹è±¡")]),t._v(" "),a("p",[a("img",{attrs:{src:"_v_images/20200502185624753_23251.png",alt:"generator object"}})])]),t._v(" "),a("li",[a("p",[t._v("ä½¿ç”¨æ–¹æ³• "),a("code",[t._v("generator.next()")]),t._v(" æ‰§è¡Œå‡½æ•°ä½“ï¼Œå¹¶è·å–å…¶ç¬¬ä¸€ä¸ªäº§å‡ºçš„ yielded å€¼åæš‚åœ")]),t._v(" "),a("p",[a("img",{attrs:{src:"_v_images/20200502185826329_5929.png",alt:"first yield"}})])]),t._v(" "),a("li",[a("p",[t._v("å†æ¬¡ä½¿ç”¨æ–¹æ³• "),a("code",[t._v("generator.next()")]),t._v(" æ‰§è¡Œå‡½æ•°ä½“ï¼Œå¹¶è·å–å…¶ç¬¬äºŒä¸ªäº§å‡ºçš„ yielded å€¼åæš‚åœ")]),t._v(" "),a("p",[a("img",{attrs:{src:"_v_images/20200502185915092_15845.png",alt:"second yield"}})])]),t._v(" "),a("li",[a("p",[t._v("å†æ¬¡ä½¿ç”¨æ–¹æ³• "),a("code",[t._v("generator.next()")]),t._v(" æ‰§è¡Œå‡½æ•°ä½“ï¼Œä»£ç å°†ä¼šæ‰§è¡Œåˆ° "),a("code",[t._v("return")]),t._v(" è¯­å¥ï¼Œæ­¤æ—¶å°±å®Œæˆè¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œå› æ­¤è¿”å›çš„å¯¹è±¡å±æ€§ "),a("code",[t._v("done")]),t._v(" ä¸º "),a("code",[t._v("true")])]),t._v(" "),a("p",[a("img",{attrs:{src:"_v_images/20200502191716709_13224.png",alt:"finish generator"}})])])]),t._v(" "),a("p",[t._v("ğŸ’¡ å¯ä»¥å†è°ƒç”¨ "),a("code",[t._v("generator.next()")]),t._v(" ä½†ä¸å†æœ‰ä»»ä½•æ„ä¹‰ï¼Œå®ƒå°†è¿”å›å¯¹è±¡ "),a("code",[t._v("{value: undefined, done: true}")])]),t._v(" "),a("h2",{attrs:{id:"generator-å¯è¿­ä»£å¯¹è±¡"}},[t._v("Generator å¯è¿­ä»£å¯¹è±¡")]),t._v(" "),a("p",[t._v("generator å¯¹è±¡æ˜¯"),a("RouterLink",{attrs:{to:"/web/Frontend/JavaScript/è¯­æ³•åŸºç¡€/å¯è¿­ä»£å¯¹è±¡.html"}},[t._v("å¯è¿­ä»£ iterable")]),t._v("çš„ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¾ªç¯ç»“æ„ for-of éå†å®ƒæ‰€æœ‰çš„å€¼ï¼Œè¿™æ ·æ¯”ä½¿ç”¨æ–¹æ³• "),a("code",[t._v("next().value")]),t._v(" ä¾æ¬¡ï¼ˆæ‰‹åŠ¨ï¼‰è¯»å–å€¼æ›´ä¼˜é›…ã€‚")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1ï¼Œç„¶åæ˜¯ 2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("âš ï¸ ä¸Šè¿°å®ä¾‹ä¼šå…ˆæ˜¾ç¤º "),a("code",[t._v("1")]),t._v("ï¼Œç„¶åæ˜¯ "),a("code",[t._v("2")]),t._v("ï¼Œç„¶åå°±æ²¡äº†ï¼ˆå®ƒä¸ä¼šæ˜¾ç¤º "),a("code",[t._v("3")]),t._v("ï¼‰ï¼Œè¿™æ˜¯å› ä¸º"),a("strong",[t._v("å½“ "),a("code",[t._v("done: true")]),t._v(" æ—¶ "),a("code",[t._v("for..of")]),t._v(" å¾ªç¯ä¼šå¿½ç•¥æœ€åä¸€ä¸ª "),a("code",[t._v("value")])]),t._v("ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦é€šè¿‡ "),a("code",[t._v("for..of")]),t._v(" å¾ªç¯æ˜¾ç¤ºæ‰€æœ‰çš„ç»“æœå¿…é¡»ä½¿ç”¨ "),a("code",[t._v("yield")]),t._v(" è¿”å›å®ƒä»¬ï¼ˆåŒ…æ‹¬æœ€åä¸€ä¸ªå€¼ï¼‰ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1ï¼Œç„¶åæ˜¯ 2ï¼Œç„¶åæ˜¯ 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ğŸ’¡ å¯¹äºå¯è¿­ä»£å¯¹è±¡å¯ä»¥ä½¿ç”¨ "),a("RouterLink",{attrs:{to:"/web/Frontend/JavaScript/è¯­æ³•åŸºç¡€/å‡½æ•°.html#å±•å¼€è¿ç®—ç¬¦"}},[t._v("spread è¯­æ³•")]),t._v(" "),a("code",[t._v("...generator")]),t._v(" å°†æ‰€æœ‰äº§å‡ºçš„ yielded å€¼éƒ½å±•å¼€ä¸ºå•ä¸ªå…ƒç´ ï¼Œä½œä¸ºå‚æ•°è¾“å…¥åˆ°å‡½æ•°ä¸­æˆ–ä½œä¸ºå…ƒç´ æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚")],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" range "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iterator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [Symbol.iterator]: function*() çš„ç®€å†™å½¢å¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹è±¡ range å…·æœ‰æ–¹æ³• [Symbol.iterator]() ä¼šè¿”å›ä¸€ä¸ª generator å¯è¿­ä»£å¯¹è±¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ƒå…·æœ‰ .next() æ–¹æ³•ï¼Œä»¥ {value: ..., done: true/false} çš„å½¢å¼è¿”å›å€¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("range"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1,2,3,4,5")]),t._v("\n")])])]),a("h2",{attrs:{id:"generator-ç»„åˆ"}},[t._v("Generator ç»„åˆ")]),t._v(" "),a("p",[t._v("Generator ç»„åˆ composition æ˜¯ generator çš„ä¸€ä¸ªç‰¹æ®ŠåŠŸèƒ½ï¼Œå¯ä»¥å°†å¤–éƒ¨çš„ generator å¯¹è±¡äº§ç”Ÿçš„å€¼ã€ŒåµŒå…¥ã€embedï¼ˆç»„åˆï¼‰åˆ°å¦ä¸€ä¸ª generator ä¸­ï¼Œå®ƒæ˜¯å°†ä¸€ä¸ª generator æµæ’å…¥åˆ°å¦ä¸€ä¸ª generator æµçš„è‡ªç„¶çš„æ–¹å¼ï¼Œä¸éœ€è¦ä½¿ç”¨é¢å¤–çš„å†…å­˜æ¥å­˜å‚¨ä¸­é—´ç»“æœã€‚")]),t._v(" "),a("p",[a("code",[t._v("yield*")]),t._v(" æŒ‡ä»¤å°†å§”æ‰˜å¦ä¸€ä¸ª Generator å‡½æ•°åˆ›å»º generator å¯¹è±¡ï¼Œå¹¶å°†å…¶äº§å‡º yield çš„å€¼ä»¿ä½›é€æ˜åœ° transparently åµŒå…¥åˆ°å½“å‰ generator å¯¹è±¡ä¸­ï¼Œå°±å¥½åƒè¿™äº›å€¼å°±æ˜¯ç”±å½“å‰çš„ generator å¯¹è±¡äº§ç”Ÿçš„ä¸€æ ·ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€ä¸ªç”Ÿæˆæ•°å­—åºåˆ—çš„ Generator å‡½æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŸºäº Generator å‡½æ•°ç”Ÿæˆä¸€ç³»åˆ—æ›´å¤æ‚çš„åºåˆ—")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generatePasswordCodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°† generateSequence(48, 57) å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡çš„æ‰€æœ‰å€¼å¤åˆ¶è¿›æ¥")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("57")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°† generateSequence(65, 90) å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡çš„æ‰€æœ‰å€¼å¤åˆ¶è¿›æ¥")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("90")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°† generateSequence(97, 122) å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡çš„æ‰€æœ‰å€¼å¤åˆ¶è¿›æ¥")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateSequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("97")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" code "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generatePasswordCodes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" String"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromCharCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz")]),t._v("\n")])])]),a("h2",{attrs:{id:"generator-æ•°æ®ä¼ é€’"}},[t._v("Generator æ•°æ®ä¼ é€’")]),t._v(" "),a("p",[t._v("å…³é”®å­— "),a("code",[t._v("yield")]),t._v(" é™¤äº†å¯ä»¥å°†å‡½æ•°å†…éƒ¨äº§ç”Ÿçš„å€¼ã€Œå‘å¤–è¾“å‡ºã€ï¼Œå®ƒè¿˜å¯ä»¥ï¼ˆé€šè¿‡ "),a("code",[t._v("nex()")]),t._v(" æ–¹æ³•ï¼‰æ¥å—å¤–éƒ¨çš„å€¼ã€Œä¼ é€’å›ã€ generator å†…ï¼Œå®ƒæ˜¯ä¸€æ¡åŒå‘è·¯ two-way streetã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ask1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2 + 2 = ?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ask1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ask2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3 * 3 = ?"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ask2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 9")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "2 + 2 = ?"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "3 * 3 = ?"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 9")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"_v_images/20200502200151184_23784.png",alt:"two-way street"}})]),t._v(" "),a("p",[t._v("ä¸Šè¿°å®ä¾‹ä»£ç çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹")]),t._v(" "),a("ol",[a("li",[t._v("ç¬¬ä¸€ä¸ª "),a("code",[t._v(".next()")]),t._v(" å¯åŠ¨äº† generator çš„æ‰§è¡Œï¼Œæ‰§è¡Œåˆ°è¾¾ç¬¬ä¸€ä¸ª "),a("code",[t._v("yield")]),t._v(" åå‡½æ•°æš‚åœ")]),t._v(" "),a("li",[t._v("ç»“æœè¢«è¿”å›åˆ°å¤–éƒ¨ä»£ç ä¸­å¹¶ "),a("code",[t._v('alert("2 + 2 = ?")')]),t._v(" å‡ºæ¥")]),t._v(" "),a("li",[t._v("ç¬¬äºŒä¸ª "),a("code",[t._v(".next(4)")]),t._v(" å°† "),a("code",[t._v("4")]),t._v(" ä½œä¸ºç¬¬ä¸€ä¸ª "),a("code",[t._v("yield")]),t._v(" çš„ç»“æœä¼ é€’å› generatorï¼Œå› æ­¤å†…éƒ¨å˜é‡ "),a("code",[t._v("ask1")]),t._v(" è·å¾—å€¼ "),a("code",[t._v("4")]),t._v("ï¼Œå¹¶æ¢å¤ generator çš„æ‰§è¡Œå› æ­¤ "),a("code",[t._v("alert(ask1)")])]),t._v(" "),a("li",[t._v("â€¦â€¦æ‰§è¡Œåˆ°è¾¾ç¬¬äºŒä¸ª "),a("code",[t._v("yield")]),t._v(" åå‡½æ•°æš‚åœï¼Œç»“æœè¢«è¿”å›åˆ°å¤–éƒ¨ä»£ç ä¸­å¹¶ "),a("code",[t._v('alert("3 * 3 = ?")')]),t._v(" å‡ºæ¥ã€‚")]),t._v(" "),a("li",[t._v("ç¬¬ä¸‰ä¸ª "),a("code",[t._v("next(9)")]),t._v(" å°† "),a("code",[t._v("9")]),t._v(" ä½œä¸ºç¬¬äºŒä¸ª "),a("code",[t._v("yield")]),t._v(" çš„ç»“æœä¼ å› generator ï¼Œå› æ­¤å†…éƒ¨å˜é‡ "),a("code",[t._v("ask2")]),t._v(" è·å¾—å€¼ "),a("code",[t._v("9")]),t._v("ï¼Œå¹¶æ¢å¤ generator çš„æ‰§è¡Œå› æ­¤ "),a("code",[t._v("alert(ask2)")]),t._v(" æ‰§è¡Œç°åœ¨åˆ°è¾¾äº†å‡½æ•°çš„æœ€åº•éƒ¨ï¼Œæ‰€ä»¥è®¿é—®å¯¹è±¡çš„å±æ€§ "),a("code",[t._v("done")]),t._v(" è¿”å› "),a("code",[t._v("true")])])]),t._v(" "),a("p",[t._v("ğŸ’¡ ç¬¬ä¸€æ¬¡è°ƒç”¨ "),a("code",[t._v("generator.next()")]),t._v(" åº”è¯¥æ˜¯ä¸å¸¦å‚æ•°çš„ï¼ˆå¦‚æœå¸¦å‚æ•°ï¼Œé‚£ä¹ˆè¯¥å‚æ•°ä¼šè¢«å¿½ç•¥ï¼‰")]),t._v(" "),a("p",[t._v("é™¤äº†åœ¨å¤–éƒ¨å¯ä»¥é€šè¿‡è°ƒç”¨å¸¦å‚æ•°çš„æ–¹æ³• "),a("code",[t._v(".next(arg)")]),t._v(" å°†ä¸€ä¸ªå€¼ä¼ é€’åˆ° generator å†…ï¼Œä½œä¸º yield çš„ç»“æœï¼›è¿˜å¯ä»¥åœ¨å¤–éƒ¨è°ƒç”¨æ–¹æ³• "),a("code",[t._v(".throw(error)")]),t._v(" ä¼ å›ä¸€ä¸ª "),a("code",[t._v("error")]),t._v(" ä½¿å¾—å‡½æ•°å†… yield å‡ºç°äº†ä¸€ä¸ªå¼‚å¸¸ï¼Œå¹¶é€šè¿‡  "),a("code",[t._v("try...catch")]),t._v(" ç»“æ„æ•è·ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2 + 2 = ?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The execution does not reach here, because the exception is thrown above"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¾ç¤ºè¿™ä¸ª error")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" generator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" question "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ngenerator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("throw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The answer is not found in my database"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°† error ä¼ å› generator å†…")]),t._v("\n")])])]),a("p",[t._v("ğŸ’¡ åœ¨ç°ä»£ JavaScript ä¸­ generator å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œä½†æœ‰æ—¶å®ƒä»¬ä¼šæ´¾ä¸Šç”¨åœºï¼Œå®ƒä»¬éå¸¸é€‚åˆåˆ›å»ºå¯è¿­ä»£å¯¹è±¡ã€‚æ­¤å¤–åœ¨ Web ç¼–ç¨‹ä¸­ç»å¸¸ä½¿ç”¨æ•°æ®æµï¼ŒGenerator å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è°ƒç”¨ä»£ç äº¤æ¢æ•°æ®çš„èƒ½åŠ›æ˜¯éå¸¸ç‹¬ç‰¹çš„ï¼Œå› æ­¤è¿™æ˜¯å¦ä¸€ä¸ªéå¸¸é‡è¦çš„ä½¿ç”¨åœºæ™¯ã€‚")]),t._v(" "),a("h2",{attrs:{id:"async-iterator-å’Œ-generator"}},[t._v("Async iterator å’Œ generator")]),t._v(" "),a("p",[t._v("å‚è€ƒï¼š"),a("a",{attrs:{href:"https://zh.javascript.info/async-iterators-generators",target:"_blank",rel:"noopener noreferrer"}},[t._v("Async iterator å’Œ generator"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("å¸¸è§„çš„ iterator å’Œ generator å¯ä»¥å¾ˆå¥½åœ°å¤„ç†é‚£äº›ä¸éœ€è¦èŠ±è´¹æ—¶é—´æ¥ç”Ÿæˆçš„çš„æ•°æ®ï¼Œä½†åœ¨ Web å¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°æ•°æ®æµï¼Œå®ƒä»¬å¸¸å¸¸æ˜¯åˆ†æ®µæµåŠ¨ flows chunk-by-chunk çš„ï¼Œå¦‚ä¸‹è½½æˆ–ä¸Šä¼ å¤§æ–‡ä»¶ï¼Œå¼‚æ­¥è¿­ä»£å™¨ Async iterator å…è®¸æˆ‘ä»¬å¯¹é€šè¿‡å¼‚æ­¥è¯·æ±‚è€Œå¾—åˆ°çš„æ•°æ®è¿›è¡Œè¿­ä»£ï¼Œå¦‚é€šè¿‡ç½‘ç»œåˆ†æ®µ chunk-by-chunk ä¸‹è½½æ•°æ®æ—¶ï¼Œè€Œå¼‚æ­¥ç”Ÿæˆå™¨ Async generator å¯ä»¥ç”Ÿæˆå¯è¿­ä»£å¯¹è±¡ï¼Œä¼šä½¿è¿™ä¸€æ­¥éª¤æ›´åŠ æ–¹ä¾¿ã€‚")]),t._v(" "),a("p",[t._v("Async iterator ä¸å¸¸è§„ iterator åœ¨è¯­æ³•ä¸Šçš„åŒºåˆ«ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("Iterable")]),t._v(" "),a("th",[t._v("Async Iterable")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("æä¾› iterator çš„å¯¹è±¡æ–¹æ³•")]),t._v(" "),a("td",[a("code",[t._v("Symbol.iterator")])]),t._v(" "),a("td",[a("code",[t._v("Symbol.asyncIterator")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("next()")]),t._v(" è¿”å›çš„å€¼æ˜¯")]),t._v(" "),a("td",[a("code",[t._v("{value:â€¦, done: true/false}")])]),t._v(" "),a("td",[t._v("resolve æˆ "),a("code",[t._v("{value:â€¦, done: true/false}")]),t._v(" çš„ "),a("code",[t._v("Promise")])])])])]),t._v(" "),a("p",[t._v("Async generator ä¸å¸¸è§„ generator åœ¨è¯­æ³•ä¸Šçš„åŒºåˆ«ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("Generator")]),t._v(" "),a("th",[t._v("Async generator")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("å£°æ˜æ–¹å¼")]),t._v(" "),a("td",[a("code",[t._v("function*")])]),t._v(" "),a("td",[a("code",[t._v("async function*")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("next()")]),t._v(" è¿”å›çš„å€¼æ˜¯")]),t._v(" "),a("td",[a("code",[t._v("{value:â€¦, done: true/false}")])]),t._v(" "),a("td",[t._v("resolve æˆ "),a("code",[t._v("{value:â€¦, done: true/false}")]),t._v(" çš„ "),a("code",[t._v("Promise")])])])])]),t._v(" "),a("p",[t._v("å®ä¾‹ï¼šæœ‰å¾ˆå¤šåœ¨çº¿æœåŠ¡éƒ½æ˜¯å‘é€çš„åˆ†é¡µæ•°æ®ï¼ˆpaginated dataï¼‰ï¼Œå¦‚å½“æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨æ—¶ï¼Œä¸€ä¸ªè¯·æ±‚åªè¿”å›ã€Œä¸€é¡µã€åŒ…å«ä¸€ä¸ªé¢„å®šä¹‰æ•°é‡çš„ç”¨æˆ·ï¼ˆä¾‹å¦‚ 100 ä¸ªç”¨æˆ·ï¼‰ï¼Œå¹¶æä¾›äº†æŒ‡å‘ä¸‹ä¸€é¡µçš„ URLã€‚è¿™ç§æ¨¡å¼éå¸¸å¸¸è§ï¼Œä¸ä»…å¯ç”¨äºè·å–ç”¨æˆ·åˆ—è¡¨ï¼Œè¿™ç§æ¨¡å¼è¿˜å¯ä»¥ç”¨äºä»»æ„ä¸œè¥¿ï¼Œå¦‚ GitHub å…è®¸ä½¿ç”¨ç›¸åŒçš„åˆ†é¡µæäº¤ paginated fashion çš„æ–¹å¼æ‰¾å› "),a("code",[t._v("commit")]),t._v("ï¼Œ")]),t._v(" "),a("ul",[a("li",[t._v("æˆ‘ä»¬åº”è¯¥æäº¤ä¸€ä¸ªè¯·æ±‚åˆ°è¿™ç§æ ¼å¼çš„ URLï¼š"),a("code",[t._v("https://api.github.com/repos/<repo>/commits")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("å®ƒè¿”å›ä¸€ä¸ªåŒ…å« 30 æ¡ commit çš„ JSONï¼Œå¹¶åœ¨è¿”å›çš„ "),a("code",[t._v("Link")]),t._v(" header ä¸­æä¾›äº†æŒ‡å‘ä¸‹ä¸€é¡µçš„é“¾æ¥ã€‚")]),t._v(" "),a("li",[t._v("ç„¶åæˆ‘ä»¬å¯ä»¥å°†è¯¥é“¾æ¥ç”¨äºä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œä»¥è·å–æ›´å¤š commitï¼Œä»¥æ­¤ç±»æ¨ã€‚")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¼‚æ­¥ç”Ÿæˆå™¨è¾“å‡ºå…·æœ‰æ‰€æœ‰ "),a("code",[t._v("commit")]),t._v(" çš„å¯è¿­ä»£å¯¹è±¡ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ååˆ†æ–¹ä¾¿åœ°éå†å®ƒä»¬")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" repo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'javascript-tutorial/en.javascript.info'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨äºè·å– commit çš„ GitHub ä»“åº“")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchCommits")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("https://api.github.com/repos/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("repo"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/commits")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (1)")]),t._v("\n      headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'User-Agent'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Our script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// github è¦æ±‚ user-agent header")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" body "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (2) å“åº”çš„æ˜¯ JSONï¼ˆarray of commitsï¼‰")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (3) å‰å¾€ä¸‹ä¸€é¡µçš„ URL åœ¨ header ä¸­ï¼Œæå–å®ƒ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" nextPage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v('<(.*?)>; rel="next"')]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    nextPage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nextPage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" nextPage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nextPage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" commit "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (4) ä¸€ä¸ªæ¥ä¸€ä¸ªåœ° yield commitï¼Œç›´åˆ°æœ€åä¸€é¡µ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" commit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" commit "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchCommits")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("repo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç† commit")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸Šè¿°å®ä¾‹ä»£ç çš„æ‰§è¡Œæµç¨‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("ä½¿ç”¨æµè§ˆå™¨çš„ "),a("a",{attrs:{href:"https://zh.javascript.info/fetch",target:"_blank",rel:"noopener noreferrer"}},[t._v("fetch"),a("OutboundLink")],1),t._v(" æ–¹æ³•ä»è¿œç¨‹ URL ä¸‹è½½æ•°æ®ã€‚å®ƒå…è®¸æˆ‘ä»¬æä¾›æˆæƒå’Œå…¶ä»– headerï¼Œå¦‚æœéœ€è¦ â€” è¿™é‡Œ GitHub éœ€è¦çš„æ˜¯ "),a("code",[t._v("User-Agent")]),t._v("ã€‚")]),t._v(" "),a("li",[a("code",[t._v("fetch")]),t._v(" çš„ç»“æœè¢«è§£æä¸º JSONï¼Œè¿™æ˜¯ "),a("code",[t._v("fetch")]),t._v(" ç‰¹å®šçš„æ–¹æ³•ã€‚")]),t._v(" "),a("li",[t._v("ä»å“åº”ï¼ˆresponseï¼‰çš„ "),a("code",[t._v("Link")]),t._v(" header ä¸­è·å–å‰å¾€ä¸‹ä¸€é¡µçš„ URLã€‚å®ƒæœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹å®ƒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregexpï¼‰ã€‚å‰å¾€ä¸‹ä¸€é¡µçš„ URL çœ‹èµ·æ¥å°±åƒè¿™æ · "),a("code",[t._v("https://api.github.com/repositories/93253246/commits?page=2")]),t._v(" è¿™æ˜¯ç”± GitHub è‡ªå·±ç”Ÿæˆçš„ã€‚")]),t._v(" "),a("li",[t._v("ç„¶åå°†æ¥æ”¶åˆ°çš„æ‰€æœ‰ "),a("code",[t._v("commit")]),t._v(" éƒ½ yield å‡ºæ¥ï¼Œå½“å®ƒ yield å®Œæˆæ—¶ï¼Œå°†è§¦å‘ä¸‹ä¸€ä¸ª "),a("code",[t._v("while(url)")]),t._v(" è¿­ä»£ï¼Œå¹¶å‘å‡ºä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚")])])])}),[],!1,null,null,null);s.default=e.exports}}]);