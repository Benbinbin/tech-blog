(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{1303:function(s,t,a){"use strict";a.r(t);var n=a(18),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("é€šè¿‡ pm2 é…ç½®æ–‡ä»¶å¯¹é¡¹ç›®è¿è¡Œæ–¹å¼è¿›è¡Œå®šåˆ¶ï¼ŒåŒ…æ‹¬è¿›ç¨‹æ•°é‡ã€æ—¥å¿—æ–‡ä»¶ç›®å½•ç­‰ã€‚")]),s._v(" "),a("p",[s._v("å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª JSON æ–‡æ¡£ä»¥é…ç½®å‚æ•°")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ğŸ“ pm2.conf.json")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"apps"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pm2-test-server"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é¡¹ç›®/è¿›ç¨‹åç§°")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œå¦‚æœä½¿ç”¨ Express æ­å»ºçš„é¡¹ç›®å°±æ˜¯ bin/www")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"watch"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘å¬é¡¹ç›®æ–‡ä»¶å˜åŒ–è‡ªåŠ¨é‡å¯ï¼Œå¼€å‘ç¯å¢ƒå¯ä»¥å¼€å¯")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"ignore_watch"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node_modules"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logs"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¿½ç•¥ç›‘å¬çš„æ–‡ä»¶")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"instances"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤šè¿›ç¨‹é…ç½®")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"error_file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logs/err.log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é”™è¯¯æ—¥å¿—å­˜æ”¾çš„æ–‡æ¡£")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"out_file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"logs/out.log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¾“å‡ºæ—¥å¿—å­˜æ”¾çš„æ–‡æ¡£")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"log_date_format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YYYY-MM-DD HH:mm:ss"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¯ä¸€æ¡è®°å½•çš„æ—¶é—´æ ¼å¼")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("éœ€è¦åœ¨ pm2 è¿è¡Œå‘½ä»¤éœ€è¦æ·»åŠ ç›¸åº”çš„é…ç½®æ–‡ä»¶")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ğŸ“ package.json")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo \\"Error: no test specified\\" && exit 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env NODE_ENV=dev nodemon app.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŒ‰ç…§é…ç½®æ–‡ä»¶æ¥å¯åŠ¨é¡¹ç›®")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"prd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env NODE_ENV=production pm2 start pm2.cong.json"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("ğŸ’¡ ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ "),a("code",[s._v("pm2 ecosystem")]),s._v(" ç”Ÿæˆä¸€ä¸ª "),a("a",{attrs:{href:"https://pm2.keymetrics.io/docs/usage/application-declaration/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ecosystem File"),a("OutboundLink")],1),s._v(" é…ç½®æ¨¡æ¿æ–‡ä»¶æ¥è®¾ç½®å‚æ•°ã€‚")]),s._v(" "),a("p",[s._v("ğŸ’¡ ç”±äºç³»ç»Ÿé™åˆ¶äº†æ¯ä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨çš„å†…å­˜å¤§å°ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ pm2 é…ç½®å¤šè¿›ç¨‹æ¥æé«˜æœåŠ¡å™¨çš„æ€§èƒ½ã€‚ä½†å¦‚æœä½¿ç”¨å¤šè¿›ç¨‹æ¥è¿è¡Œé¡¹ç›®ï¼Œä¼šå­˜åœ¨æ— æ³•å…±äº«å†…å­˜çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ redis æ•°æ®åº“å…±äº« session æ¥è§£å†³ç±»ä¼¼çš„é—®é¢˜ã€‚")])])}),[],!1,null,null,null);t.default=r.exports}}]);