(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1277:function(e,_,v){"use strict";v.r(_);var t=v(18),a=Object(t.a)({},(function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"mysql-基础操作"}},[e._v("MySQL 基础操作")]),e._v(" "),t("p",[e._v("参考："),t("a",{attrs:{href:"https://devhints.io/mysql",target:"_blank",rel:"noopener noreferrer"}},[e._v("MySQL cheatsheet"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"注释"}},[e._v("注释")]),e._v(" "),t("p",[t("code",[e._v("-- comments")]),e._v(" 添加注释")]),e._v(" "),t("h2",{attrs:{id:"操作数据库"}},[e._v("操作数据库")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("SHOW DATABASES;")]),e._v(" 查询所有数据库")]),e._v(" "),t("li",[t("code",[e._v("CREATE SCHEMA databaseName;")]),e._v(" 或 "),t("code",[e._v("CREATE DATABASE databasename;")]),e._v(" 创建数据库")])]),e._v(" "),t("p",[t("img",{attrs:{src:v(794),alt:"使用 MySQL Workbench 建库"}})]),e._v(" "),t("p",[e._v("💡 可以设置数据编码方式 "),t("code",[e._v("CREATE DATABASE databaseName CHARACTER SET utf-8;")]),e._v(" 或使用 "),t("code",[e._v("ALTER DATABASE databaseName CHARACTER SET utf-8")]),e._v(" 切换数据编码方式")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("USE databaseName")]),e._v(" 切换数据库 ⚠️ 在操作数据之前都需要先指定连接到哪个数据库。")]),e._v(" "),t("li",[t("code",[e._v("DROP DATABASE databaseName")]),e._v(" 删除数据库")])]),e._v(" "),t("h2",{attrs:{id:"操作表格"}},[e._v("操作表格")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("SHOW TABLES;")]),e._v(" 查看数据库所有表格")]),e._v(" "),t("li",[t("code",[e._v("CREATE TABLE table (field1 type1, field2 type2, PRIMARY KEY (field1));")]),e._v(" 创建表格，需要指定每个字段的数据类型")])]),e._v(" "),t("p",[t("img",{attrs:{src:v(795),alt:"使用 MySQL Workbench 建表"}})]),e._v(" "),t("p",[t("img",{attrs:{src:v(796),alt:"示例表格各字段的配置"}})]),e._v(" "),t("ul",[t("li",[e._v("修改表\n"),t("ul",[t("li",[t("code",[e._v("ALTER TABLE tableName MODIFY field1 type1")]),e._v(" 修改原有的字段数据类型")]),e._v(" "),t("li",[t("code",[e._v("ALTER TABLE tableName CHANGE old_name_field1 new_name_field1 type1")]),e._v(" 修改原有的字段名称")]),e._v(" "),t("li",[t("code",[e._v("ALTER TABLE tableName ADD new_name_field1 type1")]),e._v(" 添加新字段")]),e._v(" "),t("li",[t("code",[e._v("ALTER TABLE tableName DROP field1")]),e._v(" 删除已有字段")])])])]),e._v(" "),t("p",[t("img",{attrs:{src:v(797),alt:"使用 MySQL Workbench 修改表"}})]),e._v(" "),t("ul",[t("li",[t("code",[e._v("DROP TABLE tableName")]),e._v(" 删除表\n"),t("img",{attrs:{src:v(798),alt:"使用 MySQL Workbench 删除表"}})])]),e._v(" "),t("h2",{attrs:{id:"操作数据"}},[e._v("操作数据")]),e._v(" "),t("p",[e._v("先使用语句 "),t("code",[e._v("USE databaseName;")]),e._v(" 切换到需要操作的数据库")]),e._v(" "),t("h3",{attrs:{id:"新增"}},[e._v("新增")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("INSERT INTO table1 (field1, field2) VALUES (value1, value2);")]),e._v(" 向表格添加数据。💡 对于关键字，如 "),t("code",[e._v("password")]),e._v(" 应使用反单引号包括 "),t("code",[e._v("fieldName")])])]),e._v(" "),t("h3",{attrs:{id:"查询"}},[e._v("查询")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("SELECT * FROM table;")]),e._v(" 查询表格数据，每一行数据都包含所有字段")]),e._v(" "),t("li",[t("code",[e._v("SELECT field1, field2, ... FROM table;")]),e._v(" 查询表格数据，且只返回指定的字段")]),e._v(" "),t("li",[t("code",[e._v("SELECT * FROM talbe WHERE condition")]),e._v(" 基于条件查询表格数据\n"),t("ul",[t("li",[e._v("在 "),t("code",[e._v("condition")]),e._v(" 中最常使用等于 "),t("code",[e._v("=")]),e._v(" 或不等于 "),t("code",[e._v("<>")]),e._v(" 构建条件 "),t("code",[e._v("SELECT * FROM table WHERE field='value';")]),e._v("；如果需要模糊匹配，可以使用  "),t("code",[e._v("LIKE")]),e._v(" 并结合正则表达式 "),t("code",[e._v("SELECT * FROM table WHERE field LIKE '%keyword%';")]),e._v(" 💡 "),t("code",[e._v("%")]),e._v(" 适配任意数量的字符，可以产生一组特定的匹配模式")]),e._v(" "),t("li",[e._v("在 "),t("code",[e._v("condition")]),e._v(" 中可以使用 "),t("code",[e._v("AND")]),e._v(" 构建多个条件并列成立的复杂条件")]),e._v(" "),t("li",[e._v("在 "),t("code",[e._v("condition")]),e._v(" 中可以使用 "),t("code",[e._v("OR")]),e._v(" 构建多个条件之一成立的复杂条件")]),e._v(" "),t("li",[e._v("在 "),t("code",[e._v("condition")]),e._v(" 中使用 "),t("code",[e._v("IS Null")]),e._v(" 或 "),t("code",[e._v("IS NOT NULL")]),e._v(" 来分别查询字段值是否为空 "),t("code",[e._v("SELECT * FROM table WHERE field IS NOT NULL;")])])])]),e._v(" "),t("li",[t("code",[e._v("SELECT field FROM table ORDER BY field1, field2;")]),e._v(" 查询结果按照字段排序（默认升序，如果需要降序可以添加关键字 "),t("code",[e._v("DESC")]),e._v("）")])]),e._v(" "),t("h3",{attrs:{id:"更新"}},[e._v("更新")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("UPDATE table SET field=new_value WHERE condition;")]),e._v(" 更新指定记录（行数据）的指定字段的值")])]),e._v(" "),t("h3",{attrs:{id:"删除"}},[e._v("删除")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("DELETE FROM table WHERE condition;")]),e._v(" 删除指定记录（行数据）")])]),e._v(" "),t("p",[e._v("⚠️ 一般不使用 "),t("code",[e._v("DELETE FROM")]),e._v(" 语句，因为相应的数据会完全地从数据库去除。而是为每个记录（行数据）添加一个表示状态 "),t("code",[e._v("state")]),e._v(" 的字段，通过 "),t("code",[e._v("UPDATE")]),e._v(" 语句来切换记录的状态，一般以 "),t("code",[e._v("0")]),e._v(" 或 "),t("code",[e._v("1")]),e._v(" 表示记录是否为"),t("strong",[e._v("可访问")]),e._v("的状态，通过这种形式实现「软删除」，然后在查询时设置基于 "),t("code",[e._v("state")]),e._v(" 条件 "),t("code",[e._v("SELECT * FROM table WHERE state<>'0';")]),e._v("，这种删除方式可以方便地实现数据恢复。")]),e._v(" "),t("h2",{attrs:{id:"其他"}},[e._v("其他")]),e._v(" "),t("p",[e._v("💡 在更新或删除数据时可能会遇到以下错误")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("Error Code: "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1175")]),e._v(". You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column.  To disable safe mode, toggle the option "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" Preferences -"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" SQL Editor and reconnect.\n")])])]),t("p",[e._v("可以在 sql 脚本中执行默认 "),t("code",[e._v("SET SQL_SAFE_UPDATES = 0")]),e._v(" 或根据错误信息提示修改 MySQL 配置，将安全模式关闭。")]),e._v(" "),t("p",[t("img",{attrs:{src:v(799),alt:"取消「编辑安全模式」，并重新连接数据库"}})])])}),[],!1,null,null,null);_.default=a.exports},794:function(e,_,v){e.exports=v.p+"assets/img/20201028233648996_31134.7599f700.png"},795:function(e,_,v){e.exports=v.p+"assets/img/20201029000708364_8016.86bc30d1.png"},796:function(e,_,v){e.exports=v.p+"assets/img/20201029001254149_100.1f5b4a6b.png"},797:function(e,_,v){e.exports=v.p+"assets/img/20201029002257549_32719.0ec7a88b.png"},798:function(e,_,v){e.exports=v.p+"assets/img/20201029002103142_412.afe3c06d.png"},799:function(e,_,v){e.exports=v.p+"assets/img/20201029111455398_473.9d836684.png"}}]);