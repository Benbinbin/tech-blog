(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{1338:function(t,s,n){"use strict";n.r(s);var a=n(18),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"æ¶ˆæ¯é€šè®¯"}},[t._v("æ¶ˆæ¯é€šè®¯")]),t._v(" "),n("p",[t._v("å‚è€ƒï¼š")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://developer.chrome.com/extensions/messaging",target:"_blank",rel:"noopener noreferrer"}},[t._v("Message Passing"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/sxei/chrome-plugin-demo#%E6%B6%88%E6%81%AF%E9%80%9A%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¶ˆæ¯é€šä¿¡"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("ä¸åŒçš„ JavaScript æ–‡æ¡£ï¼ˆä¸€èˆ¬æŒ‡ content scriptsã€background è¿è¡Œçš„ scriptsã€popup é¡µé¢æ‰€å¼•ç”¨çš„ scriptsï¼‰æ˜¯åœ¨ä¸åŒçš„ä½œç”¨åŸŸä¸­ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡ Chrome æä¾›çš„ "),n("a",{attrs:{href:"https://developer.chrome.com/extensions/api_index",target:"_blank",rel:"noopener noreferrer"}},[t._v("API"),n("OutboundLink")],1),t._v(" è¿›è¡Œäº‹ä»¶è§¦å‘å’Œç›‘å¬ä»¥å®ç°æ•°æ®ä¼ é€’å’Œ"),n("a",{attrs:{href:"https://developer.chrome.com/extensions/messaging",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¶ˆæ¯é€šä¿¡"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("h2",{attrs:{id:"background-ä¸-content-script"}},[t._v("background ä¸ content script")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ“ background.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ä¸€ä¸ª browser action çš„ç›‘å¬å™¨ï¼Œç›‘å¬ onClicked äº‹ä»¶")]),t._v("\nchrome"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browserAction"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onClicked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buttonClicked"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("buttonClicked")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("tab")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„æ’ä»¶å›¾æ ‡æ—¶ä¼šæ‰§è¡Œè¯¥å‡½æ•°")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‚æ•° tab æ˜¯ä¸€ä¸ªå…³äºå½“å‰ç½‘é¡µæ ‡ç­¾çš„ä¿¡æ¯çš„å¯¹è±¡")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" msg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user clicked!"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼ é€’æ¶ˆæ¯")]),t._v("\n  chrome"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tabs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ“ content.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ content script ç›‘å¬æ¶ˆæ¯")]),t._v("\nchrome"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onMessage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receiver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("receiver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sender"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sendResponse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“æ¥å—åˆ°æ¶ˆæ¯åæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€ä¸ªå‚æ•° request æ˜¯æ‰€æ¥æ”¶åˆ°çš„æ¶ˆæ¯")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user clicked!"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Do something!")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"popup-è¯»å–-background-æ•°æ®"}},[t._v("popup è¯»å– background æ•°æ®")]),t._v(" "),n("p",[t._v("popup script å¯ä»¥ç›´æ¥è°ƒç”¨ background script ä¸­çš„æ–¹æ³•å’Œå˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—® background page çš„ DOM")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ“ background.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æˆ‘æ˜¯ background'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ“ popup.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" bg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chrome"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extension"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBackgroundPage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¿é—®bgçš„å‡½æ•°")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¿é—® bg çš„DOM")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);