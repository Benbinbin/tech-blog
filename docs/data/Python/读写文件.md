# 读写文件

## 读取文件

```python
f = open('my_path/my_file.txt', 'r')
file_data = f.read()
f.close()
```

**解释**：
* 函数 `open` **打开文件**，需要输入**文件路径**，`open` 函数会**返回文件对象**，Python 通过该对象与文件本身交互。可输入第二个参数指定**打开文件时采用的模式**：
    * `r` 为**只读模式**（默认值），接受文件中包含的文本，作为字符串以供读取
    * `w` 为**写入模式**，会把**该文档原包含的所有内容将删除**再准备写入，若文件不存在会自动创建一个文件
    * `a` 为**附加模式**，会**保留原有内容**在文件**末尾写入**

* 方法 `read` 访问文件**对象的内容**，接受文件中包含的文本并以字符串的形式读存。
    * **默认读取所有的内容**，若传入**整型参数**可以读取固定长度的字符内容，并保持在该位置以备继续读取。
    * 对于文本编辑器而言的**非打印字符**如换行符 `\n` 在读取时只是另一种字符，可读进字符串中
    * 方法 `readline` **每次读一行**，在输出时都会在字符串末尾有换行符号 `\n`（仅在文件不以空行为结尾时的**最后一行不显示换行符**）
    * 使用语法 `for line in file` **循环访问**文件中的**各行**内容。
    ```python
    camelot_lines = []
    f = open("camelot.txt")
    for line in f:
        camelot_lines.append(line.strip())
    print(camelot_lines)
    f.close()
    ```

    :hammer:

    ```shell
    ["We're the knights of the round table", "We dance whenever we're able"]
    ```

    使用方法 `strip()` **删掉换行符**

* 方法 `close` 关闭文件以释放占用的资源。此外推荐使用 `with` 关键字，可以在使用完文件后**自动关闭该文件**

    ```python
    with open('my_path/my_file.txt','r') as f:
        file_data = f.read()
    ```

    * `as` 后的 `f` 是作为存储 `open` 函数所返回的文件对象的**变量**
    * `with` 关键字打开文件，其作用是**在缩进代码执行之后**自动关闭文件

## 写入文件
:warning: 在打开文件时使用 **`w` 写入模式**，会把**该文档原包含的所有内容将删除**再准备写入。若文件不存在会自动创建一个文件。

将数据写入文件的步骤：

1. 使用写入模式打开文件 `f = open("file_name", "w")`
2. 使用方法 `f.write(string)` 写入数据
3. 使用方法 `f.close()` 关闭文件。也可以使用 **`with` 复合句** 打开文件。

:warning: 唯一写入的数据类型时**字符串**，其他数据可以使用函数 `str()` 转换为字符串类型或使用 [f 字符串](./字符串和文本.md) 插入其他数据类型变成字符串格式。

:bulb: 对于系统文件的更多操作可以使用 [os 操作系统接口模块](./常用库.md)