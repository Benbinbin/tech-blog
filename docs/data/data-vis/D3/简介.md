---
tags:
  - d3js
  - data-vis
---

# 简介
[D3](https://d3js.org/)，Data-Driven Documents 或 D3.js 是一个基于数据来操作 DOM 的 JavaScript 库，它可以将几乎任意数据绑定到 Document Object Model，DOM 文档对象模型上，然后根据数据来计算对应 DOM 的属性值，以「驱动」DOM 变化。

D3 不是一个框架因此也没有操作上的限制，它遵循现有的 Web 标准可以灵活地帮助你使用 HTML、CSS、SVG 以及 Canvas 来展示数据。D3 的运行速度很快，支持大数据集和动态交互以及动画。它提供大量的可视化组件（来自[官方](https://github.com/d3/d3/blob/master/API.md)和[社区开发者](https://www.npmjs.com/browse/keyword/d3-module)）来驱动 DOM 操作。

:bulb: D3 5+ 版本支持现代浏览器，而 D3 4 版本可以支持 IE 9+，更旧版本的 D3 可以支持更旧的浏览器。

:bulb: D3 也可以在 Node 和 web workers 环境中运行。但在 Node 环境中需要提供自己创建的 DOM，推荐使用 [JSDOM](https://github.com/jsdom/jsdom)

## D3 不是一种新的表示方法
D3 不引入新的视觉表示方法，而是借助于现有的 Web 标准，包括 HTML、CSS、SVG 等，如使用 D3 创建 `svg` 元素，这样就可以与标准的 Web API 进行无缝结合，使用外部样式表进行样式化，也可以使用复合过滤器效果、虚线和裁剪等功能，而且可以使用浏览器内置调试工具来进行调试，在浏览器提供新的技术或 Web API 时，可以直接升级对接使用而无需要等待 D3 版本升级来适配。

## 下载安装
* 在[官网](https://d3js.org/)下载[源码](https://github.com/d3/d3/releases/download/v6.2.0/d3.zip)（当前最新版本为 `v6.2.0`），再在项目中引入本地 JavaScript 文件。

* 通过包管理工具，以模块形式引入项目
    ```bash
    # for npm
    npm install d3 --save

    # for yarn
    yarn add d3 --save
    ```

* 通过官网提供的 CDN 引入，也可以使用  [CDNJS](https://cdnjs.com/libraries/d3) 或 [unpkg](https://unpkg.com/d3/) 提供 CDN

    ```html
    <script src="https://d3js.org/d3.v5.js"></script>

    <!-- minified version -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    ```

* 可以单独使用 `d3` 中的某个模块, 比如单独使用 [`d3-selection`](https://github.com/d3/d3-selection):

    * 使用 CDN 导入

    ```
    <!-- 使用 CDN 导入 -->
    <script src="https://d3js.org/d3-selection.v1.js"></script>
    ```

    * 基于 `webpack` 或其他打包工具进行构建时

    ```
    // 在项目中载入 D3 部分模块
    import {scaleLinear} from "d3-scale";

    // 或者导入 d3 的全部功能并且设置命名空间
    import * as d3 from "d3";
    ```

    * 在 Nodejs 环境中

    ```
    var d3 = require("d3");
    ```

    也可以导入多个模块然后将这些模块集合到 `d3` 对象中, 此时使用 [`Object.assign`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign):

    ```
    var d3 = Object.assign({},
        require("d3-format"),
        require("d3-geo"),
        require("d3-geo-projection"));
    ```