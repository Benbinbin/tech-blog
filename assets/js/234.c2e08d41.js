(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{1265:function(t,e,a){"use strict";a.r(e);var n=a(18),s=Object(n.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"mongodb-基础命令"}},[t._v("MongoDb 基础命令")]),t._v(" "),a("p",[t._v("参考：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/mongo-shell/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mongo Shell Quick Reference"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.mongodb.com/manual/mongo/#working-with-the-mongo-shell",target:"_blank",rel:"noopener noreferrer"}},[t._v("Working with the mongo Shell"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gist.github.com/bradtraversy/f407d642bdc3b31681bc7e56d95485b6",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB Cheat Sheet"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("🎦 "),a("a",{attrs:{href:"https://www.youtube.com/playlist?list=PLliocbKHJNwvYvA3paPKUg86qLKrwuNsd",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB 入门"),a("OutboundLink")],1),t._v(" | 小马技术")]),t._v(" "),a("li",[t._v("🎦 "),a("a",{attrs:{href:"https://youtu.be/-56x56UppqQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB Crash Course"),a("OutboundLink")],1),t._v(" | Traversy Media")])]),t._v(" "),a("p",[t._v("可以使用 GUI 界面 "),a("a",{attrs:{href:"https://www.mongodb.com/products/compass",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB Compass"),a("OutboundLink")],1),t._v(" 来操作数据库；但推荐使用命令行界面 "),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/mongo-shell/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mongo shell"),a("OutboundLink")],1),t._v(" 来进行更高效的操作，可使用的详细命令可参考官方文档 "),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/method/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mongo Shell Methods"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("💡 可以使用"),a("strong",[t._v("链式")]),t._v("来组合不同的命令构成复杂的查询语句，如 "),a("code",[t._v("db.posts.find().limit(2).sort({ title: 1 }).pretty()")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("db.posts.find()")]),t._v(" 查询当前数据库 "),a("code",[t._v("db")]),t._v(" 的集合 "),a("code",[t._v("posts")]),t._v(" 中所有的文档")]),t._v(" "),a("li",[a("code",[t._v(".limit(2)")]),t._v(" 限制最多打印前 2 个文档")]),t._v(" "),a("li",[a("code",[t._v(".sort({ title: 1 })")]),t._v(" 输出的文档基于其中的 "),a("code",[t._v("title")]),t._v(" 域升序排列")]),t._v(" "),a("li",[a("code",[t._v(".pretty()")]),t._v(" 以更易于阅读的方式打印文档内容")])]),t._v(" "),a("h2",{attrs:{id:"帮助命令"}},[t._v("帮助命令")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("help")]),t._v(" 列出帮助相关的命令")]),t._v(" "),a("li",[a("code",[t._v("db.help()")]),t._v(" 列出 database 可用的方法和帮助信息")]),t._v(" "),a("li",[a("code",[t._v("db.<collection>.help()")]),t._v(" 列出集合可用的方法")])]),t._v(" "),a("h2",{attrs:{id:"用户"}},[t._v("用户")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("show users")]),t._v(" 列出当前数据库所有用户")])]),t._v(" "),a("h2",{attrs:{id:"数据库"}},[t._v("数据库")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("show dbs")]),t._v(" 查看所有数据库")]),t._v(" "),a("li",[a("code",[t._v("db")]),t._v(" 查看当前数据库")]),t._v(" "),a("li",[a("code",[t._v("db.stats()")]),t._v(" 查看当前数据库的信息概述")]),t._v(" "),a("li",[a("code",[t._v("use <DatabaseName>")]),t._v(" 切换到指定的数据库，如果没有就会以该名创建一个")]),t._v(" "),a("li",[a("code",[t._v("db.dropDatabase()")]),t._v(" 删除当前数据库")])]),t._v(" "),a("h2",{attrs:{id:"集合"}},[t._v("集合")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("show collections")]),t._v(" 列出当前数据库的所有集合")]),t._v(" "),a("li",[a("code",[t._v("db.createCollection(CollectionName)")]),t._v(" 创建一个新的集合，名为 "),a("code",[t._v("CollectionName")])]),t._v(" "),a("li",[a("code",[t._v("db.<CollectionName>.renameCollection(NewCollectionName)")]),t._v(" 将集合 "),a("code",[t._v("CollectionName")]),t._v(" 改名为 "),a("code",[t._v("NewCollectionName")])]),t._v(" "),a("li",[a("code",[t._v("db.<CollectionName>.drop()")]),t._v(" 删除集合")])]),t._v(" "),a("h2",{attrs:{id:"文档"}},[t._v("文档")]),t._v(" "),a("h3",{attrs:{id:"插入与更新"}},[t._v("插入与更新")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("db.<CollectionName>.insert(<document[s]>)")]),t._v(" 向集合插入文档，相当于 "),a("code",[t._v(".insertOne()")]),t._v("（或文档组成的数组，相当于 "),a("code",[t._v(".insertMany()")]),t._v("）")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("db.posts.insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     title: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我的第一篇博客"')]),t._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     content: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已经开始写博客了，太激动了。"')]),t._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     date: Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("💡 可以使用 JavaScript 语法，如 for 循环实现插入多个文档")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("for"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i++ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     db.posts.insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".         title: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"我的第"')]),t._v(" + i + "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"篇博客"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("💡 使用 JavaScript 语法（内置对象）"),a("code",[t._v("Date()")]),t._v(" 可以获取当前时间")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.insertOne(<document>)")]),t._v(" 向集合插入一个文档")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.insertMany(<documents>)")]),t._v(" 向集合插入多个文档（以对象数组形式传递）")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.update(<query>, <update>, <setting>)")]),t._v(" 更新匹配的文档\n💡 使用特殊的命令来更新字段")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$set")]),t._v(" 更新或新增字段值，默认以覆写的方式来更新第一个匹配的文档，如果希望更新部分字段，可以使用 "),a("code",[t._v("$set")]),t._v(" 命令 "),a("code",[t._v('db.posts.update({"title":"test"}, {$set: {"rank": 10} })')]),t._v(" 更新排名字段为 "),a("code",[t._v("10")]),t._v("，其他字段不变")]),t._v(" "),a("li",[a("code",[t._v("unset")]),t._v(" 删除匹配文档的指定字段，如 "),a("code",[t._v('db.posts.update({"title":"test"}, {$unset: {"rank": true} })')])]),t._v(" "),a("li",[a("code",[t._v("$inc")]),t._v(" 表示递增 increment，如 "),a("code",[t._v('db.posts.update({title:"test"}, {$inc: {rank: 2}})')]),t._v(" 将匹配文档的排名字段的值递增 "),a("code",[t._v("2")])]),t._v(" "),a("li",[a("code",[t._v("$mul")]),t._v(" 表示相乘 multiple，如 "),a("code",[t._v('db.posts.update({title:"test"}, {$mul: {rank: 2}})')]),t._v(" 将匹配文档的排名字段的值乘以 "),a("code",[t._v("2")])]),t._v(" "),a("li",[a("code",[t._v("$rename")]),t._v(" 重命名字段，如 "),a("code",[t._v('db.posts.update({title:"test"}, {$rename: {"rank": "score"}})')]),t._v(" 将字段 "),a("code",[t._v("rank")]),t._v(" 重命名为 "),a("code",[t._v("score")])])]),t._v(" "),a("p",[t._v("💡 可以传递一个对象作为第三个参数（可选）进行"),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/method/db.collection.update/",target:"_blank",rel:"noopener noreferrer"}},[t._v("更详细的更新行为配置"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     upsert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     multi"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     writeConcern"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     collation"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     arrayFilters"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filterdocument1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     hint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Available starting in MongoDB 4.2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("如设置命令 "),a("code",[t._v("upsert: true")]),t._v(" 在未匹配到文档时，基于 "),a("code",[t._v("<update>")]),t._v(" 创建一个新文档，即将 update 和 insert 功能结合起来；默认只会更新第一个匹配的文档，可以设置命令 "),a("code",[t._v("multi: true")]),t._v(" 更新所有匹配的文档。")])])]),t._v(" "),a("h3",{attrs:{id:"查询"}},[t._v("查询")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("db.<CollectionName>.find({key: 'value'})")]),t._v(" 查看集合符合条件的文档，如果参数为空对象 "),a("code",[t._v("{}")]),t._v(" 则返回所有文档\n💡 可以使用 "),a("code",[t._v("db.<CollectionName>.find().pretty()")]),t._v(" 以更易于阅读的排版方式打印出文档内容\n💡 可以在"),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/method/db.collection.find/#db.collection.find",target:"_blank",rel:"noopener noreferrer"}},[t._v("设置更复杂的匹配条件"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("使用 "),a("code",[t._v("$gte")]),t._v(" 大于等于，"),a("code",[t._v("$gt")]),t._v(" 大于，"),a("code",[t._v("$lte")]),t._v(" 小于等于，"),a("code",[t._v("$lt")]),t._v(" 小于， "),a("code",[t._v("$eq")]),t._v(" 等于，"),a("code",[t._v("$ne")]),t._v(" 不等于设置查询范围，如 "),a("code",[t._v('db.posts.find({"rank": {$gte: 4}})')]),t._v("  查询排名大于等于 "),a("code",[t._v("4")]),t._v(" 的文档")]),t._v(" "),a("li",[t._v("使用正则表达式 "),a("code",[t._v("/reg/")]),t._v(" 设置需要匹配的模式，如 "),a("code",[t._v('db.posts.find({"title": /u/})')]),t._v(" 查询标题中包含 "),a("code",[t._v("u")]),t._v(" 的文档")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("$or")]),t._v(" 或，"),a("code",[t._v("$in")]),t._v(" 包含，"),a("code",[t._v("$exists")]),t._v(" 存在（一般针对该域/字段是否存在文档中），如 "),a("code",[t._v('db.posts.find({"rank": {$in: [3, 4]} })')]),t._v(" 查询排名为 "),a("code",[t._v("3")]),t._v(" 或 "),a("code",[t._v("4")]),t._v(" 的文档；"),a("code",[t._v('db.posts.find({$or: [{"title": /u/}, {"rank":{$gte:4}}] })')]),t._v("  查询满足两个条件之一的文档；"),a("code",[t._v("db.bios.find(death: {$exists: false }})")]),t._v(" 查询仍运行的 bios 程序")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("$elemMatch")]),t._v(" 查询字段值为"),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/operator/query/elemMatch/",target:"_blank",rel:"noopener noreferrer"}},[t._v("对象数组"),a("OutboundLink")],1),t._v("的嵌套型的数据结构，匹配数组对象中属性值为特定值的文档")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("$all")]),t._v(" 操作符查询字段值为数组且"),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/operator/query/all/",target:"_blank",rel:"noopener noreferrer"}},[t._v("包含所有指定的元素"),a("OutboundLink")],1),t._v("，类似于 "),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/operator/query/and/",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("$and")]),t._v(" 操作符"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("💡 可以传递第二个参数（可选） "),a("code",[t._v("db.collection.find(<query>, <projection>)")]),t._v(" 设置抽取文档要返回的"),a("strong",[t._v("部分域/字段）")]),t._v("，需要返回的字段需要显示地设置为 "),a("code",[t._v("true")]),t._v(" 或 "),a("code",[t._v("1")]),t._v(" 否则默认不返回（除了 "),a("code",[t._v("_id")]),t._v(" 字段，它是默认打印的），如 "),a("code",[t._v("db.posts.find({}, {title:true, rank:1, _id:0})")]),t._v(" 返回所有文档的 "),a("code",[t._v("title")]),t._v(" 和  "),a("code",[t._v("rank")]),t._v(" 字段， 但不输出 "),a("code",[t._v("_id")]),t._v(" 字段（默认会打印）")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.find().sort({key: 1})")]),t._v(" 将查询得到的文档以给定字段升序排列，如果需要降序排列可以设置为 "),a("code",[t._v("key: -1")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.find().limit(n)")]),t._v("  只输出查询得到的前 "),a("code",[t._v("n")]),t._v(" 个文档")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.find().skip()")]),t._v(" 跳过查询得到的前 "),a("code",[t._v("n")]),t._v(" 个文档，结合 "),a("code",[t._v(".limit()")]),t._v(" 可以实现分页查询")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("db.<CollectionName>.findOne({key: 'value'})")]),t._v(" 按照条件查询集合第一个匹配的文档")])])]),t._v(" "),a("h3",{attrs:{id:"索引"}},[t._v("索引")]),t._v(" "),a("p",[t._v("给文档建立索引可以便于搜寻，"),a("strong",[t._v("MongoDB 默认使用软件给每个文档生成的 "),a("code",[t._v("_id")]),t._v(" 作为索引")]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("db.<CollectionName>.getIndexes()")]),t._v(" 获取集合中文档的所有索引")]),t._v(" "),a("li",[a("code",[t._v("db.<CollectionName>.createIndex({rank:-1})")]),t._v(" 添加以排名作为索引，顺序为降序排列，如果需要索引值唯一可以设置参数 "),a("code",[t._v("db.<CollectionName>.createIndex({rank:-1}, {unique: true})")])]),t._v(" "),a("li",[a("code",[t._v("db.<CollectionName>.dropIndex({rank: -1})")]),t._v(" 删除索引，需要传递与创建索引时相同的名称")])]),t._v(" "),a("p",[t._v("💡 基于索引进行搜索")]),t._v(" "),a("p",[t._v("基于字段 "),a("code",[t._v("title")]),t._v(" 创建索引，格式是文本")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("db.posts.createIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("使用"),a("a",{attrs:{href:"https://docs.mongodb.com/manual/reference/operator/query/text/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("（文本）索引进行搜索"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("db.posts.find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$text")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$search")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Post O"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回 title 包含 Post O 的文档")]),t._v("\n\ndb.posts.find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$text")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$search")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Post T"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回 title 包含 Post T 的文档")]),t._v("\n")])])]),a("h3",{attrs:{id:"其他"}},[t._v("其他")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("db.<CollectionName>.count()")]),t._v(" 查看集合所包含的文档数量")]),t._v(" "),a("li",[a("code",[t._v("db.<CollectionName>.distinct(key)")]),t._v(" 查看集合指定域/字段的所有（非重复）值，返回一个数组")]),t._v(" "),a("li",[a("code",[t._v("db.<CollectionName>.remove({key: 'value'})")]),t._v(" 删除集合匹配的文档，如果参数为空对象 "),a("code",[t._v("{}")]),t._v(" 则删除集合中所有的文档")])]),t._v(" "),a("h2",{attrs:{id:"其他-2"}},[t._v("其他")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v(".forEach(function() {})")]),t._v(" 循环遍历元素")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("db.posts.find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".forEach"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("function"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("doc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  print"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Blog Post: "')]),t._v(" + doc.title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);