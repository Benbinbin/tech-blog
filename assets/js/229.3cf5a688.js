(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{1242:function(t,r,s){"use strict";s.r(r);var e=s(18),n=Object(e.a)({},(function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"错误与异常"}},[t._v("错误与异常")]),t._v(" "),s("h2",{attrs:{id:"错误-error"}},[t._v("错误 Error")]),t._v(" "),s("p",[t._v("编程中会出现三大类型的错误：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("语法错误 SyntaxError")]),t._v("：常常由于拼写错误造成")]),t._v(" "),s("li",[s("strong",[t._v("用法错误")]),t._v("：要求计算机执行不合理的操作时，就存在用法错误，如传递不符合数据类型的数据。Python 的 "),s("code",[t._v("NameError")]),t._v(" 和 "),s("code",[t._v("TypeError")]),t._v(" 消息通常都是这种类型的错误。当程序运行时弹出 "),s("code",[t._v("Traceback")]),t._v(" 表示「程序出错停止时正在执行的内容」。\n"),s("ul",[s("li",[t._v("当调用函数时出现这类错误，一般返回 "),s("strong",[s("code",[t._v("Traceback")])]),t._v(" 来显示函数调用流程以尝试告诉你导致该错误的位置。")]),t._v(" "),s("li",[t._v("最后一行告诉发生了什么类型的错误")]),t._v(" "),s("li",[t._v("由于错误内容出现在"),s("strong",[t._v("最近的代码中")]),t._v("，我们可以"),s("strong",[t._v("从最后")]),t._v("开始分析这段错误信息。在（最后一行的）上一行显示了出错的部分，还"),s("strong",[t._v("提供了行号")]),t._v("，基于 "),s("code",[t._v("Traceback")]),t._v(" 可以找到错误根源并解决问题（但注意，错误消息提供的行号可能不是实际需要更改的行）。")])])]),t._v(" "),s("li",[s("strong",[t._v("逻辑错误")]),t._v("：程序能正常运行没有崩溃，但是行为和你想要的不一样，因为所写的和想要的不一样。")])]),t._v(" "),s("p",[t._v("较为常见的一种错误类型是 "),s("code",[t._v("Syntax Error")]),t._v(" 这种错误类型是在程序运行之前，对程序对代码进行"),s("strong",[t._v("语法检查")]),t._v("时发现了问题。")]),t._v(" "),s("p",[t._v("参考链接：\nPython 教程页面的"),s("a",{attrs:{href:"https://docs.python.org/3/tutorial/errors.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("错误和异常"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"语法错误-syntax-error"}},[t._v("语法错误 Syntax Error")]),t._v(" "),s("p",[t._v("没有遵守正确的 Python 语法时，无法解析代码就会发生语法错误。")]),t._v(" "),s("p",[t._v("如多输入或少输入了括号，常有一个插入号 "),s("code",[t._v("^")]),t._v(" 表示错误的位置")]),t._v(" "),s("p",[s("strong",[t._v("注意")]),t._v("：Python 在代码运行之"),s("strong",[t._v("前")]),t._v("就进行语法错误的检测")]),t._v(" "),s("h2",{attrs:{id:"异常-exception"}},[t._v("异常 Exception")]),t._v(" "),s("p",[t._v("异常 Exception 是在代码运行时出现的问题与错误有区别，其中特别注意异常不包括语法错误。异常值是 python 中内置的一类值，如 "),s("code",[t._v("NameErro")]),t._v(" 或 "),s("code",[t._v("TypeError")]),t._v("。")]),t._v(" "),s("p",[t._v("当代码导致异常发生也称为"),s("strong",[t._v("抛出异常")]),t._v("，通过 Python 输出的异常值可以知道代码发生了何种错误。")]),t._v(" "),s("h3",{attrs:{id:"索引错误-indexerror"}},[t._v("索引错误 IndexError")]),t._v(" "),s("p",[t._v("一般是索引超出了范围导致 "),s("code",[t._v("IndexError")])]),t._v(" "),s("h3",{attrs:{id:"值异常-valueerror"}},[t._v("值异常 ValueError")]),t._v(" "),s("p",[t._v("类型正确，"),s("strong",[t._v("值不符合")])]),t._v(" "),s("h3",{attrs:{id:"变量名错误-nameerror"}},[t._v("变量名错误 NameError")]),t._v(" "),s("p",[t._v("一般引用一个未定义的变量名")]),t._v(" "),s("h3",{attrs:{id:"zerodivisionerror"}},[t._v("ZeroDivisionError")]),t._v(" "),s("p",[t._v("在运算中以 "),s("code",[t._v("0")]),t._v(" 作为除数引起的错误")]),t._v(" "),s("h3",{attrs:{id:"处理异常"}},[t._v("处理异常")]),t._v(" "),s("h4",{attrs:{id:"try-语句"}},[t._v("Try 语句")]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("try")]),t._v(" 语句处理异常，可以在遇到"),s("strong",[t._v("指定的异常值时执行特定的代码")]),t._v("，避免程序崩溃。")]),t._v(" "),s("p",[s("code",[t._v("try")]),t._v(" 语句有4种子句：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("try")]),t._v(" 是唯一"),s("strong",[t._v("必需")]),t._v("的子句，子句下缩进的代码块是"),s("strong",[t._v("首先运行的")])]),t._v(" "),s("li",[s("code",[t._v("except")]),t._v(" 下缩进的代码块是在运行 "),s("code",[t._v("try")]),t._v(" 代码块时"),s("strong",[t._v("遇到异常")]),t._v("后执行的。默认是遇到"),s("strong",[t._v("所有异常")]),t._v("都会运行该代码块，可以在关键字 "),s("code",[t._v("except")]),t._v(" 后指定"),s("strong",[t._v("特定类型的异常")]),t._v("才运行该代码块。")]),t._v(" "),s("li",[s("code",[t._v("else")]),t._v(" 在运行 "),s("code",[t._v("try")]),t._v(" 块时"),s("strong",[t._v("没有遇到异常")]),t._v("时才运行的代码块")]),t._v(" "),s("li",[s("code",[t._v("finally")]),t._v(" 在离开 "),s("code",[t._v("try")]),t._v(" 语句前，"),s("strong",[t._v("在任何形式下都将运行 "),s("code",[t._v("finally")]),t._v(" 块中的代码")]),t._v("（即使要结束程序）")])]),t._v(" "),s("p",[t._v("示例")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 捕获在运行try代码块遇到的ValueError异常")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" ValueError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    soem code\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用包含多种异常的元组可同时捕获多种异常")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ValueError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" KeyboardInterrupt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果我们希望**根据异常执行不同的代码块**，可以添加多个`except`块。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" ValueError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" KeyboardInterrupt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n")])])]),s("h4",{attrs:{id:"访问错误消息"}},[t._v("访问错误消息")]),t._v(" "),s("p",[t._v("在处理异常时，可以"),s("strong",[t._v("访问其错误消息")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" ZeroDivisionError "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ZeroDivisionError occurred: {}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("🔨")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("ZeroDivisionError occurred: division by zero\n")])])]),s("p",[t._v("或访问未指定的具体错误")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("except")]),t._v(" Exception "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    some code\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Exception occurred: {}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("code",[t._v("Exception")]),t._v(" 是 Python 所有内置异常的 "),s("strong",[s("a",{attrs:{href:"https://docs.python.org/3/library/exceptions.html#bltin-exceptions",target:"_blank",rel:"noopener noreferrer"}},[t._v("基础类"),s("OutboundLink")],1)]),t._v("。")])])}),[],!1,null,null,null);r.default=n.exports}}]);