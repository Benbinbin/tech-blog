(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{1236:function(t,s,n){"use strict";n.r(s);var a=n(18),_=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"读写文件"}},[t._v("读写文件")]),t._v(" "),n("h2",{attrs:{id:"读取文件"}},[t._v("读取文件")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("f "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my_path/my_file.txt'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfile_data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("解释")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("函数 "),n("code",[t._v("open")]),t._v(" "),n("strong",[t._v("打开文件")]),t._v("，需要输入"),n("strong",[t._v("文件路径")]),t._v("，"),n("code",[t._v("open")]),t._v(" 函数会"),n("strong",[t._v("返回文件对象")]),t._v("，Python 通过该对象与文件本身交互。可输入第二个参数指定"),n("strong",[t._v("打开文件时采用的模式")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("r")]),t._v(" 为"),n("strong",[t._v("只读模式")]),t._v("（默认值），接受文件中包含的文本，作为字符串以供读取")]),t._v(" "),n("li",[n("code",[t._v("w")]),t._v(" 为"),n("strong",[t._v("写入模式")]),t._v("，会把"),n("strong",[t._v("该文档原包含的所有内容将删除")]),t._v("再准备写入，若文件不存在会自动创建一个文件")]),t._v(" "),n("li",[n("code",[t._v("a")]),t._v(" 为"),n("strong",[t._v("附加模式")]),t._v("，会"),n("strong",[t._v("保留原有内容")]),t._v("在文件"),n("strong",[t._v("末尾写入")])])])]),t._v(" "),n("li",[n("p",[t._v("方法 "),n("code",[t._v("read")]),t._v(" 访问文件"),n("strong",[t._v("对象的内容")]),t._v("，接受文件中包含的文本并以字符串的形式读存。")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("默认读取所有的内容")]),t._v("，若传入"),n("strong",[t._v("整型参数")]),t._v("可以读取固定长度的字符内容，并保持在该位置以备继续读取。")]),t._v(" "),n("li",[t._v("对于文本编辑器而言的"),n("strong",[t._v("非打印字符")]),t._v("如换行符 "),n("code",[t._v("\\n")]),t._v(" 在读取时只是另一种字符，可读进字符串中")]),t._v(" "),n("li",[t._v("方法 "),n("code",[t._v("readline")]),t._v(" "),n("strong",[t._v("每次读一行")]),t._v("，在输出时都会在字符串末尾有换行符号 "),n("code",[t._v("\\n")]),t._v("（仅在文件不以空行为结尾时的"),n("strong",[t._v("最后一行不显示换行符")]),t._v("）")]),t._v(" "),n("li",[t._v("使用语法 "),n("code",[t._v("for line in file")]),t._v(" "),n("strong",[t._v("循环访问")]),t._v("文件中的"),n("strong",[t._v("各行")]),t._v("内容。")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("camelot_lines "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nf "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"camelot.txt"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" line "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    camelot_lines"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("camelot_lines"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("🔨")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"We\'re the knights of the round table"')]),t._v(", "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"We dance whenever we\'re able"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("p",[t._v("使用方法 "),n("code",[t._v("strip()")]),t._v(" "),n("strong",[t._v("删掉换行符")])])]),t._v(" "),n("li",[n("p",[t._v("方法 "),n("code",[t._v("close")]),t._v(" 关闭文件以释放占用的资源。此外推荐使用 "),n("code",[t._v("with")]),t._v(" 关键字，可以在使用完文件后"),n("strong",[t._v("自动关闭该文件")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my_path/my_file.txt'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    file_data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" f"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("ul",[n("li",[n("code",[t._v("as")]),t._v(" 后的 "),n("code",[t._v("f")]),t._v(" 是作为存储 "),n("code",[t._v("open")]),t._v(" 函数所返回的文件对象的"),n("strong",[t._v("变量")])]),t._v(" "),n("li",[n("code",[t._v("with")]),t._v(" 关键字打开文件，其作用是"),n("strong",[t._v("在缩进代码执行之后")]),t._v("自动关闭文件")])])])]),t._v(" "),n("h2",{attrs:{id:"写入文件"}},[t._v("写入文件")]),t._v(" "),n("p",[t._v("⚠️ 在打开文件时使用 "),n("strong",[n("code",[t._v("w")]),t._v(" 写入模式")]),t._v("，会把"),n("strong",[t._v("该文档原包含的所有内容将删除")]),t._v("再准备写入。若文件不存在会自动创建一个文件。")]),t._v(" "),n("p",[t._v("将数据写入文件的步骤：")]),t._v(" "),n("ol",[n("li",[t._v("使用写入模式打开文件 "),n("code",[t._v('f = open("file_name", "w")')])]),t._v(" "),n("li",[t._v("使用方法 "),n("code",[t._v("f.write(string)")]),t._v(" 写入数据")]),t._v(" "),n("li",[t._v("使用方法 "),n("code",[t._v("f.close()")]),t._v(" 关闭文件。也可以使用 "),n("strong",[n("code",[t._v("with")]),t._v(" 复合句")]),t._v(" 打开文件。")])]),t._v(" "),n("p",[t._v("⚠️ 唯一写入的数据类型时"),n("strong",[t._v("字符串")]),t._v("，其他数据可以使用函数 "),n("code",[t._v("str()")]),t._v(" 转换为字符串类型或使用 "),n("RouterLink",{attrs:{to:"/data/Python/字符串和文本.html"}},[t._v("f 字符串")]),t._v(" 插入其他数据类型变成字符串格式。")],1),t._v(" "),n("p",[t._v("💡 对于系统文件的更多操作可以使用 "),n("RouterLink",{attrs:{to:"/data/Python/常用库.html"}},[t._v("os 操作系统接口模块")])],1)])}),[],!1,null,null,null);s.default=_.exports}}]);