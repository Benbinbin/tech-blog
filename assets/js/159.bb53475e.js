(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{1041:function(t,s,a){t.exports=a.p+"assets/img/20200430203811548_10538.4e35c84c.png"},1411:function(t,s,a){"use strict";a.r(s);var n=a(18),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"å›è°ƒ"}},[t._v("å›è°ƒ")]),t._v(" "),n("p",[t._v("åœ¨ä¸€äº›åœºæ™¯ä¸­éœ€è¦ç­‰å¾…å¦ä¸€ä¸ªç¨‹åºæ‰§è¡Œè¿”å›åæ‰å¯ä»¥æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œå¦‚éœ€è¦ç­‰å¾…è„šæœ¬åŠ è½½å®Œæˆåæ‰å¯ä»¥å¯¹å…¶ä¸­çš„å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼ŒJavaScript ä¸»æœº host æä¾›çš„è®¸å¤šå‡½æ•°æˆ–äº‹ä»¶ç›‘å¬å™¨å®ç°è¿™ç§è®¡åˆ’çš„å¼‚æ­¥è¡Œä¸º asynchronous actionsï¼Œå¦‚å‡½æ•° "),n("code",[t._v("setTimeout")]),t._v("ï¼ˆæ ¹æ®ç»™å®šçš„æ—¶é—´å»¶åæ‰§è¡Œï¼‰ã€äº‹ä»¶ "),n("code",[t._v("onload")]),t._v("ï¼ˆèµ„æºåŠ è½½å®Œä»¥åæ‰§è¡Œç»™å®šçš„æ“ä½œï¼‰ã€"),n("code",[t._v("onerror")]),t._v("ï¼ˆèµ„æºåŠ è½½å‘ç”Ÿé”™è¯¯æ‰§è¡Œç»™å®šçš„æ“ä½œï¼‰ç­‰ã€‚")]),t._v(" "),n("p",[t._v("å¼‚æ­¥æ‰§è¡ŒæŸé¡¹åŠŸèƒ½çš„å‡½æ•°åº”è¯¥æä¾›ä¸€ä¸ª callback å‚æ•°ï¼Œä¸€èˆ¬ä¼ é€’çš„æ˜¯åŒ¿åå‡½æ•°ç”¨äºåœ¨ç›¸åº”äº‹ä»¶å®Œæˆæ—¶è°ƒç”¨ï¼Œè¯¥ callback å›è°ƒå‡½æ•°ä¼šä½¿ç”¨ JavaScript æä¾›çš„ä¸€äº›å‡½æ•°æˆ–äº‹ä»¶ç›‘å¬å™¨æ¥æ§åˆ¶ä½•æ—¶æ‰§è¡Œã€‚è¿™ç§å‡½æ•°çš„ç¼–å†™é£æ ¼ç§°ä¸º "),n("strong",[t._v("ã€ŒåŸºäºå›è°ƒã€çš„å¼‚æ­¥ç¼–ç¨‹é£æ ¼")]),t._v("ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// callback æ¥å—éœ€è¦å¼‚æ­¥æ‰§è¡Œçš„ä»£ç ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadScript")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" script "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è„šæœ¬åŠ è½½å®Œä»¥åæ‰§è¡Œ callback ä¸­çš„ä»£ç ")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å…¥ä¸€æ®µè„šæœ¬ï¼Œå¹¶åœ¨è„šæœ¬åŠ è½½å®Œä»¥åæ‰§è¡Œ callback æ“ä½œ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadScript")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Cool, the script ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" is loaded")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" _ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰€åŠ è½½çš„è„šæœ¬ä¸­å£°æ˜çš„å‡½æ•°")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"å¤„ç†-error"}},[t._v("å¤„ç† error")]),t._v(" "),n("p",[t._v("åœ¨å‡½æ•°ä¸»ä½“æ‰§è¡Œæ—¶å¯èƒ½å‡ºç°é”™è¯¯ï¼Œå¯ä»¥åœ¨ callback å›è°ƒå‡½æ•°ä¸­è®¾ç½®å¤šä¸ªå‚æ•°ï¼Œå¹¶é’ˆå¯¹ä¸åŒçš„æƒ…å†µä¼ é€’ä¸åŒçš„å‚æ•°æ‰§è¡Œç›¸åº”çš„å¤„ç†ï¼Œçº¦å®š callback å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸º "),n("code",[t._v("error")]),t._v(" è€Œä¿ç•™çš„ï¼Œä¸€æ—¦å‡ºç° "),n("code",[t._v("error")]),t._v(" å°±æ‰§è¡Œ "),n("code",[t._v("callback(errArgs)")]),t._v(" å³ä¼ é€’ä¸é”™è¯¯ç›¸å…³çš„å‚æ•°æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼›ç¬¬äºŒä¸ªå‚æ•°ï¼ˆæˆ–ä¸‹å‡ ä¸ªå‚æ•°ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼‰ç”¨äºä¸»ä½“ä»£ç æ‰§è¡ŒæˆåŠŸçš„ç»“æœï¼Œæ­¤æ—¶è°ƒç”¨æ–¹å¼æ˜¯ "),n("code",[t._v("callback(null, result1, result2â€¦)")]),t._v(" ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©ºï¼Œå³é”™è¯¯ç›¸å…³çš„æ“ä½œä¸æ‰§è¡Œï¼Œè€Œæ‰§è¡ŒæˆåŠŸåçš„å¼‚æ­¥è¡Œä¸ºã€‚é€šè¿‡å•ä¸€çš„ "),n("code",[t._v("callback")]),t._v(" å‡½æ•°å¯ä»¥åŒæ—¶å…·æœ‰æŠ¥å‘Š "),n("code",[t._v("error")]),t._v(" å’Œä¼ é€’è¿”å›ç»“æœçš„ä½œç”¨ï¼Œè¿™ç§ç¼–ç¨‹é£æ ¼è¢«ç§°ä¸º "),n("strong",[t._v("ã€ŒError ä¼˜å…ˆå›è°ƒã€error-first callback é£æ ¼")]),t._v("ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¹è¿›ä¸Šè¿°ç¤ºä¾‹")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadScript")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" script "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onerror")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Script load error for ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"åµŒå¥—å›è°ƒ"}},[t._v("åµŒå¥—å›è°ƒ")]),t._v(" "),n("p",[t._v("å¦‚æœéœ€è¦è¿ç»­æ‰§è¡Œå¤šæ­¥ã€Œå¼‚æ­¥ã€æ“ä½œï¼Œå¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­å†è¿›è¡ŒåµŒå¥—å‡½æ•°ï¼ˆæˆ–å›è°ƒï¼‰ï¼ŒåµŒå¥—å‡½æ•°ä¹Ÿå«æœ‰ callback ç”¨äºå¼‚æ­¥æ‰§è¡Œå…¶ä»–åŠŸèƒ½ï¼Œä½†è¿‡åº¦çš„åµŒå¥—ä½¿ä»£ç å±‚æ¬¡å˜å¾—æ›´æ·±ï¼Œç»´æŠ¤éš¾åº¦ä¹Ÿéšä¹‹å¢åŠ ï¼Œå½¢æˆç§°ä¸ºã€Œå›è°ƒåœ°ç‹±ã€æˆ–ã€Œå„è¿é‡‘å­—å¡”ã€pyramid of doom ç»“æ„ã€‚")]),t._v(" "),n("p",[t._v("è™½ç„¶å¯ä»¥å°† callback å›è°ƒå‡½æ•°ç¼–å†™ä¸ºç‹¬ç«‹çš„é¡¶å±‚å‡½æ•°å¹¶é€šè¿‡å‡½æ•°åæ¥å¼•ç”¨ï¼Œä½†æ˜¯è¿™ä¼šé€ æˆå¯è¯»æ€§å¾ˆå·®ï¼Œé˜…è¯»ä»£ç æ—¶éœ€è¦åœ¨å„ä¸ªä»£ç å—ä¹‹é—´è·³è½¬ï¼Œè€Œä¸”å›è°ƒå‡½æ•°ä¸€èˆ¬ä½¿ç”¨åŒ¿åå‡½æ•°æ˜¯ç”±äºè¿™äº›å‡½æ•°éƒ½åªä½¿ç”¨ä¸€æ¬¡ï¼ˆä¸€èˆ¬ä¸ä¼šè¡Œä¸ºé“¾ä¹‹å¤–é‡ç”¨å®ƒä»¬ï¼‰ï¼Œå¦‚æœå°†å®ƒä»¬ä½œä¸ºç‹¬ç«‹å‡½æ•°å£°æ˜ä¼šè®©å‘½åç©ºé—´æœ‰ç‚¹æ··ä¹±ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(1041),alt:"pyramid of doom"}})]),t._v(" "),n("p",[t._v("ğŸ’¡ åœ¨ ES6 ä¸­æ¨å‡ºçš„ "),n("RouterLink",{attrs:{to:"/web/Frontend/JavaScript/è¯­æ³•åŸºç¡€/promise.html"}},[n("code",[t._v("Promise")]),t._v(" å¯¹è±¡")]),t._v("ä½¿å¾—å¯¹äºå¼‚æ­¥è¡Œä¸ºçš„æ§åˆ¶æ›´ç®€å•ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨ "),n("code",[t._v("Promise")]),t._v(" å¯¹è±¡è§£å†³å¼‚æ­¥å›è°ƒï¼ˆé“¾ï¼‰äº§ç”Ÿçš„è¿‡æ¸¡åµŒå¥—é—®é¢˜ã€‚")],1)])}),[],!1,null,null,null);s.default=r.exports}}]);