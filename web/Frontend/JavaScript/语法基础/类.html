<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç±» | Tech Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Notes written by BenThomson when learning tech skills.">
    
    <link rel="preload" href="/tech-blog/assets/css/0.styles.d6b0b335.css" as="style"><link rel="preload" href="/tech-blog/assets/js/app.e2907910.js" as="script"><link rel="preload" href="/tech-blog/assets/js/19.4fae91a9.js" as="script"><link rel="preload" href="/tech-blog/assets/js/1.c19b0b73.js" as="script"><link rel="preload" href="/tech-blog/assets/js/41.4b138d38.js" as="script"><link rel="prefetch" href="/tech-blog/assets/js/10.b6368563.js"><link rel="prefetch" href="/tech-blog/assets/js/100.e76d45fb.js"><link rel="prefetch" href="/tech-blog/assets/js/101.4a645a30.js"><link rel="prefetch" href="/tech-blog/assets/js/102.a6b546e7.js"><link rel="prefetch" href="/tech-blog/assets/js/103.b4b72833.js"><link rel="prefetch" href="/tech-blog/assets/js/104.0ebb204e.js"><link rel="prefetch" href="/tech-blog/assets/js/105.b73e77fa.js"><link rel="prefetch" href="/tech-blog/assets/js/106.436e9b33.js"><link rel="prefetch" href="/tech-blog/assets/js/107.fc159900.js"><link rel="prefetch" href="/tech-blog/assets/js/108.df6a446a.js"><link rel="prefetch" href="/tech-blog/assets/js/109.dee6ddc0.js"><link rel="prefetch" href="/tech-blog/assets/js/11.7f313d83.js"><link rel="prefetch" href="/tech-blog/assets/js/110.3ac7e842.js"><link rel="prefetch" href="/tech-blog/assets/js/111.1e260a97.js"><link rel="prefetch" href="/tech-blog/assets/js/112.91a95354.js"><link rel="prefetch" href="/tech-blog/assets/js/113.0260f8a8.js"><link rel="prefetch" href="/tech-blog/assets/js/114.e757a67b.js"><link rel="prefetch" href="/tech-blog/assets/js/115.9266e866.js"><link rel="prefetch" href="/tech-blog/assets/js/116.38cb7f4e.js"><link rel="prefetch" href="/tech-blog/assets/js/117.5c68130b.js"><link rel="prefetch" href="/tech-blog/assets/js/118.e45f0f67.js"><link rel="prefetch" href="/tech-blog/assets/js/119.7c831a81.js"><link rel="prefetch" href="/tech-blog/assets/js/12.50459577.js"><link rel="prefetch" href="/tech-blog/assets/js/120.0b394698.js"><link rel="prefetch" href="/tech-blog/assets/js/121.2f679253.js"><link rel="prefetch" href="/tech-blog/assets/js/122.ca87e3bf.js"><link rel="prefetch" href="/tech-blog/assets/js/123.2c3d9f63.js"><link rel="prefetch" href="/tech-blog/assets/js/124.7af73ab3.js"><link rel="prefetch" href="/tech-blog/assets/js/125.5a8e0f06.js"><link rel="prefetch" href="/tech-blog/assets/js/126.c74b0881.js"><link rel="prefetch" href="/tech-blog/assets/js/127.ca005d5c.js"><link rel="prefetch" href="/tech-blog/assets/js/128.4eb3c0f2.js"><link rel="prefetch" href="/tech-blog/assets/js/129.7d437ef1.js"><link rel="prefetch" href="/tech-blog/assets/js/13.74fe14ff.js"><link rel="prefetch" href="/tech-blog/assets/js/130.ac2c9b29.js"><link rel="prefetch" href="/tech-blog/assets/js/131.b3b8e1f9.js"><link rel="prefetch" href="/tech-blog/assets/js/132.bb174784.js"><link rel="prefetch" href="/tech-blog/assets/js/133.e3f58838.js"><link rel="prefetch" href="/tech-blog/assets/js/134.f7710664.js"><link rel="prefetch" href="/tech-blog/assets/js/135.17e40d08.js"><link rel="prefetch" href="/tech-blog/assets/js/136.7c96c1ac.js"><link rel="prefetch" href="/tech-blog/assets/js/137.06f4bf7f.js"><link rel="prefetch" href="/tech-blog/assets/js/138.51e41cae.js"><link rel="prefetch" href="/tech-blog/assets/js/139.db6de4c6.js"><link rel="prefetch" href="/tech-blog/assets/js/14.b9eb7a74.js"><link rel="prefetch" href="/tech-blog/assets/js/140.7cd18e71.js"><link rel="prefetch" href="/tech-blog/assets/js/141.bb189059.js"><link rel="prefetch" href="/tech-blog/assets/js/142.b3ae92f6.js"><link rel="prefetch" href="/tech-blog/assets/js/143.a84820c0.js"><link rel="prefetch" href="/tech-blog/assets/js/144.71f6dede.js"><link rel="prefetch" href="/tech-blog/assets/js/145.55967075.js"><link rel="prefetch" href="/tech-blog/assets/js/146.afc5f6c4.js"><link rel="prefetch" href="/tech-blog/assets/js/147.bc78c79c.js"><link rel="prefetch" href="/tech-blog/assets/js/148.a2b2a61a.js"><link rel="prefetch" href="/tech-blog/assets/js/149.03267208.js"><link rel="prefetch" href="/tech-blog/assets/js/15.87822948.js"><link rel="prefetch" href="/tech-blog/assets/js/150.930ebe5e.js"><link rel="prefetch" href="/tech-blog/assets/js/151.16885b8e.js"><link rel="prefetch" href="/tech-blog/assets/js/152.1da3b71e.js"><link rel="prefetch" href="/tech-blog/assets/js/153.526ebd90.js"><link rel="prefetch" href="/tech-blog/assets/js/154.59aff75a.js"><link rel="prefetch" href="/tech-blog/assets/js/155.b6348b0c.js"><link rel="prefetch" href="/tech-blog/assets/js/156.9b730b36.js"><link rel="prefetch" href="/tech-blog/assets/js/157.714e8356.js"><link rel="prefetch" href="/tech-blog/assets/js/158.ed339647.js"><link rel="prefetch" href="/tech-blog/assets/js/159.bb53475e.js"><link rel="prefetch" href="/tech-blog/assets/js/16.ed1157a5.js"><link rel="prefetch" href="/tech-blog/assets/js/160.7c7d0c92.js"><link rel="prefetch" href="/tech-blog/assets/js/161.860b8f7c.js"><link rel="prefetch" href="/tech-blog/assets/js/162.11bf5a07.js"><link rel="prefetch" href="/tech-blog/assets/js/163.76dfbd4a.js"><link rel="prefetch" href="/tech-blog/assets/js/164.998d552b.js"><link rel="prefetch" href="/tech-blog/assets/js/165.4b7fea67.js"><link rel="prefetch" href="/tech-blog/assets/js/166.5bd52768.js"><link rel="prefetch" href="/tech-blog/assets/js/167.d966178f.js"><link rel="prefetch" href="/tech-blog/assets/js/168.220219c5.js"><link rel="prefetch" href="/tech-blog/assets/js/169.7c0f662b.js"><link rel="prefetch" href="/tech-blog/assets/js/17.fb473c93.js"><link rel="prefetch" href="/tech-blog/assets/js/170.c687f331.js"><link rel="prefetch" href="/tech-blog/assets/js/171.84c9eb16.js"><link rel="prefetch" href="/tech-blog/assets/js/172.1057763b.js"><link rel="prefetch" href="/tech-blog/assets/js/173.863408c4.js"><link rel="prefetch" href="/tech-blog/assets/js/174.ae976955.js"><link rel="prefetch" href="/tech-blog/assets/js/175.723d8fb3.js"><link rel="prefetch" href="/tech-blog/assets/js/176.4e52e151.js"><link rel="prefetch" href="/tech-blog/assets/js/177.28e3dbd9.js"><link rel="prefetch" href="/tech-blog/assets/js/178.fe642e1b.js"><link rel="prefetch" href="/tech-blog/assets/js/179.8a237636.js"><link rel="prefetch" href="/tech-blog/assets/js/18.8d825957.js"><link rel="prefetch" href="/tech-blog/assets/js/180.7d5bab8b.js"><link rel="prefetch" href="/tech-blog/assets/js/181.2b1b15fd.js"><link rel="prefetch" href="/tech-blog/assets/js/182.049370ee.js"><link rel="prefetch" href="/tech-blog/assets/js/183.06ccd661.js"><link rel="prefetch" href="/tech-blog/assets/js/184.0af82719.js"><link rel="prefetch" href="/tech-blog/assets/js/185.d261b0af.js"><link rel="prefetch" href="/tech-blog/assets/js/186.2454c831.js"><link rel="prefetch" href="/tech-blog/assets/js/187.c6e8c2fb.js"><link rel="prefetch" href="/tech-blog/assets/js/188.98775ab9.js"><link rel="prefetch" href="/tech-blog/assets/js/189.32aae8d7.js"><link rel="prefetch" href="/tech-blog/assets/js/190.f4621a4d.js"><link rel="prefetch" href="/tech-blog/assets/js/191.9466b89e.js"><link rel="prefetch" href="/tech-blog/assets/js/192.51af6405.js"><link rel="prefetch" href="/tech-blog/assets/js/193.adcb809e.js"><link rel="prefetch" href="/tech-blog/assets/js/194.c96d7977.js"><link rel="prefetch" href="/tech-blog/assets/js/195.3e20a5ff.js"><link rel="prefetch" href="/tech-blog/assets/js/196.538eca67.js"><link rel="prefetch" href="/tech-blog/assets/js/197.64c0b608.js"><link rel="prefetch" href="/tech-blog/assets/js/198.a9a0b850.js"><link rel="prefetch" href="/tech-blog/assets/js/199.f0f16c6c.js"><link rel="prefetch" href="/tech-blog/assets/js/2.566c27d6.js"><link rel="prefetch" href="/tech-blog/assets/js/20.d74b39d9.js"><link rel="prefetch" href="/tech-blog/assets/js/200.c84b6726.js"><link rel="prefetch" href="/tech-blog/assets/js/201.fab1ff25.js"><link rel="prefetch" href="/tech-blog/assets/js/202.232d9fa7.js"><link rel="prefetch" href="/tech-blog/assets/js/203.305c86b7.js"><link rel="prefetch" href="/tech-blog/assets/js/204.949c7add.js"><link rel="prefetch" href="/tech-blog/assets/js/205.184b0b2d.js"><link rel="prefetch" href="/tech-blog/assets/js/206.3fd3cfa2.js"><link rel="prefetch" href="/tech-blog/assets/js/207.9e6b9521.js"><link rel="prefetch" href="/tech-blog/assets/js/208.ecbcc4da.js"><link rel="prefetch" href="/tech-blog/assets/js/209.ee7faba1.js"><link rel="prefetch" href="/tech-blog/assets/js/21.0185f12c.js"><link rel="prefetch" href="/tech-blog/assets/js/210.b5d484ac.js"><link rel="prefetch" href="/tech-blog/assets/js/211.e8092c05.js"><link rel="prefetch" href="/tech-blog/assets/js/212.0e6ba584.js"><link rel="prefetch" href="/tech-blog/assets/js/213.ff3d4871.js"><link rel="prefetch" href="/tech-blog/assets/js/214.5bae2dc0.js"><link rel="prefetch" href="/tech-blog/assets/js/215.62695694.js"><link rel="prefetch" href="/tech-blog/assets/js/216.d657080f.js"><link rel="prefetch" href="/tech-blog/assets/js/217.ce6cde02.js"><link rel="prefetch" href="/tech-blog/assets/js/218.865fd3cf.js"><link rel="prefetch" href="/tech-blog/assets/js/219.6571a742.js"><link rel="prefetch" href="/tech-blog/assets/js/22.2d412bec.js"><link rel="prefetch" href="/tech-blog/assets/js/220.18e726d8.js"><link rel="prefetch" href="/tech-blog/assets/js/221.c9db8555.js"><link rel="prefetch" href="/tech-blog/assets/js/222.7b19269a.js"><link rel="prefetch" href="/tech-blog/assets/js/223.f1a5cd82.js"><link rel="prefetch" href="/tech-blog/assets/js/224.124126e0.js"><link rel="prefetch" href="/tech-blog/assets/js/225.44034b61.js"><link rel="prefetch" href="/tech-blog/assets/js/226.4fe77bfd.js"><link rel="prefetch" href="/tech-blog/assets/js/227.f96362d4.js"><link rel="prefetch" href="/tech-blog/assets/js/228.a02346a8.js"><link rel="prefetch" href="/tech-blog/assets/js/229.3cf5a688.js"><link rel="prefetch" href="/tech-blog/assets/js/23.9d37722d.js"><link rel="prefetch" href="/tech-blog/assets/js/230.7fb68917.js"><link rel="prefetch" href="/tech-blog/assets/js/231.303d5843.js"><link rel="prefetch" href="/tech-blog/assets/js/232.9487eead.js"><link rel="prefetch" href="/tech-blog/assets/js/233.c40e35a8.js"><link rel="prefetch" href="/tech-blog/assets/js/234.c2e08d41.js"><link rel="prefetch" href="/tech-blog/assets/js/235.13434890.js"><link rel="prefetch" href="/tech-blog/assets/js/236.58235d4b.js"><link rel="prefetch" href="/tech-blog/assets/js/237.74ec86f6.js"><link rel="prefetch" href="/tech-blog/assets/js/238.a2cecdbf.js"><link rel="prefetch" href="/tech-blog/assets/js/239.31cb5750.js"><link rel="prefetch" href="/tech-blog/assets/js/24.bd0ece1f.js"><link rel="prefetch" href="/tech-blog/assets/js/240.0d0ecd96.js"><link rel="prefetch" href="/tech-blog/assets/js/241.a56701a5.js"><link rel="prefetch" href="/tech-blog/assets/js/242.8c0043d9.js"><link rel="prefetch" href="/tech-blog/assets/js/243.352cbd64.js"><link rel="prefetch" href="/tech-blog/assets/js/244.3a8b742d.js"><link rel="prefetch" href="/tech-blog/assets/js/245.d195e8c4.js"><link rel="prefetch" href="/tech-blog/assets/js/246.72ef9e6d.js"><link rel="prefetch" href="/tech-blog/assets/js/247.c60e70ff.js"><link rel="prefetch" href="/tech-blog/assets/js/248.190b2e01.js"><link rel="prefetch" href="/tech-blog/assets/js/249.44f039a3.js"><link rel="prefetch" href="/tech-blog/assets/js/25.b3e6892d.js"><link rel="prefetch" href="/tech-blog/assets/js/250.d4f68fc6.js"><link rel="prefetch" href="/tech-blog/assets/js/251.c54bd24f.js"><link rel="prefetch" href="/tech-blog/assets/js/252.ef86b8ae.js"><link rel="prefetch" href="/tech-blog/assets/js/253.af575fd6.js"><link rel="prefetch" href="/tech-blog/assets/js/254.8684b1e9.js"><link rel="prefetch" href="/tech-blog/assets/js/255.da5fba2d.js"><link rel="prefetch" href="/tech-blog/assets/js/256.cdd1dbb6.js"><link rel="prefetch" href="/tech-blog/assets/js/257.cecc66ec.js"><link rel="prefetch" href="/tech-blog/assets/js/258.fcf3c1b2.js"><link rel="prefetch" href="/tech-blog/assets/js/259.dd0b785d.js"><link rel="prefetch" href="/tech-blog/assets/js/26.c667f021.js"><link rel="prefetch" href="/tech-blog/assets/js/260.6941e2e1.js"><link rel="prefetch" href="/tech-blog/assets/js/261.fa9b1454.js"><link rel="prefetch" href="/tech-blog/assets/js/262.cf8f5b55.js"><link rel="prefetch" href="/tech-blog/assets/js/263.fa67afc2.js"><link rel="prefetch" href="/tech-blog/assets/js/264.6b2dbe26.js"><link rel="prefetch" href="/tech-blog/assets/js/265.d7c5b8fd.js"><link rel="prefetch" href="/tech-blog/assets/js/266.1a162200.js"><link rel="prefetch" href="/tech-blog/assets/js/267.1b5df710.js"><link rel="prefetch" href="/tech-blog/assets/js/268.c2294c76.js"><link rel="prefetch" href="/tech-blog/assets/js/269.6abb34d3.js"><link rel="prefetch" href="/tech-blog/assets/js/27.605f1183.js"><link rel="prefetch" href="/tech-blog/assets/js/270.2cc387ea.js"><link rel="prefetch" href="/tech-blog/assets/js/271.4c0a8152.js"><link rel="prefetch" href="/tech-blog/assets/js/272.76579b08.js"><link rel="prefetch" href="/tech-blog/assets/js/273.a8e5e247.js"><link rel="prefetch" href="/tech-blog/assets/js/274.b0283f29.js"><link rel="prefetch" href="/tech-blog/assets/js/275.c82e7c90.js"><link rel="prefetch" href="/tech-blog/assets/js/276.50485337.js"><link rel="prefetch" href="/tech-blog/assets/js/277.7954540b.js"><link rel="prefetch" href="/tech-blog/assets/js/278.8ffafc74.js"><link rel="prefetch" href="/tech-blog/assets/js/279.b5a8028b.js"><link rel="prefetch" href="/tech-blog/assets/js/28.cea010b7.js"><link rel="prefetch" href="/tech-blog/assets/js/280.e972cc66.js"><link rel="prefetch" href="/tech-blog/assets/js/281.d0a4a70f.js"><link rel="prefetch" href="/tech-blog/assets/js/282.0f7e5b86.js"><link rel="prefetch" href="/tech-blog/assets/js/283.4cd3db83.js"><link rel="prefetch" href="/tech-blog/assets/js/284.da3d7e42.js"><link rel="prefetch" href="/tech-blog/assets/js/285.2ead31b6.js"><link rel="prefetch" href="/tech-blog/assets/js/286.d1e75872.js"><link rel="prefetch" href="/tech-blog/assets/js/287.7bdbbd2c.js"><link rel="prefetch" href="/tech-blog/assets/js/288.f1bb48ac.js"><link rel="prefetch" href="/tech-blog/assets/js/289.5cb43d47.js"><link rel="prefetch" href="/tech-blog/assets/js/29.7f84a6c7.js"><link rel="prefetch" href="/tech-blog/assets/js/290.17d46c7f.js"><link rel="prefetch" href="/tech-blog/assets/js/291.d856f05f.js"><link rel="prefetch" href="/tech-blog/assets/js/292.f353b737.js"><link rel="prefetch" href="/tech-blog/assets/js/293.3219d668.js"><link rel="prefetch" href="/tech-blog/assets/js/294.da30deed.js"><link rel="prefetch" href="/tech-blog/assets/js/295.3ef190bc.js"><link rel="prefetch" href="/tech-blog/assets/js/296.51842e35.js"><link rel="prefetch" href="/tech-blog/assets/js/297.d5d8bc7c.js"><link rel="prefetch" href="/tech-blog/assets/js/298.c4d02eb3.js"><link rel="prefetch" href="/tech-blog/assets/js/299.34fbb12f.js"><link rel="prefetch" href="/tech-blog/assets/js/30.a690c277.js"><link rel="prefetch" href="/tech-blog/assets/js/300.dc4ebe83.js"><link rel="prefetch" href="/tech-blog/assets/js/301.3d79013b.js"><link rel="prefetch" href="/tech-blog/assets/js/302.b7bc2077.js"><link rel="prefetch" href="/tech-blog/assets/js/303.f507bd62.js"><link rel="prefetch" href="/tech-blog/assets/js/304.70c76de8.js"><link rel="prefetch" href="/tech-blog/assets/js/305.06c79abd.js"><link rel="prefetch" href="/tech-blog/assets/js/306.b51ab104.js"><link rel="prefetch" href="/tech-blog/assets/js/307.18923549.js"><link rel="prefetch" href="/tech-blog/assets/js/308.a49a1d4b.js"><link rel="prefetch" href="/tech-blog/assets/js/309.400f0e43.js"><link rel="prefetch" href="/tech-blog/assets/js/31.210edda6.js"><link rel="prefetch" href="/tech-blog/assets/js/310.a706d0e5.js"><link rel="prefetch" href="/tech-blog/assets/js/311.7d82a7d9.js"><link rel="prefetch" href="/tech-blog/assets/js/312.58bba4e3.js"><link rel="prefetch" href="/tech-blog/assets/js/313.6147c60c.js"><link rel="prefetch" href="/tech-blog/assets/js/314.9c828d81.js"><link rel="prefetch" href="/tech-blog/assets/js/315.b71aca4e.js"><link rel="prefetch" href="/tech-blog/assets/js/316.dedf13de.js"><link rel="prefetch" href="/tech-blog/assets/js/317.1c6aedeb.js"><link rel="prefetch" href="/tech-blog/assets/js/318.4d069328.js"><link rel="prefetch" href="/tech-blog/assets/js/319.ead84e89.js"><link rel="prefetch" href="/tech-blog/assets/js/32.4f0968eb.js"><link rel="prefetch" href="/tech-blog/assets/js/320.9196af73.js"><link rel="prefetch" href="/tech-blog/assets/js/321.1be13b10.js"><link rel="prefetch" href="/tech-blog/assets/js/322.6fa37b4f.js"><link rel="prefetch" href="/tech-blog/assets/js/323.f9d29aaf.js"><link rel="prefetch" href="/tech-blog/assets/js/324.cb6a6903.js"><link rel="prefetch" href="/tech-blog/assets/js/325.264b4bab.js"><link rel="prefetch" href="/tech-blog/assets/js/326.cd71f7a2.js"><link rel="prefetch" href="/tech-blog/assets/js/327.799dc92d.js"><link rel="prefetch" href="/tech-blog/assets/js/328.0f17409b.js"><link rel="prefetch" href="/tech-blog/assets/js/329.96099252.js"><link rel="prefetch" href="/tech-blog/assets/js/33.87770ad1.js"><link rel="prefetch" href="/tech-blog/assets/js/330.0bcb80da.js"><link rel="prefetch" href="/tech-blog/assets/js/331.946fd31f.js"><link rel="prefetch" href="/tech-blog/assets/js/332.60beb333.js"><link rel="prefetch" href="/tech-blog/assets/js/34.8ee59d40.js"><link rel="prefetch" href="/tech-blog/assets/js/35.fd994a34.js"><link rel="prefetch" href="/tech-blog/assets/js/36.584bf91b.js"><link rel="prefetch" href="/tech-blog/assets/js/37.270d1bd2.js"><link rel="prefetch" href="/tech-blog/assets/js/38.30bcfdaf.js"><link rel="prefetch" href="/tech-blog/assets/js/39.89d52ebd.js"><link rel="prefetch" href="/tech-blog/assets/js/4.6cf2314e.js"><link rel="prefetch" href="/tech-blog/assets/js/40.b8b49036.js"><link rel="prefetch" href="/tech-blog/assets/js/42.2b0134be.js"><link rel="prefetch" href="/tech-blog/assets/js/43.e60d3b0a.js"><link rel="prefetch" href="/tech-blog/assets/js/44.520ae30e.js"><link rel="prefetch" href="/tech-blog/assets/js/45.61a6fdb6.js"><link rel="prefetch" href="/tech-blog/assets/js/46.32a9d5f4.js"><link rel="prefetch" href="/tech-blog/assets/js/47.ccfe5207.js"><link rel="prefetch" href="/tech-blog/assets/js/48.beb20f17.js"><link rel="prefetch" href="/tech-blog/assets/js/49.eacc8bb4.js"><link rel="prefetch" href="/tech-blog/assets/js/5.a85c6e29.js"><link rel="prefetch" href="/tech-blog/assets/js/50.1643ee2a.js"><link rel="prefetch" href="/tech-blog/assets/js/51.03d8de2e.js"><link rel="prefetch" href="/tech-blog/assets/js/52.9bc355c6.js"><link rel="prefetch" href="/tech-blog/assets/js/53.53fb7223.js"><link rel="prefetch" href="/tech-blog/assets/js/54.6431de40.js"><link rel="prefetch" href="/tech-blog/assets/js/55.799b4392.js"><link rel="prefetch" href="/tech-blog/assets/js/56.1cd36345.js"><link rel="prefetch" href="/tech-blog/assets/js/57.a8fb9be3.js"><link rel="prefetch" href="/tech-blog/assets/js/58.4d7b06af.js"><link rel="prefetch" href="/tech-blog/assets/js/59.29bf2f4d.js"><link rel="prefetch" href="/tech-blog/assets/js/6.71a576b7.js"><link rel="prefetch" href="/tech-blog/assets/js/60.67eaec2f.js"><link rel="prefetch" href="/tech-blog/assets/js/61.de748b43.js"><link rel="prefetch" href="/tech-blog/assets/js/62.a49d9fca.js"><link rel="prefetch" href="/tech-blog/assets/js/63.5e3465c8.js"><link rel="prefetch" href="/tech-blog/assets/js/64.5dde0633.js"><link rel="prefetch" href="/tech-blog/assets/js/65.961dc970.js"><link rel="prefetch" href="/tech-blog/assets/js/66.61692b0a.js"><link rel="prefetch" href="/tech-blog/assets/js/67.6daf46ab.js"><link rel="prefetch" href="/tech-blog/assets/js/68.a48ed68c.js"><link rel="prefetch" href="/tech-blog/assets/js/69.88422d5f.js"><link rel="prefetch" href="/tech-blog/assets/js/7.d11dade5.js"><link rel="prefetch" href="/tech-blog/assets/js/70.374bef78.js"><link rel="prefetch" href="/tech-blog/assets/js/71.f190667d.js"><link rel="prefetch" href="/tech-blog/assets/js/72.2e1c337a.js"><link rel="prefetch" href="/tech-blog/assets/js/73.c5de23cd.js"><link rel="prefetch" href="/tech-blog/assets/js/74.6dcf0a86.js"><link rel="prefetch" href="/tech-blog/assets/js/75.bc364138.js"><link rel="prefetch" href="/tech-blog/assets/js/76.7311fb56.js"><link rel="prefetch" href="/tech-blog/assets/js/77.028b8105.js"><link rel="prefetch" href="/tech-blog/assets/js/78.a6e8f401.js"><link rel="prefetch" href="/tech-blog/assets/js/79.df7a0e94.js"><link rel="prefetch" href="/tech-blog/assets/js/8.22a8a907.js"><link rel="prefetch" href="/tech-blog/assets/js/80.e8f9a567.js"><link rel="prefetch" href="/tech-blog/assets/js/81.8fb708c0.js"><link rel="prefetch" href="/tech-blog/assets/js/82.48f868f9.js"><link rel="prefetch" href="/tech-blog/assets/js/83.0b358ab1.js"><link rel="prefetch" href="/tech-blog/assets/js/84.e443ac1b.js"><link rel="prefetch" href="/tech-blog/assets/js/85.011fafc0.js"><link rel="prefetch" href="/tech-blog/assets/js/86.f27210ae.js"><link rel="prefetch" href="/tech-blog/assets/js/87.405c7161.js"><link rel="prefetch" href="/tech-blog/assets/js/88.db7bac07.js"><link rel="prefetch" href="/tech-blog/assets/js/89.370dba33.js"><link rel="prefetch" href="/tech-blog/assets/js/9.0a76bf22.js"><link rel="prefetch" href="/tech-blog/assets/js/90.25e4d526.js"><link rel="prefetch" href="/tech-blog/assets/js/91.29b56c3f.js"><link rel="prefetch" href="/tech-blog/assets/js/92.55379378.js"><link rel="prefetch" href="/tech-blog/assets/js/93.767d64b6.js"><link rel="prefetch" href="/tech-blog/assets/js/94.48e135ed.js"><link rel="prefetch" href="/tech-blog/assets/js/95.8cec0d9a.js"><link rel="prefetch" href="/tech-blog/assets/js/96.b67923fb.js"><link rel="prefetch" href="/tech-blog/assets/js/97.59681e1a.js"><link rel="prefetch" href="/tech-blog/assets/js/98.b26adaa8.js"><link rel="prefetch" href="/tech-blog/assets/js/99.f867f3cb.js">
    <link rel="stylesheet" href="/tech-blog/assets/css/0.styles.d6b0b335.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="min-h-screen flex flex-col"><div class="relative flex-grow"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tech-blog/" class="home-link router-link-active"><!----> <span class="site-name">Tech Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tech-blog/posts-list/index.html" class="nav-link">
  All
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/data.html" class="nav-link">
  Data
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/web.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/design.html" class="nav-link">
  Design
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/other.html" class="nav-link">
  Other
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tech-blog/posts-list/index.html" class="nav-link">
  All
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/data.html" class="nav-link">
  Data
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/web.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/design.html" class="nav-link">
  Design
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/other.html" class="nav-link">
  Other
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ç±»">ç±»</h1> <blockquote><p>å¨é¢åå¯¹è±¡çç¼ç¨ä¸­ï¼class æ¯ç¨äºåå»ºå¯¹è±¡çå¯æ©å±çç¨åºä»£ç æ¨¡çï¼å®ä¸ºå¯¹è±¡æä¾äºç¶æï¼æååéï¼çåå§å¼åè¡ä¸ºï¼æåå½æ°ææ¹æ³ï¼çå®ç°ã
ââ<em><a href="https://zh.wikipedia.org/wiki/%E7%B1%BB_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)" target="_blank" rel="noopener noreferrer">ç±» (è®¡ç®æºç§å­¦) - ç»´åºç¾ç§ï¼èªç±çç¾ç§å¨ä¹¦<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p></blockquote> <p>å¨æ¥å¸¸å¼åä¸­éè¦åå»ºè®¸å¤ç±»ä¼¼çå¯¹è±¡ï¼å¯ä»¥ä½¿ç¨<a href="/tech-blog/web/Frontend/JavaScript/è¯­æ³åºç¡/å¯¹è±¡.html#æé å½æ°">æé å¨åæä½ç¬¦ <code>new</code></a> å®ç°è¿ç§éæ±ï¼æé å½æ°åå»ºå®ä¾éµå¾ªçè§åï¼</p> <ul><li>æç§æ¯ä¾æé å½æ°åä»¥å¤§åå­æ¯å¼å¤´</li> <li>æé å½æ°ä½¿ç¨ <code>new</code> å³é®å­è¢«è°ç¨ï¼éè¿ä¼ éåæ°å®å¶åæ¯ä¸ªæ°å¯¹è±¡å®ä¾</li> <li>å¯¹è±¡ãç»§æ¿ãçæ¹æ³è¢«æ¾å¨æé å½æ°çååå¯¹è±¡ä¸ï¼å³ <code>ClassName.prototype</code></li></ul> <p>å¨ç°ä»£ JavaScript ä¸­ï¼ES6ï¼å¼å¥ä¸ä¸ªæ´é«çº§çç±» class æé æ¹å¼ï¼æ°å¢çå¤ä¸ªå³é®å­ï¼å¦ <code>class</code>ã<code>super</code> å <code>extends</code> ç­ï¼å¨åºå±å°è£äºç¨äºæé ç±»çå¤ç§å½æ°ï¼ä½¿ç±»çåå»ºæ´æ¹ä¾¿ï¼</p> <ul><li>æé å½æ°åç¸åºçååï¼ä½ä¸ºæ¹æ³å®¹å¨ï¼é½å¨å³é®å­ <code>class</code> ä»£ç åä¸­ï¼ä½å®éä¸åºç°å¨ç±»å®ä¹ä¸­çæ¹æ³ä»æ¯æ¾å¨ç±»çæé å½æ° <code>constructor(para) {}</code> çååå¯¹è±¡ä¸ï¼</li> <li>æé å½æ°ä½¿ç¨å³é®å­ <code>constructor</code> åºå«æ æ³¨åºæ¥ï¼ä¹æ¯ä½¿ç¨å³é®å­ <code>new</code> åå»ºæ°å¯¹è±¡ï¼å®ä¾åï¼ï¼æ­¤æ¶æ¹æ³ <code>constructor([paraments])</code> ä¼èªå¨è¿è¡</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token comment">// class æ¹æ³</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
  <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
  <span class="token function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
  <span class="token function">method3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ð¡ ç±»å®éæ¯ä¸ç§æé å½æ°ï¼å¶ä»£ç æ¥èªäº <code>constructor</code> æ¹æ³ï¼èç±»çæ¹æ³å­å¨äºè¯¥æ¹æ³çååä¸­ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç¨æ³ï¼</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/tech-blog/assets/img/20200428204237874_19180.a69cc563.png" alt="class"></p> <p>â ï¸ å¨ <code>class</code> å£°æå<strong>ä¸æ¯</strong>ç¨éå·æ¥åºåå±æ§ææ¹æ³ï¼å ä¸ºå³é®å­ <code>class</code>  å£°æçæ¯å½æ°ï¼ä¸æ¯ãä¼ ç»ãæä¹ä¸çå¯¹è±¡çç¶ç±»ï¼å¦æå¨å½æ°æ·»å éå·ï¼å°åºç° <code>SyntaxErrorï¼unexpected token</code>ï¼ï¼èåºè¯¥åå¨å½æ°ä¸­ä½¿ç¨åå·åéï¼ä¸ä»£ç åä¹é´ä¸éè¦åéï¼ã</p> <p>ç±»é¤äºæ¹æ³å¤ï¼è¿å¯ä»¥è®¾ç½®å±æ§ï¼Class å­æ®µä»¥å getters/setters æ¹æ³åå»ºçè®¿é®å¨å±æ§ï¼ï¼èå±æ§åä¹æ¯æè®¡ç®å±æ§ computed propertiesï¼è¿äºé½åå¯¹è±¡ç¸ä¼¼ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&quot;Anonymous&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// è®¾ç½®ç±»å­æ®µ</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sayHi<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¢«æ¾å¨ User.prototype ä¸­</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefinedï¼æ²¡æè¢«æ¾å¨ User.prototype ä¸­</span>
</code></pre></div><p>â ï¸ ç±»å­æ®µï¼fieldï¼æ¯æè¿ææ·»å å°è¯­è¨ä¸­çï¼æ§çæµè§å¨å¯è½éè¦ polyfillã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¾ç½®è°ç¨ setter</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// getter &amp; setter</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Name is too short.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John</span>
user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Name is too short.</span>

<span class="token comment">// è®¡ç®å±æ§åç§°</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string">'say'</span> <span class="token operator">+</span> <span class="token string">'Hi'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Hello</span>
</code></pre></div><p>ð¡ ç±»çæ¹æ³ methodsãgetters å settors é½è¢«åå¥äºç±»ï¼æé å½æ°ï¼ååä¸­ï¼ä½ Class å­æ®µï¼ç±»å±æ§ï¼åæ¯å¨ç±»æé å½æ°ä¸­ï¼å³å®ä¾ååè®¾ç½®å¨åä¸ªå¯¹è±¡ä¸çï¼å¯ä»¥å©ç¨è¯¥ç¹ç¹è§£å³å¯¹è±¡æ¹æ³åç¬è°ç¨äº§çç <code>this</code> ä¸¢å¤±é®é¢ï¼éè¿è¯¥å±æ§è®¾ç½®æ¹æ³ï¼æ¹æ³ä¸­çå³é®å­ <code>this</code> å°±ä¼ä¸å¯¹è±¡ç»å®ï¼è¯¦ç»è§ä¸ä¸æ®µï¼</p> <p>ð¡ å¨ JavaScript ä¸­çå½æ°/å¯¹è±¡æ¹æ³ä¸­å·æå¨æç <code>this</code>ï¼å®åå³äºè°ç¨ä¸ä¸æãå½ä¸ä¸ªå¯¹è±¡æ¹æ³åç¬è¢«ä¼ éå°æå¤æèå¨å¦ä¸ä¸ªä¸ä¸æä¸­è¢«è°ç¨ï¼è¿å¨æµè§å¨ç¯å¢ä¸­å¸¸éè¦å°ä¸ä¸ªæ¹æ³è®¾ç½®ä¸ºäºä»¶çå¬å¨çåè°å½æ°ï¼ï¼å¯¼è´ <code>this</code> ä¸åæ¯ç¸åºå¯¹è±¡çå¼ç¨æ¶è¢«ç§°ä¸ºãä¸¢å¤±ã <code>this</code>ãä¸è¬éç¨ä¸¤ç§æ¹æ³è§£å³</p> <ul><li><p>ä¼ éä¸ä¸ª<a href="/tech-blog/web/Frontend/JavaScript/è¯­æ³åºç¡/å½æ°.html#è£é¥°èæ¨¡å¼">åè£å½æ°</a>ï¼å¦ <code>setTimeout(() =&gt; button.click(), 1000)</code>ã</p></li> <li><p><a href="/tech-blog/web/Frontend/JavaScript/è¯­æ³åºç¡/å½æ°.html#å½æ°ç»å®">å°æ¹æ³ç»å®å°å¯¹è±¡</a>ï¼å¦ <code>func = obj.func.bind(this)</code> å¯¹äºç±»å®ä¾ååå»ºçå¯¹è±¡ï¼å¯ä»¥ä½¿ç¨ç±»å­æ®µä¸ºè¿ä¸ç§è§£å³æ¹æ¡æä¾äºæ´ä¼éçè¯­æ³</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">click</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ç±»å­æ®µ click = () =&gt; {...} å¨æ¯ä¸ª Button å¯¹è±¡ä¸åå»ºä¸ä¸ªç¬ç«çå½æ°ï¼å¹¶å° this ç»å®å°è¯¥å¯¹è±¡ä¸ã</span>
  <span class="token comment">// ç¶åå¯ä»¥å° button.click ä¼ éå°ä»»ä½å°æ¹ï¼å¹¶ä¸å®ä¼è¢«ä»¥æ­£ç¡®ç this è¿è¡è°ç¨ã</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>button<span class="token punctuation">.</span>click<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre></div></li></ul> <p>ES6 ä¸­æ°çè¯­æ³åå»ºç±»çä¼å¿</p> <ul><li>åå»ºå½æ°è¦ç¼åçä»£ç å°äº</li> <li>ä½¿ç¨å³é®å­ <code>constructor</code> æ¸æ°å°å®ä¹äºæé å½æ°</li> <li>ç±»éè¦çææä»£ç é½åå«å¨ç±»å£°æä¸­ï¼ä½¿ç¨å³é®å­ <code>class</code> å¨é¨é½åå«èµ·æ¥ï¼èä¸ç¨å¨ä¸ä¸ªä½ç½®ç¼åæé å½æ°ï¼ç¶ååååä¸ä¸ªä¸ä¸ªå°æ·»å æ¹æ³</li></ul> <p>â ï¸ ä½æ¯ JavaScript ä¾ç¶ä¸æ¯ä¸é¨åçæ¯æç±»çè¯­è¨ï¼åªæ¯éè¿ä½¿ç¨æå»ºå½æ°ï¼å®ä¾åï¼åååï¼æ¹æ³å®¹å¨ï¼æ¥æ¨¡æç±»çåè½ãES6 ç±»çå³é®å­ <code>class</code> åªæ¯ä¸ä¸ªæä¾äºè¯­æ³ç³ï¼ååç»§æ¿å®éä¸å¨åºå±è¢«éèèµ·æ¥äºã<code>class</code> æ¯ååç»§æ¿çæ½è±¡å½¢å¼ï¼å³ JavaScript ç±»å®éä¸ä»ä½¿ç¨<strong>åå</strong>å®ç°ç»§æ¿çåè½ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸¤ç§æ¹æ³æå»ºç±»çåºå«</span>
<span class="token comment">// åºäº ES5 æ åéè¿æé å½æ°åå»ºãç±»ã Plane</span>
<span class="token keyword">function</span> <span class="token function">Plane</span><span class="token punctuation">(</span><span class="token parameter">numEngines</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>numEngines <span class="token operator">=</span> numEngines<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>enginesActive <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¨æé å½æ°çååä¸è®¾ç½®æ¹æ³</span>
<span class="token class-name">Plane</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">startEngines</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'starting engines...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>enginesActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å®ä¾å Plane ç±»</span>
<span class="token keyword">const</span> jamesPlane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Plane</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jamesPlane<span class="token punctuation">.</span><span class="token function">startEngines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*---------- åå²çº¿ ----------*/</span>

<span class="token comment">// åºäº ES6 æ ååå»ºãç±»ã Plane</span>
<span class="token keyword">class</span> <span class="token class-name">Plane</span> <span class="token punctuation">{</span>
  <span class="token comment">// æé å½æ°</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">numEngines</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>numEngines <span class="token operator">=</span> numEngines<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>enginesActive <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é¢è®¾ãç±»ãæ¹æ³</span>
  <span class="token function">startEngines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'starting enginesâ¦'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>enginesActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®ä¾åæ¹å¼ç¸å</span>
<span class="token keyword">const</span> jamesPlane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Plane</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jamesPlane<span class="token punctuation">.</span><span class="token function">startEngines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ð¡ ä½å¨å¾å¤æ¹é¢ä½¿ç¨å³é®å­ <code>class</code> åå»ºçç±»ä¸ä½¿ç¨æé å¨åå¶ååæ¹æ³å­å¨éå¤§çå·®å¼</p> <ul><li>éè¿ <code>class</code> åå»ºçå½æ°å·æç¹æ®çåé¨å±æ§æ è®° <code>[[FunctionKind]]:&quot;classConstructor&quot;</code> å æ­¤å®ä¸æå¨åå»ºå¹¶ä¸å®å¨ç¸åï¼ä¸åæ®éå½æ°ï¼è°ç¨ç±»æé å¨æ¶å¿é¡»è¦ç¨ <code>new</code> å³é®è¯</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> User<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
<span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Class constructor User cannot be invoked without 'new'</span>
</code></pre></div><ul><li><p>ç±»æ¹æ³ä¸å¯æä¸¾ï¼ç±»å®ä¹å° <code>&quot;prototype&quot;</code> ä¸­çæææ¹æ³ç <code>enumerable</code> æ å¿è®¾ç½®ä¸º <code>false</code>ãè¿å¯ä»¥é¿åå¯¹ä¸ä¸ªå¯¹è±¡è°ç¨å¾ªç¯ç»æ for-in æ¶éåå¶ååçæ¹æ³ã</p></li> <li><p>ç±»æ»æ¯ä½¿ç¨ <code>use strict</code> å¨ç±»æé ä¸­çææä»£ç é½å°èªå¨è¿å¥ä¸¥æ ¼æ¨¡å¼ã</p></li></ul> <h2 id="ç±»è¡¨è¾¾å¼">ç±»è¡¨è¾¾å¼</h2> <p>ç±»å¯ä»¥å¨ä¸ä¸ªè¡¨è¾¾å¼ä¸­è¢«å®ä¹ï¼ç¶åè¢«èµå¼ãä¼ éãè¿åç­ï¼ä¸å½æ°è¡¨è¾¾å¼ç±»ä¼¼ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç±»è¡¨è¾¾å¼</span>
<span class="token keyword">let</span> User <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è¿åç±»</span>
<span class="token keyword">function</span> <span class="token function">makeClass</span><span class="token punctuation">(</span><span class="token parameter">phrase</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å£°æä¸ä¸ªç±»å¹¶è¿åå®</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>phrase<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åå»ºä¸ä¸ªæ°çç±»</span>
<span class="token keyword">let</span> User <span class="token operator">=</span> <span class="token function">makeClass</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä½¿ç¨å³é®å­ new å®ä¾å</span>
<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span>
</code></pre></div><p>ð¡ ç±»ä¼¼äºå½åå½æ°è¡¨è¾¾å¼ Named Function Expressionsï¼ç±»è¡¨è¾¾å¼å¯è½ä¹åºè¯¥æä¸ä¸ªåå­ï¼å¦æç±»è¡¨è¾¾å¼æåå­ï¼é£ä¹è¯¥åå­ä»å¨ç±»åé¨å¯è§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// âå½åç±»è¡¨è¾¾å¼ï¼Named Class Expressionï¼â</span>
<span class="token comment">// (è§èä¸­æ²¡æè¿æ ·çæ¯è¯­ï¼ä½æ¯å®åå½åå½æ°è¡¨è¾¾å¼ç±»ä¼¼)</span>
<span class="token keyword">let</span> User <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>MyClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// MyClass è¿ä¸ªåå­ä»å¨ç±»åé¨å¯è§</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ­£å¸¸è¿è¡ï¼æ¾ç¤º MyClass ä¸­å®ä¹çåå®¹</span>

<span class="token function">alert</span><span class="token punctuation">(</span>MyClass<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// errorï¼MyClass å¨å¤é¨ä¸å¯è§</span>
</code></pre></div><h2 id="éææ¹æ³">éææ¹æ³</h2> <p>éææ¹æ³æ¯å¨ç±»ä¸­ä½¿ç¨å³é®å­ <code>static</code> åå»ºçæ¹æ³ï¼å®èµå¼ç»ç±»æ¬èº«ï¼èä¸æ¯èµç»å¶åå <code>prototype</code>ï¼ï¼è¢«ç¨äºå®ç°å±äºæ´ä¸ªç±»çåè½ï¼ä¸å·ä½çç±»å®ä¾æ å³ã</p> <p>éææ¹æ³å¯ä»¥<strong>ç´æ¥è®¿é®</strong>èä¸éè¦å®ä¾åï¼è¿å®éä¸è·ç´æ¥å°æ¹æ³ä½ä¸ºç±»ï¼å½æ°å¯¹è±¡ï¼çå±æ§èµå¼çä½ç¨ç¸åã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token comment">// éææ¹æ³</span>
  <span class="token keyword">static</span> <span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> User<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

User<span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// trueï¼ç´æ¥è®¿é®éææ¹æ³</span>

<span class="token comment">/*---------- åå²çº¿ ----------*/</span>
<span class="token comment">// ç­ä»·ç¨æ³</span>
<span class="token comment">// ç±»ï¼å½æ°å¯¹è±¡ï¼å±æ§</span>
User<span class="token punctuation">.</span><span class="token function-variable function">staticMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> User<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

User<span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>ð¡ éææ¹æ³ä¸­çå³é®å­ <code>this</code> æåç±»ï¼æé å¨ï¼æ¬èº«ï¼å³å¯ä»¥å¨éææ¹æ³ä¸­ä½¿ç¨ <code>new this</code> å®ä¾åè¯¥ç±»</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Article</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">title<span class="token punctuation">,</span> date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// éææ¹æ³</span>
  <span class="token keyword">static</span> <span class="token function">createTodays</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®°ä½ this = Article</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">this</span><span class="token punctuation">(</span><span class="token string">&quot;Today's digest&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// è¿åè¯¥ç±»çå®ä¾</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> article <span class="token operator">=</span> Article<span class="token punctuation">.</span><span class="token function">createTodays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> article<span class="token punctuation">.</span>title <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Today's digest</span>
</code></pre></div><h2 id="éæå±æ§">éæå±æ§</h2> <p>éæå±æ§ä½¿ç¨å³é®å­ <code>static</code> åå»ºï¼è¢«ç¨äºå­å¨ç±»çº§å«çæ°æ®ï¼èä¸æ¯ç»å®å°å®ä¾ãç¸å½äºç»ç±»ï¼å½æ°å¯¹è±¡ï¼æ¬èº«èµå¼ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Article</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> publisher <span class="token operator">=</span> <span class="token string">&quot;Ben&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">alert</span><span class="token punctuation">(</span> Article<span class="token punctuation">.</span>publisher <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Ben</span>

<span class="token comment">/*---------- åå²çº¿ ----------*/</span>
<span class="token comment">// ç­ä»·ç¨æ³</span>
Article<span class="token punctuation">.</span>publisher <span class="token operator">=</span> <span class="token string">&quot;Ben&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>ð¡ éææ¹æ³åéæå±æ§ä¹æ¯å¯ä»¥è¢«ç»§æ¿çï¼ç±äºå­ç±»éè¿å³é®å­ <code>extends</code> åå»ºäºä¸¤ä¸ª <code>[[Prototype]]</code></p> <ul><li>å­ç±»æé å¨ååç»§æ¿èªç¶ç±»æé å¨</li> <li>å­ç±»çååç»§æ¿èªç¶ç±»çåå</li></ul> <p><img src="/tech-blog/assets/img/20200429153737037_21753.ffe3eda0.png" alt="static method and property"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> planet <span class="token operator">=</span> <span class="token string">&quot;Earth&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// ç¶ç±»éæå±æ§</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> speed</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">speed <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">+=</span> speed<span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> runs with speed </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ç¶ç±»éææ¹æ³</span>
  <span class="token keyword">static</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">animalA<span class="token punctuation">,</span> animalB</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> animalA<span class="token punctuation">.</span>speed <span class="token operator">-</span> animalB<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// ç»§æ¿äºç¶ç±» Animal</span>
<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> hides!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rabbits <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;White Rabbit&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;Black Rabbit&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

rabbits<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>Rabbit<span class="token punctuation">.</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å¯ä»¥ä½¿ç¨ç¶ç±»çéææ¹æ³</span>

rabbits<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Black Rabbit runs with speed 5.</span>

<span class="token function">alert</span><span class="token punctuation">(</span>Rabbit<span class="token punctuation">.</span>planet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Earthï¼å¯ä»¥ä½¿ç¨ç¶ç±»çéæå±æ§</span>
</code></pre></div><h2 id="ç§æååä¿æ¤çå­æ®µ">ç§æååä¿æ¤çå­æ®µ</h2> <p>é¢åå¯¹è±¡ç¼ç¨ï¼OOPï¼èè¨ï¼åé¨æ¥å£ä¸å¤é¨æ¥å£çååè¢«ç§°ä¸º <a href="https://zh.wikipedia.org/wiki/%E5%B0%81%E8%A3%9D_(%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88)" target="_blank" rel="noopener noreferrer">å°è£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼å¯ä»¥ä¿æ¤ç¨æ·å¹¶éèå¤ææ§ãå¨ JavaScript ä¸­æä¾äºåä¿æ¤çå­æ®µï¼ä»¥  <code>_</code> å¼å¤´ï¼ä»¥åç§æå­æ®µï¼ä»¥ <code>#</code> å¼å¤´ï¼æ¥å®ç°å¯¹åé¨æ¥å£çãå°è£ãã</p> <ul><li><strong>åé¨æ¥å£</strong> å¯ä»¥éè¿è¯¥ç±»çå¶ä»æ¹æ³è®¿é®ï¼ä½ä¸è½ä»å¤é¨è®¿é®çæ¹æ³åå±æ§ã</li> <li><strong>å¤é¨æ¥å£</strong> ä¹å¯ä»¥ä»ç±»çå¤é¨è®¿é®çæ¹æ³åå±æ§ã</li></ul> <p>å¨ JavaScript ä¸­ï¼æä¸¤ç§ç±»åçå¯¹è±¡å­æ®µï¼å±æ§åæ¹æ³ï¼ï¼</p> <ul><li>å¬å±çï¼å¯ä»ä»»ä½å°æ¹è®¿é®ãå®ä»¬ææäºå¤é¨æ¥å£ãå°ç®åä¸ºæ­¢ï¼æä»¬åªä½¿ç¨äºå¬å±çå±æ§åæ¹æ³ã</li> <li>ç§æçï¼åªè½ä»ç±»çåé¨è®¿é®ãè¿äºç¨äºåé¨æ¥å£ã</li></ul> <p>åä¿æ¤çå­æ®µä¸æ¯å¨ Javascript è¯­è¨çº§å«ä¸­å®ç°çï¼èæ¯ç¨åºåä¹é´æä¸ä¸ªä¼æå¨ç¥ççº¦å®ï¼å³<strong>åä¿æ¤çå±æ§éå¸¸ä»¥ä¸åçº¿ <code>_</code> ä½ä¸ºåç¼</strong>ï¼å®ä»¬ä¸åºè¯¥ä»å¤é¨è®¿é®ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CoffeeMachine</span> <span class="token punctuation">{</span>
  _waterAmount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">set</span> <span class="token function">waterAmount</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Negative water&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_waterAmount <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">waterAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_waterAmount<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">power</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_power <span class="token operator">=</span> power<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// åå»ºåå¡æº</span>
<span class="token keyword">let</span> coffeeMachine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å æ°´</span>
coffeeMachine<span class="token punctuation">.</span>waterAmount <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// Error: Negative waterï¼éè¿ getter/setter å¯¹åé¨çå±æ§ _waterAmout è¿è¡è®¿é®</span>
</code></pre></div><p><strong>ç§æå±æ§åæ¹æ³åºè¯¥ä»¥ <code>#</code> å¼å¤´</strong>ï¼å®ä»¬åªå¨ç±»çåé¨å¯è¢«è®¿é®ï¼è¯¥è¯­æ³æ¯ JavaScript ä¸­çè§èä¸­ï¼å®ä¸ºç§æå±æ§åæ¹æ³æä¾è¯­è¨çº§æ¯æã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CoffeeMachine</span> <span class="token punctuation">{</span>
  #waterLimit <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

  <span class="token function">#checkWater</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Negative water&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#waterLimit<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Too much water&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">let</span> coffeeMachine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸è½ä»ç±»çå¤é¨è®¿é®ç±»çç§æå±æ§åæ¹æ³</span>
coffeeMachine<span class="token punctuation">.</span><span class="token function">#checkWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>
coffeeMachine<span class="token punctuation">.</span>#waterLimit <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>
</code></pre></div><p>ð¡ ç§æå­æ®µä¸å¬å±å­æ®µä¸ä¼åçå²çªï¼å¯ä»¥åæ¶æ¥æç§æçåå¬å±çååå­æ®µã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½¿ waterAmount æä¸º #waterAmount çä¸ä¸ªè®¿é®å¨</span>
<span class="token keyword">class</span> <span class="token class-name">CoffeeMachine</span> <span class="token punctuation">{</span>

  #waterAmount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">get</span> <span class="token function">waterAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#waterAmount<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">waterAmount</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Negative water&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#waterAmount <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> machine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMachine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

machine<span class="token punctuation">.</span>waterAmount <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>machine<span class="token punctuation">.</span>#waterAmount<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>
</code></pre></div><p>â ï¸ ç§æå­æ®µä¸è½éè¿ <code>this[#property]</code> å¨ç±»ä¸­è¿è¡è®¿é®ï¼èä¸<a href="https://zh.javascript.info/private-protected-properties-methods#si-you-de-waterlimit" target="_blank" rel="noopener noreferrer">æ æ³ç»§æ¿<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="å­ç±»">å­ç±»</h2> <p>åè</p> <ul><li><a href="https://www.jianshu.com/p/fc79756b1dc0" target="_blank" rel="noopener noreferrer">çè§£ es6 class ä¸­ constructor æ¹æ³ å super çä½ç¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zh.javascript.info/class-inheritance" target="_blank" rel="noopener noreferrer">ç±»ç»§æ¿<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>ç±»ç»§æ¿æ¯ä¸ä¸ªç±»æ©å±å¦ä¸ä¸ªç±»çä¸ç§æ¹å¼ï¼å¯ä»¥å¨ç°æåè½ä¹ä¸åå»ºæ°åè½ï¼ä¹ç§°ä¸ºå­ç±»ç»§æ¿äºç¶ç±»ã</p> <p>å¨ ES5 æ åä¸­å­ç±»ç»§æ¿ç¶ç±»éè¦åæ¶è®¾ç½®æé å½æ°åæ¹æ³å®¹å¨</p> <ul><li>å¨å­ç±»çæé å½æ°ä¸­éè¦å¼ç¨ç¶ç±»å½æ°ä»¥å°ç¶ç±»çå±æ§é½ç»§æ¿ä¸æ¥ï¼â ï¸ ä½æ¯éè¦ä½¿ç¨æ¹æ³ <code>call()</code> ãéç½®ãç¶ç±»çæé å½æ°ä¸­ç <code>this</code> æåä¸ºå­ç±»å®ä¾</li> <li>ä½¿ç¨å½æ° <code>Object.create(parentClassName.prototype)</code> ç»§æ¿ç¶ç±»æ¹æ³å®¹å¨ï¼â ï¸ è®°å¾ç±äºç»§æ¿èé æäº <code>constructor</code> è¦çï¼éè¦éæ°å»ºç«è¯¥å±æ§ç»å®åå­ç±»çæé å½æ°</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç¶ç±»æé å½æ°</span>
<span class="token keyword">function</span> <span class="token function">Tree</span><span class="token punctuation">(</span><span class="token parameter">size<span class="token punctuation">,</span> leaves</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>leaves <span class="token operator">=</span> leaves <span class="token operator">||</span> <span class="token punctuation">{</span>spring<span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span> summer<span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span> fall<span class="token operator">:</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> winter<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>leafColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç¶ç±»çååï¼æ¹æ³å®¹å¨ï¼</span>
<span class="token class-name">Tree</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">changeSeason</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">season</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>leafColor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>leaves<span class="token punctuation">[</span>season<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>season <span class="token operator">===</span> <span class="token string">'spring'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­ç±»æé å½æ°</span>
<span class="token keyword">function</span> <span class="token function">Maple</span> <span class="token punctuation">(</span><span class="token parameter">syrupQty<span class="token punctuation">,</span> size<span class="token punctuation">,</span> leaves</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Tree</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> leaves<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å¼ç¨ï¼ç»§æ¿ï¼ç¶ç±»</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>syrupQty <span class="token operator">=</span> syrupQty <span class="token operator">||</span> <span class="token number">15</span><span class="token punctuation">;</span>   <span class="token comment">// å­ç±»ç¹æçå±æ§</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­ç±»çååï¼æ¹æ³å®¹å¨ï¼ç»§æ¿èªç¶ç±»çåå</span>
<span class="token class-name">Maple</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Tree</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Maple</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Maple<span class="token punctuation">;</span>   <span class="token comment">// éæ°è®¾ç½®ååç constructor å±æ§ï¼ç»å®ä¼å­ç±»çæé å½æ°</span>

<span class="token comment">// å­ç±»çååæ·»å ç¹æçæ¹æ³</span>
<span class="token class-name">Maple</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">changeSeason</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">season</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Tree</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">changeSeason</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> season<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>season <span class="token operator">===</span> <span class="token string">'spring'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>syrupQty <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Maple</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">gatherSyrup</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>syrupQty <span class="token operator">-=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®ä¾åå­ç±»</span>
<span class="token keyword">let</span> myMaple <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Maple</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMaple<span class="token punctuation">.</span><span class="token function">changeSeason</span><span class="token punctuation">(</span><span class="token string">'fall'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMaple<span class="token punctuation">.</span><span class="token function">gatherSyrup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMaple<span class="token punctuation">.</span><span class="token function">changeSeason</span><span class="token punctuation">(</span><span class="token string">'spring'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å¨ ES6 ä¸­ä½¿ç¨å³é®å­ <code>extends</code>æ æ³¨ç»§æ¿çç¶ç±»ï¼ä½¿ä»£ç å°äºå¾å¤ï¼å®éä¸å¨åºå±ä¹æ¯éè¿å½æ°åååä¹é´çè¿æ¥ï¼</p> <p>å¨å£°æå­ç±»æ¶ä½¿ç¨å³é®å­ <code>extends</code> ï¼è¯¥å³é®å­å®éä¸æ¯è®¾ç½®äºä¸¤ä¸ªåå</p> <ul><li>å¨æé å½æ°ç <code>&quot;prototype&quot;</code> ä¹é´è®¾ç½®ååï¼ä¸ºäºè·åå®ä¾æ¹æ³ï¼ã</li> <li>å¨æé å½æ°ä¹é´ä¼è®¾ç½®ååï¼ä¸ºäºè·åéææ¹æ³ï¼ã</li></ul> <p><img src="/tech-blog/assets/img/20200429112911759_6007.fa12eb7a.png" alt="subclass"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç¶ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">speed</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> runs with speed </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> stands still.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­ç±»ç»§æ¿èªç¶ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> hides!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;White Rabbit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// White Rabbit runs with speed 5.</span>
rabbit<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// White Rabbit hides!</span>
</code></pre></div><p>ð¡ å¨ <code>extends</code> åä¸ä»åè®¸æå®ä¸ä¸ªç±»ï¼è¿åè®¸ä»»æè¡¨è¾¾å¼ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åºäºä¸ä¸ªå½æ°ï¼è¿åç±»ï¼åå»ºå­ç±»</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">phrase</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span>phrase<span class="token punctuation">)</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">f</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>   <span class="token comment">// éè¿è¿åçç±»åå»ºå­ç±»</span>
<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Helloï¼å®ä¾åå­ç±»å¹¶è¿è¡å¶ä¸­çæ¹æ³</span>
</code></pre></div><p>ð¡ å¦æéè¦å¨å­ç±»ä¸­éåç¶ç±»çæ¹æ³ææé å½æ°ï¼éè¦ä½¿ç¨å³é®å­ <code>super</code>ï¼å¯ä»¥ä½ä¸ºå¯¹è±¡ä¹å¯ä»¥æ¯æ¹æ³ï¼</p> <h3 id="éåæé å½æ°">éåæé å½æ°</h3> <p><strong>å¨å­ç±»ä¸­éåæé å½æ° <code>constructor</code> æ¶</strong>éè¦åæ§è¡ <code>super([paraments])</code> ä»¥è°ç¨ç¶ç±»çæé å½æ°ï¼â ï¸ èä¸éè¦å¨å­ç±»ä¸­ä½¿ç¨ <code>this</code> <strong>ä¹å</strong>ï¼å¿é¡»åè°ç¨è¶çº§ç±» <code>super</code>ã</p> <p>è¿æ¯ç±äºå¨ JavaScript ä¸­ç»§æ¿ç±»ï¼æ´¾çæé å¨ derived constructorï¼çæé å½æ°ä¸å¶ä»æé å½æ°æ¯æåºå«çï¼æ´¾çæé å¨å·æç¹æ®çåé¨å±æ§ <code>[[ConstructorKind]]:&quot;derived&quot;</code> è¯¥æ ç­¾ä¼å½±åå®ç <code>new</code> è¡ä¸ºï¼</p> <ul><li>å½éè¿ <code>new</code> æ§è¡ä¸ä¸ªå¸¸è§çæé å½æ°æ¶ï¼å®å°åå»ºä¸ä¸ªç©ºå¯¹è±¡ <code>{}</code> å¹¶å°è¿ä¸ªç©ºå¯¹è±¡èµå¼ç» <code>this</code></li> <li>ä½æ¯å½ç»§æ¿ç constructor ï¼å­ç±»æé å½æ°ï¼æ§è¡æ¶ï¼å®ä¸ä¼æ§è¡æ­¤æä½ï¼å®ææç¶ç±»ç <code>constructor</code> æ¥å®æè¿é¡¹å·¥ä½ï¼å æ­¤æ´¾çç <code>constructor</code> å¿é¡»è°ç¨ <code>super</code> æè½æ§è¡å¶ç¶ç±»ï¼éæ´¾ççï¼ç constructorï¼å¦å <code>this</code> æåçå¯¹è±¡å°ä¸ä¼è¢«åå»ºï¼å¹¶ä¸ä¼æ¶å°ä¸ä¸ªæ¥éã</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç¶ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token comment">// éåæé å½æ°</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> earLength</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// åæ§è¡ super() ä»¥åå»º this æä»£çå¯¹è±¡</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>earLength <span class="token operator">=</span> earLength<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;White Rabbit&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>rabbit<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// White Rabbit</span>
<span class="token function">alert</span><span class="token punctuation">(</span>rabbit<span class="token punctuation">.</span>earLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre></div><p>ð¡ å¨æé å½æ°ä¸­ <code>super()</code> å½æ°è¡¨ç¤ºï¼ç»§æ¿ï¼ç¶ç±»çæé å½æ°ï¼ä»¥åå»ºä¸ä¸ªå¯¹è±¡ï¼ä½è¿åçæ¯å­ç±»çå®ä¾ï¼å³ <code>super</code> æ¹æ³åé¨ç <code>this</code> æçæ¯å­ç±»å¯¹è±¡ï¼å æ­¤ <code>super()</code> å¨æé å½æ°ä¸­ç¸å½äº <code>parentClassName.call(this, [paraments])</code></p> <h3 id="éåæ¹æ³">éåæ¹æ³</h3> <p>å¦æå¨å­ç±»è®¾ç½®äºååçæ¹æ³ï¼æ ¹æ®ååé¾çå·¥ä½åçï¼è¯¥æ¹æ³ä¼å®å¨è¦çæç¶ç±»çååæ¹æ³ï¼ä½å¦æå¸æ<strong>åºäºç¶ç±»æ¹æ³è¿è¡ä¿®æ¹/æå±æ¶</strong>éè¦ä½¿ç¨ <code>super.functionOnParent([paraments])</code> åè°ç¨ç¶ç±»ä¸ç¸åºçæ¹æ³ã</p> <p>æ­¤æ¶ä½ä¸ºå¯¹è±¡ç <code>super</code> æåç¶ç±»çååå¯¹è±¡ï¼å³ <code>parent.prototype</code>ï¼ï¼éè¿ <code>super</code> è°ç¨ç¶ç±»çæ¹æ³æ¶å¹¶æ²¡æä½¿ç¨ <code>this</code>ï¼èæ¯ <a href="https://zh.javascript.info/class-inheritance#shen-ru-nei-bu-tan-jiu-he-homeobject" target="_blank" rel="noopener noreferrer">ä½¿ç¨ä¸ä¸ªç¹æ®ç<strong>åé¨å±æ§ <code>[[HomeObject]]</code></strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼å½ä¸ä¸ªå½æ°è¢«å®ä¹ä¸ºç±»æèå¯¹è±¡æ¹æ³æ¶ï¼å®ç <code>[[HomeObject]]</code> å±æ§å°±æä¸ºäºè¯¥å¯¹è±¡ï¼èä¸è¯¥å±æ§ä¸è½è¢«æ´æ¹ï¼ä¸è¡å³é®å­ <code>this</code> å¯éä¸ä¸ææ¹åï¼ï¼å æ­¤è¿äºæ¹æ³çå¼ç¨ä¸å¿æå¿ä¸¢å¤± <code>this</code> é®é¢ã</p> <p>â ï¸ <code>[[HomeObject]]</code> æ¯ä¸ºç±»åæ®éå¯¹è±¡ä¸­çæ¹æ³å®ä¹çãä½æ¯å¯¹äºå¯¹è±¡èè¨ï¼æ¹æ³å¿é¡»ç¡®åæå®ä¸º <code>method()</code>ï¼èä¸æ¯ <code>&quot;method: function()&quot;</code>ãæ­£æ¯ç±äºåé¨å±æ§ <code>[[HomeObject]]</code> ä¸å¯å¨ææ¹åï¼å æ­¤å½ç±»æ¹æ³ä½ä¸ºå½æ°è¢«åç¬å¼ç¨æ¶ï¼éè¦è­¦æå¼èµ·çå¯¹è±¡æä»£éè¯¯ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç¶ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">speed</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> runs with speed </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> stands still.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å­ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> hides!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// éåæ¹æ³</span>
  <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ç¨ç¶ç±»ç stop</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¶å hide</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token string">&quot;White Rabbit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// White Rabbit ä»¥éåº¦ 5 å¥è·</span>
rabbit<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// White Rabbit åæ­¢äºãWhite rabbit hide äº</span>
</code></pre></div><p>ð¡ ç®­å¤´å½æ°æ²¡æ <code>super</code> å®ä¼ä»å¤é¨å½æ°è·åï¼ç±»ä¼¼äº <code>this</code> ä¼ä»å¤é¨ä¸ä¸æä¸­è·åææä»£çå¯¹è±¡ã</p> <h2 id="æ©å±åå»ºç±»">æ©å±åå»ºç±»</h2> <p>JavaScript åå»ºçç±»ï¼å¦ <code>Array</code>ã<code>Map</code>ã<code>Set</code> ç­ä¹é½æ¯å¯ä»¥ç»§æ¿/æ©å± extendable çï¼èä¸å¨æ´¾çç±»ä¸ï¼å½è°ç¨å®ä¾å¯¹è±¡çæ¹æ³ä¼è¿åç¸åºçå¯¹è±¡æ¶ï¼å¦æ°ç»çæ¹æ³ <code>filter()</code>ãæ¹æ³ <code>slice()</code> ç­ï¼ä¼<strong>èªå¨è¿åæ´¾çç±»</strong>çå®ä¾ï¼èä¸æ¯ç¶ç±»çå®ä¾ï¼ï¼å æ­¤è¿åçå¯¹è±¡å¯ä»¥æ¥ææå±çæ¹æ³ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç»§æ¿èªåçç±» Array çå­ç±» PowerArray</span>
<span class="token keyword">class</span> <span class="token class-name">PowerArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç» PowerArray æ°å¢äºä¸ä¸ªæ¹æ³</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å®ä¾åå­ç±»</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PowerArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token keyword">let</span> filteredArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å·æç¶ç±»ï¼åçç±»ï¼æ¹æ³ filterï¼è¿åçå¯¹è±¡æ¯å­ç±»çä¸ä¸ªå®ä¾</span>
<span class="token function">alert</span><span class="token punctuation">(</span>filteredArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10, 50</span>
<span class="token function">alert</span><span class="token punctuation">(</span>filteredArr<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falseï¼è¿åçå¯¹è±¡æ¯å­ç±»çä¸ä¸ªå®ä¾ï¼å æ­¤å¯ä»¥è°ç¨å­ç±»ç¹æçæ¹æ³</span>
</code></pre></div><p>ð¡ è¿æ¯ç±äº<a href="https://elephantme.github.io/2017/08/02/es6-class/#Symbol-species%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer">åå»ºç±»ä¸­ <code>Symbol.species</code> å±æ§çä½ç¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼å½åå»ºç±»çæ¹æ³è¿åå¯¹è±¡å®ä¾æ¶å°ä½¿ç¨è¿ä¸ªç¹æ®çéæ getter <code>Symbol.species</code> ä½ä¸º constructorï¼è®¸å¤åå»ºç±»é½å·²å®ä¹äº <code>Symbol.species</code> å±æ§ï¼æ´¾çç±»ç»§æ¿è¯¥å±æ§æä»¥ä¹ä¼å¨è°ç¨ç¹å®æ¹æ³æ¶ä¹å¯ä»¥è¿åæ´¾çç±»ç¸åºçå¯¹è±¡å®ä¾ï¼å¦æå¯¹è¯¥å±æ§è¿è¡è¦çå¯ä»¥æ¹åè¯¥è¡ä¸ºã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">PowerArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// åå»ºæ¹æ³å°ä½¿ç¨è¿ä¸ªä½ä¸º constructor</span>
  <span class="token comment">// è¦çäºåæç¶ç±»çæ¹æ³</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Array<span class="token punctuation">;</span>   <span class="token comment">// å§ç»è¿åç¶ç±» Array çå®ä¾ï¼èä¸æ¯é»è®¤çè¯¥å­ç±»çå®ä¾</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PowerArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// filter ä½¿ç¨ arr.constructor[Symbol.species] ä½ä¸º constructor åå»ºæ°æ°ç»</span>
<span class="token keyword">let</span> filteredArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// filteredArr ä¸æ¯ PowerArrayï¼èæ¯ Array</span>
<span class="token function">alert</span><span class="token punctuation">(</span>filteredArr<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: filteredArr.isEmpty is not a function</span>
</code></pre></div><p>â ï¸ ä¸è¬ç±»ç»§æ¿ä½¿ç¨å³é®å­ <code>extends</code> ä¼è®¾ç½®ä¸¤ä¸ªååï¼<strong>ä½åå»ºç±»çç»§æ¿å¹¶ä¸ä¼å¨æé å½æ°ä¹é´è®¾ç½®åå</strong>ï¼å æ­¤å¯¹äºåå»ºç±»çéææ¹æ³ï¼å¦ <code>Object.keys</code>ã<code>Array.isArray</code> ç­ï¼å¹¶ä¸ä¼ç»§æ¿ï¼è¿æ¯æ©å±åå»ºç±»åä¸è¬ç±»ç»§æ¿çåºå«ã</p> <p>å¦ <code>Array</code> å <code>Data</code> é½ç»§æ¿èª <code>Object</code>ï¼å®ä»¬çå®ä¾åªç»§æ¿äºé½ææ¥èª <code>Object.prototype</code> çæ¹æ³ãä½ <code>Array.[[Prototype]]</code> å¹¶ä¸æå <code>Object</code>ï¼æä»¥å®ä»¬æ²¡æå¦ <code>Array.keys()</code>ï¼æ <code>Data.keys()</code>ï¼è¿äºéææ¹æ³ã</p> <p><img src="/tech-blog/assets/img/20200429201010063_28086.e490fa71.png" alt="extend-natives"></p> <h2 id="ç±»æ£æ¥">ç±»æ£æ¥</h2> <p>æä½ç¬¦ <code>instanceof</code> ç¨äºæ£æ¥ä¸ä¸ªå¯¹è±¡æ¯å¦å±äºæä¸ªç¹å®ç <code>class</code>ï¼éç¨äºç»§æ¿çç¶ç±»æ£æ¥ã</p> <div class="language-js extra-class"><pre class="language-js"><code>obj <span class="token keyword">instanceof</span> <span class="token class-name">Class</span>
</code></pre></div><p>å¦æ <code>obj</code> é¶å±äº <code>Class</code> ç±»ï¼æ <code>Class</code> ç±»çè¡çç±»ï¼ï¼åè¿å <code>true</code>ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Rabbit</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// rabbit æ¯ Rabbit class çå¯¹è±¡åï¼</span>
<span class="token function">alert</span><span class="token punctuation">(</span> rabbit <span class="token keyword">instanceof</span> <span class="token class-name">Rabbit</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>ð¡ è¯¥æä½ç¬¦éç¨äºæé å½æ°ååå»ºç±»ï¼å¦ <code>Array</code> ç­æåµã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// éç¨äºæé å½æ°ï¼ä¸æ¯ classï¼</span>
<span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Rabbit</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token comment">// éç¨äºåå»ºç±»ï¼å¦æ°ç» Array</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span> arr <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼ç±äº Array ç»§æ¿èª Object</span>
</code></pre></div><p>å®éä¸ <code>instanceof</code> å¨æ£æ¥ä¸­æ¯<strong>åºäºååé¾</strong>è¿è¡å¹éçï¼èä¸è¿å¯ä»¥éè¿éææ¹æ³ <code>Symbol.hasInstance</code> è¿è¡èªå®ä¹å¹éé»è¾ã</p> <p><code>obj instanceof Class</code> ç®æ³çæ§è¡è¿ç¨å¦ä¸</p> <ol><li><p>å¦ææéææ¹æ³ <code>Symbol.hasInstance</code> é£å°±ç´æ¥è°ç¨è¿ä¸ªæ¹æ³ï¼åºäºèªå®ä¹çè§åæ£æ¥è¿åç»æ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// èªå®ä¹ instanceOf æ£æ¥è§å</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>canEat<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>   <span class="token comment">// åè®¾å·æ canEat å±æ§çé½æ¯ animal</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> canEat<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼æ¹æ³ Animal[Symbol.hasInstance](obj) è¢«è°ç¨</span>
</code></pre></div></li> <li><p>å¤§å¤æ° class æ²¡æ <code>Symbol.hasInstance</code>ï¼æ åçé»è¾æ¯æ£æ¥ <code>Class.prototype</code> æ¯å¦ç­äº <code>obj</code> çååé¾ä¸­çååä¹ä¸ã</p> <div class="language-js extra-class"><pre class="language-js"><code>obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Class</span><span class="token punctuation">.</span>prototype<span class="token operator">?</span>
obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Class</span><span class="token punctuation">.</span>prototype<span class="token operator">?</span>
obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Class</span><span class="token punctuation">.</span>prototype<span class="token operator">?</span>
<span class="token operator">...</span>
<span class="token comment">// å¦æä»»æä¸ä¸ªçç­æ¡ä¸º trueï¼åè¿å true</span>
<span class="token comment">// å¦åï¼å¦ææä»¬å·²ç»æ£æ¥å°äºååé¾çå°¾ç«¯ï¼åè¿å false</span>
</code></pre></div></li></ol> <p>â ï¸ å®éä¸ <code>obj instanceof Class</code> åªæ£æ¥ <code>Class.prototype</code> æ¯å¦äº <code>obj</code> ååé¾ä¸­çååä¹ä¸ç¸ç­ï¼èä¸æ£æ¥ç±»ç  <code>constructor</code> èªèº«çï¼å æ­¤å¯ä»¥ä¿®æ¹ååèé æä¸äºæè¶£çç»æã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rabbit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¿®æ¹äº prototype</span>
<span class="token class-name">Rabbit</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åä¹ä¸æ¯ rabbit äºï¼</span>
<span class="token function">alert</span><span class="token punctuation">(</span> rabbit <span class="token keyword">instanceof</span> <span class="token class-name">Rabbit</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>ð¡ ä¸ä¸ªæ¹æ³ <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/object/isPrototypeOf" target="_blank" rel="noopener noreferrer">objA.isPrototypeOf(objB)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å¯ä»¥å®ç°ç±»ä¼¼çæ£æ¥åè½ï¼å¦æ <code>objA</code> å¤å¨ <code>objB</code> çååé¾ä¸­ï¼åè¿å <code>true</code>ãæä»¥å¯å° <code>obj instanceof Class</code> æ£æ¥æ¹ä¸º <code>Class.prototype.isPrototypeOf(obj)</code></p> <p>ð¡ é¤äºå¯ä»¥æ£æ¥ç±»åå¯¹è±¡å³ç³»ï¼ç±»ä¼¼äºä»¥å®æ°æ®ç±»åç <code>typeof</code>ï¼è¿å¯ä»¥ä½¿ç¨<a href="https://zh.javascript.info/instanceof#fu-li-shi-yong-objectprototypetostring-fang-fa-lai-jie-shi-lei-xing" target="_blank" rel="noopener noreferrer">å¯¹è±¡çåç½®æ¹æ³ <code>Object.prototype.toString</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼å³æ¹æ³ <code>toString</code> è¿åä»¥åå»ºå¯¹è±¡çãç±»åãï¼çè³éè¿ç¹æ®çå¯¹è±¡å±æ§ <code>Symbol.toStringTag</code> èªå®ä¹å¯¹è±¡ <code>toString</code> æ¹æ³çè¡ä¸ºã</p> <table><thead><tr><th style="text-align:center;">æ¹æ³/æä½ç¬¦</th> <th style="text-align:center;">ç¨äº</th> <th style="text-align:center;">è¿åå¼</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>typeof</code></td> <td style="text-align:center;">åå§æ°æ®ç±»å</td> <td style="text-align:center;"><code>string</code></td></tr> <tr><td style="text-align:center;"><code>{}.toString</code></td> <td style="text-align:center;">åå§æ°æ®ç±»åï¼åå»ºå¯¹è±¡ï¼åå« <code>Symbol.toStringTag</code> å±æ§çå¯¹è±¡</td> <td style="text-align:center;"><code>string</code></td></tr> <tr><td style="text-align:center;"><code>instanceof</code></td> <td style="text-align:center;">å¯¹è±¡</td> <td style="text-align:center;">true/false</td></tr></tbody></table> <h2 id="mixin-æ¨¡å¼">Mixin æ¨¡å¼</h2> <p>ä¸äºå¶å®ç¼ç¨è¯­è¨åè®¸å¤éç»§æ¿ï¼ä½ JavaScript ä¸æ¯æå¤éç»§æ¿ï¼æ¯ä¸ªç±»åªå¯ä»¥æ©å±å¦å¤ä¸ä¸ªç±»ï¼å³æ¯ä¸ªå¯¹è±¡åªè½æä¸ä¸ª <code>[[Prototype]]</code>ï¼ï¼ä½æä»¬å¯ä»¥ä½¿ç¨ mixinï¼ä¸ç§éè¿æ·»å å¤ç§è¡ä¸ºä¸°å¯åè½çæ¨¡å¼ï¼æ¥æ©åç±»çæ¹æ³ãMixin æ¯ä¸ä¸ªéç¨çé¢åå¯¹è±¡ç¼ç¨æ¯è¯­ï¼è¡¨ç¤ºæä¾äºå®ç°ç¹å®è¡ä¸ºçæ¹æ³ï¼éåï¼ï¼æä»¬ä¸è¬ä¸åç¬ä½¿ç¨è¿äºæ¹æ³ï¼èæ¯å°å¶æ·»å å°ç±»ä¸­ï¼éè¿æ·è´èä¸æ¯ç»§æ¿ï¼ï¼ä»¥æå±ç±»çå¯ç¨æ¹æ³ã</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// mixin</span>
<span class="token keyword">let</span> sayHiMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bye </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç±»</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ·è´æ¹æ³</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> sayHiMixin<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å° mixin ä¸­å¤ç§æ¹æ³æ·»å å°ç±»ï¼ååï¼ä¸­</span>

<span class="token comment">// ç°å¨ User å¯ä»¥ææå¼äº</span>
<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Dude&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello Dude!</span>
</code></pre></div><p>ð¡ Mixin å¯ä»¥å¨èªå·±åé¨ä½¿ç¨ç»§æ¿ï¼è½ç¶æ¹æ³æ¯éè¿æ·è´çæ¹æ³æ·»å å°ç±»çååä¸ï¼ä½æ¯å¨ mixin ä¸­çç»§æ¿ï¼æ¹æ³ï¼ä½¿ç¨å³é®å­ <code>super</code> å³å¯é¿åå³é®å­ <code>this</code> ä¸¢å¤±</p> <p><img src="/tech-blog/assets/img/20200429231432645_1441.70ac9ef7.png" alt="mixin prototype"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> sayMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token parameter">phrase</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>phrase<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> sayHiMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  __proto__<span class="token operator">:</span> sayMixin<span class="token punctuation">,</span> <span class="token comment">// (æèï¼æä»¬å¯ä»¥å¨è¿å¿ä½¿ç¨ Object.create æ¥è®¾ç½®åå)</span>

  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ç¨ç¶ç±»æ¹æ³</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bye </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ·è´æ¹æ³</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> sayHiMixin<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ç°å¨ User å¯ä»¥ææå¼äº</span>
<span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;Dude&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello Dude!</span>
</code></pre></div><p>æ¹æ³ <code>sayHi</code> å <code>sayBye</code> æåæ¯å¨ <code>sayHiMixin</code> ä¸­åå»ºçï¼å æ­¤å³ä½¿å¤å¶äºå®ä»¬ï¼ä½æ¯å®ä»¬ç <code>[[HomeObject]]</code> åé¨å±æ§ä»å¼ç¨çæ¯ <code>sayHiMixin</code>ï¼æå³çè°ç¨è¿äºæ¹æ³æ¶æç´¢çæ¯ <code>sayHiMixin.[[Prototype]]</code>ï¼èä¸æ¯ <code>User.[[Prototype]]</code>ã</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æ´æ°æ¶é´:</span> <span class="time">2/25/2021, 6:05:13 PM</span></div></footer> <!----> </main></div> <div class="catalog-container absolute top-0 right-0 h-full hidden lg:block" style="width:0px;"><div class="headings-list-container sticky top-36" data-v-cceeb8de><ul class="m-2 lg:pl-7 xl:pl-11 py-7 opacity-60 hover:opacity-100 transition-all duration-300" data-v-cceeb8de></ul></div></div></div> <div class="catalog-btn hidden sticky bottom-16 lg:flex justify-end items-center mb-4"><button class="focus:outline-none"><div class="p-2 flex justify-center items-center rounded-l-md bg-gray-300 text-white transition-all duration-500 bg-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg> <span class="pl-2 hidden text-xs" style="display:none;">æ¾ç¤ºç®å½</span> <span class="pl-2 hidden text-xs" style="display:;">å³é­ç®å½</span></div></button></div> <div class="scroll-to-top hidden sticky bottom-6 lg:flex justify-end items-center mb-4" data-v-73a2269d><button data-v-73a2269d><div class="p-2 flex justify-center items-center rounded-l-md bg-gray-300 text-white hover:bg-gray-600 transition-all duration-500" data-v-73a2269d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" data-v-73a2269d><path fill-rule="evenodd" d="M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z" data-v-73a2269d></path></svg> <span class="pl-2 hidden text-xs" data-v-73a2269d>è¿åé¡¶é¨</span></div></button></div> <div class="more-btns lg:hidden sticky bottom-6 flex justify-end items-center mb-4" style="display:;"><div class="py-1 flex justify-center items-center rounded-l-md text-white transition-all duration-500 bg-gray-300"><button class="p-2" style="display:;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223z"></path></svg></button> <button class="p-2" style="display:none;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671z"></path></svg></button> <button class="p-2 border-l flex justify-center items-center" style="display:none;"><span class="pl-1 text-xs">æå¼ç®å½</span></button> <button class="p-2 border-l flex justify-center items-center" style="display:none;"><span class="pl-1 text-xs">è¿åé¡¶é¨</span></button></div></div> <footer class="bg-gray-300 w-full p-10 flex flex-col md:flex-row justify-between items-center" data-v-496c892e><button class="relative" data-v-496c892e><a href="/" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/Ben.png" alt="avatar" class="w-auto h-12 rounded-full" data-v-496c892e></button> <div class="copyright py-5 md:py-0" data-v-496c892e><p class="text-center text-sm" data-v-496c892e>
      Â©2021
      <span class="author" data-v-496c892e>BenThomson</span>. All Right Reserved.
    </p> <p class="text-xs text-center text-gray-400" data-v-496c892e>
      é¤ç¹æ®è¯´æå¤ï¼æ¬ç«çæç« éµå¾ª
      <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400" data-v-496c892e>CC-BY-SA-4.0</a>
      åè®®
    </p></div> <div class="btn-container" data-v-496c892e><button class="relative mx-1" data-v-496c892e><a href="mailto:mebeansbin@gmail.com" target="" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/email.svg" alt="email" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://github.com/Benbinbin" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/github.svg" alt="github" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://juejin.cn/user/3175045314389278/posts" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/juejin.svg" alt="juejin" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://dribbble.com/BinBinDesign" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/dribbble.svg" alt="dribbble" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://twitter.com/Benbinbin_fun" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/twitter.svg" alt="twitter" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://weibo.com/binbindesign" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/weibo.svg" alt="weibo" class="w-auto h-5" data-v-496c892e></button></div></footer> <!----> <div class="tooltip fixed inset-x-4 top-20 z-10 border bg-gray-50 bg-opacity-95 rounded-xl border-gray-300 shadow" style="display:none;"><div class="headings-tooltip-container" data-v-e14be5f8><ul class="m-2 pt-8 relative flex justify-between overflow-x-auto" data-v-e14be5f8></ul></div></div></div><div class="global-ui"></div></div>
    <script src="/tech-blog/assets/js/app.e2907910.js" defer></script><script src="/tech-blog/assets/js/19.4fae91a9.js" defer></script><script src="/tech-blog/assets/js/1.c19b0b73.js" defer></script><script src="/tech-blog/assets/js/41.4b138d38.js" defer></script>
  </body>
</html>
