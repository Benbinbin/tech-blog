<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>垃圾回收 | Tech Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Notes written by BenThomson when learning tech skills.">
    
    <link rel="preload" href="/tech-blog/assets/css/0.styles.d6b0b335.css" as="style"><link rel="preload" href="/tech-blog/assets/js/app.e2907910.js" as="script"><link rel="preload" href="/tech-blog/assets/js/19.4fae91a9.js" as="script"><link rel="preload" href="/tech-blog/assets/js/1.c19b0b73.js" as="script"><link rel="preload" href="/tech-blog/assets/js/32.4f0968eb.js" as="script"><link rel="prefetch" href="/tech-blog/assets/js/10.b6368563.js"><link rel="prefetch" href="/tech-blog/assets/js/100.e76d45fb.js"><link rel="prefetch" href="/tech-blog/assets/js/101.4a645a30.js"><link rel="prefetch" href="/tech-blog/assets/js/102.a6b546e7.js"><link rel="prefetch" href="/tech-blog/assets/js/103.b4b72833.js"><link rel="prefetch" href="/tech-blog/assets/js/104.0ebb204e.js"><link rel="prefetch" href="/tech-blog/assets/js/105.b73e77fa.js"><link rel="prefetch" href="/tech-blog/assets/js/106.436e9b33.js"><link rel="prefetch" href="/tech-blog/assets/js/107.fc159900.js"><link rel="prefetch" href="/tech-blog/assets/js/108.df6a446a.js"><link rel="prefetch" href="/tech-blog/assets/js/109.dee6ddc0.js"><link rel="prefetch" href="/tech-blog/assets/js/11.7f313d83.js"><link rel="prefetch" href="/tech-blog/assets/js/110.3ac7e842.js"><link rel="prefetch" href="/tech-blog/assets/js/111.1e260a97.js"><link rel="prefetch" href="/tech-blog/assets/js/112.91a95354.js"><link rel="prefetch" href="/tech-blog/assets/js/113.0260f8a8.js"><link rel="prefetch" href="/tech-blog/assets/js/114.e757a67b.js"><link rel="prefetch" href="/tech-blog/assets/js/115.9266e866.js"><link rel="prefetch" href="/tech-blog/assets/js/116.38cb7f4e.js"><link rel="prefetch" href="/tech-blog/assets/js/117.5c68130b.js"><link rel="prefetch" href="/tech-blog/assets/js/118.e45f0f67.js"><link rel="prefetch" href="/tech-blog/assets/js/119.7c831a81.js"><link rel="prefetch" href="/tech-blog/assets/js/12.50459577.js"><link rel="prefetch" href="/tech-blog/assets/js/120.0b394698.js"><link rel="prefetch" href="/tech-blog/assets/js/121.2f679253.js"><link rel="prefetch" href="/tech-blog/assets/js/122.ca87e3bf.js"><link rel="prefetch" href="/tech-blog/assets/js/123.2c3d9f63.js"><link rel="prefetch" href="/tech-blog/assets/js/124.7af73ab3.js"><link rel="prefetch" href="/tech-blog/assets/js/125.5a8e0f06.js"><link rel="prefetch" href="/tech-blog/assets/js/126.c74b0881.js"><link rel="prefetch" href="/tech-blog/assets/js/127.ca005d5c.js"><link rel="prefetch" href="/tech-blog/assets/js/128.4eb3c0f2.js"><link rel="prefetch" href="/tech-blog/assets/js/129.7d437ef1.js"><link rel="prefetch" href="/tech-blog/assets/js/13.74fe14ff.js"><link rel="prefetch" href="/tech-blog/assets/js/130.ac2c9b29.js"><link rel="prefetch" href="/tech-blog/assets/js/131.b3b8e1f9.js"><link rel="prefetch" href="/tech-blog/assets/js/132.bb174784.js"><link rel="prefetch" href="/tech-blog/assets/js/133.e3f58838.js"><link rel="prefetch" href="/tech-blog/assets/js/134.f7710664.js"><link rel="prefetch" href="/tech-blog/assets/js/135.17e40d08.js"><link rel="prefetch" href="/tech-blog/assets/js/136.7c96c1ac.js"><link rel="prefetch" href="/tech-blog/assets/js/137.06f4bf7f.js"><link rel="prefetch" href="/tech-blog/assets/js/138.51e41cae.js"><link rel="prefetch" href="/tech-blog/assets/js/139.db6de4c6.js"><link rel="prefetch" href="/tech-blog/assets/js/14.b9eb7a74.js"><link rel="prefetch" href="/tech-blog/assets/js/140.7cd18e71.js"><link rel="prefetch" href="/tech-blog/assets/js/141.bb189059.js"><link rel="prefetch" href="/tech-blog/assets/js/142.b3ae92f6.js"><link rel="prefetch" href="/tech-blog/assets/js/143.a84820c0.js"><link rel="prefetch" href="/tech-blog/assets/js/144.71f6dede.js"><link rel="prefetch" href="/tech-blog/assets/js/145.55967075.js"><link rel="prefetch" href="/tech-blog/assets/js/146.afc5f6c4.js"><link rel="prefetch" href="/tech-blog/assets/js/147.bc78c79c.js"><link rel="prefetch" href="/tech-blog/assets/js/148.a2b2a61a.js"><link rel="prefetch" href="/tech-blog/assets/js/149.03267208.js"><link rel="prefetch" href="/tech-blog/assets/js/15.87822948.js"><link rel="prefetch" href="/tech-blog/assets/js/150.930ebe5e.js"><link rel="prefetch" href="/tech-blog/assets/js/151.16885b8e.js"><link rel="prefetch" href="/tech-blog/assets/js/152.1da3b71e.js"><link rel="prefetch" href="/tech-blog/assets/js/153.526ebd90.js"><link rel="prefetch" href="/tech-blog/assets/js/154.59aff75a.js"><link rel="prefetch" href="/tech-blog/assets/js/155.b6348b0c.js"><link rel="prefetch" href="/tech-blog/assets/js/156.9b730b36.js"><link rel="prefetch" href="/tech-blog/assets/js/157.714e8356.js"><link rel="prefetch" href="/tech-blog/assets/js/158.ed339647.js"><link rel="prefetch" href="/tech-blog/assets/js/159.bb53475e.js"><link rel="prefetch" href="/tech-blog/assets/js/16.ed1157a5.js"><link rel="prefetch" href="/tech-blog/assets/js/160.7c7d0c92.js"><link rel="prefetch" href="/tech-blog/assets/js/161.860b8f7c.js"><link rel="prefetch" href="/tech-blog/assets/js/162.11bf5a07.js"><link rel="prefetch" href="/tech-blog/assets/js/163.76dfbd4a.js"><link rel="prefetch" href="/tech-blog/assets/js/164.998d552b.js"><link rel="prefetch" href="/tech-blog/assets/js/165.4b7fea67.js"><link rel="prefetch" href="/tech-blog/assets/js/166.5bd52768.js"><link rel="prefetch" href="/tech-blog/assets/js/167.d966178f.js"><link rel="prefetch" href="/tech-blog/assets/js/168.220219c5.js"><link rel="prefetch" href="/tech-blog/assets/js/169.7c0f662b.js"><link rel="prefetch" href="/tech-blog/assets/js/17.fb473c93.js"><link rel="prefetch" href="/tech-blog/assets/js/170.c687f331.js"><link rel="prefetch" href="/tech-blog/assets/js/171.84c9eb16.js"><link rel="prefetch" href="/tech-blog/assets/js/172.1057763b.js"><link rel="prefetch" href="/tech-blog/assets/js/173.863408c4.js"><link rel="prefetch" href="/tech-blog/assets/js/174.ae976955.js"><link rel="prefetch" href="/tech-blog/assets/js/175.723d8fb3.js"><link rel="prefetch" href="/tech-blog/assets/js/176.4e52e151.js"><link rel="prefetch" href="/tech-blog/assets/js/177.28e3dbd9.js"><link rel="prefetch" href="/tech-blog/assets/js/178.fe642e1b.js"><link rel="prefetch" href="/tech-blog/assets/js/179.8a237636.js"><link rel="prefetch" href="/tech-blog/assets/js/18.8d825957.js"><link rel="prefetch" href="/tech-blog/assets/js/180.7d5bab8b.js"><link rel="prefetch" href="/tech-blog/assets/js/181.2b1b15fd.js"><link rel="prefetch" href="/tech-blog/assets/js/182.049370ee.js"><link rel="prefetch" href="/tech-blog/assets/js/183.06ccd661.js"><link rel="prefetch" href="/tech-blog/assets/js/184.0af82719.js"><link rel="prefetch" href="/tech-blog/assets/js/185.d261b0af.js"><link rel="prefetch" href="/tech-blog/assets/js/186.2454c831.js"><link rel="prefetch" href="/tech-blog/assets/js/187.c6e8c2fb.js"><link rel="prefetch" href="/tech-blog/assets/js/188.98775ab9.js"><link rel="prefetch" href="/tech-blog/assets/js/189.32aae8d7.js"><link rel="prefetch" href="/tech-blog/assets/js/190.f4621a4d.js"><link rel="prefetch" href="/tech-blog/assets/js/191.9466b89e.js"><link rel="prefetch" href="/tech-blog/assets/js/192.51af6405.js"><link rel="prefetch" href="/tech-blog/assets/js/193.adcb809e.js"><link rel="prefetch" href="/tech-blog/assets/js/194.c96d7977.js"><link rel="prefetch" href="/tech-blog/assets/js/195.3e20a5ff.js"><link rel="prefetch" href="/tech-blog/assets/js/196.538eca67.js"><link rel="prefetch" href="/tech-blog/assets/js/197.64c0b608.js"><link rel="prefetch" href="/tech-blog/assets/js/198.a9a0b850.js"><link rel="prefetch" href="/tech-blog/assets/js/199.f0f16c6c.js"><link rel="prefetch" href="/tech-blog/assets/js/2.566c27d6.js"><link rel="prefetch" href="/tech-blog/assets/js/20.d74b39d9.js"><link rel="prefetch" href="/tech-blog/assets/js/200.c84b6726.js"><link rel="prefetch" href="/tech-blog/assets/js/201.fab1ff25.js"><link rel="prefetch" href="/tech-blog/assets/js/202.232d9fa7.js"><link rel="prefetch" href="/tech-blog/assets/js/203.305c86b7.js"><link rel="prefetch" href="/tech-blog/assets/js/204.949c7add.js"><link rel="prefetch" href="/tech-blog/assets/js/205.184b0b2d.js"><link rel="prefetch" href="/tech-blog/assets/js/206.3fd3cfa2.js"><link rel="prefetch" href="/tech-blog/assets/js/207.9e6b9521.js"><link rel="prefetch" href="/tech-blog/assets/js/208.ecbcc4da.js"><link rel="prefetch" href="/tech-blog/assets/js/209.ee7faba1.js"><link rel="prefetch" href="/tech-blog/assets/js/21.0185f12c.js"><link rel="prefetch" href="/tech-blog/assets/js/210.b5d484ac.js"><link rel="prefetch" href="/tech-blog/assets/js/211.e8092c05.js"><link rel="prefetch" href="/tech-blog/assets/js/212.0e6ba584.js"><link rel="prefetch" href="/tech-blog/assets/js/213.ff3d4871.js"><link rel="prefetch" href="/tech-blog/assets/js/214.5bae2dc0.js"><link rel="prefetch" href="/tech-blog/assets/js/215.62695694.js"><link rel="prefetch" href="/tech-blog/assets/js/216.d657080f.js"><link rel="prefetch" href="/tech-blog/assets/js/217.ce6cde02.js"><link rel="prefetch" href="/tech-blog/assets/js/218.865fd3cf.js"><link rel="prefetch" href="/tech-blog/assets/js/219.6571a742.js"><link rel="prefetch" href="/tech-blog/assets/js/22.2d412bec.js"><link rel="prefetch" href="/tech-blog/assets/js/220.18e726d8.js"><link rel="prefetch" href="/tech-blog/assets/js/221.c9db8555.js"><link rel="prefetch" href="/tech-blog/assets/js/222.7b19269a.js"><link rel="prefetch" href="/tech-blog/assets/js/223.f1a5cd82.js"><link rel="prefetch" href="/tech-blog/assets/js/224.124126e0.js"><link rel="prefetch" href="/tech-blog/assets/js/225.44034b61.js"><link rel="prefetch" href="/tech-blog/assets/js/226.4fe77bfd.js"><link rel="prefetch" href="/tech-blog/assets/js/227.f96362d4.js"><link rel="prefetch" href="/tech-blog/assets/js/228.a02346a8.js"><link rel="prefetch" href="/tech-blog/assets/js/229.3cf5a688.js"><link rel="prefetch" href="/tech-blog/assets/js/23.9d37722d.js"><link rel="prefetch" href="/tech-blog/assets/js/230.7fb68917.js"><link rel="prefetch" href="/tech-blog/assets/js/231.303d5843.js"><link rel="prefetch" href="/tech-blog/assets/js/232.9487eead.js"><link rel="prefetch" href="/tech-blog/assets/js/233.c40e35a8.js"><link rel="prefetch" href="/tech-blog/assets/js/234.c2e08d41.js"><link rel="prefetch" href="/tech-blog/assets/js/235.13434890.js"><link rel="prefetch" href="/tech-blog/assets/js/236.58235d4b.js"><link rel="prefetch" href="/tech-blog/assets/js/237.74ec86f6.js"><link rel="prefetch" href="/tech-blog/assets/js/238.a2cecdbf.js"><link rel="prefetch" href="/tech-blog/assets/js/239.31cb5750.js"><link rel="prefetch" href="/tech-blog/assets/js/24.bd0ece1f.js"><link rel="prefetch" href="/tech-blog/assets/js/240.0d0ecd96.js"><link rel="prefetch" href="/tech-blog/assets/js/241.a56701a5.js"><link rel="prefetch" href="/tech-blog/assets/js/242.8c0043d9.js"><link rel="prefetch" href="/tech-blog/assets/js/243.352cbd64.js"><link rel="prefetch" href="/tech-blog/assets/js/244.3a8b742d.js"><link rel="prefetch" href="/tech-blog/assets/js/245.d195e8c4.js"><link rel="prefetch" href="/tech-blog/assets/js/246.72ef9e6d.js"><link rel="prefetch" href="/tech-blog/assets/js/247.c60e70ff.js"><link rel="prefetch" href="/tech-blog/assets/js/248.190b2e01.js"><link rel="prefetch" href="/tech-blog/assets/js/249.44f039a3.js"><link rel="prefetch" href="/tech-blog/assets/js/25.b3e6892d.js"><link rel="prefetch" href="/tech-blog/assets/js/250.d4f68fc6.js"><link rel="prefetch" href="/tech-blog/assets/js/251.c54bd24f.js"><link rel="prefetch" href="/tech-blog/assets/js/252.ef86b8ae.js"><link rel="prefetch" href="/tech-blog/assets/js/253.af575fd6.js"><link rel="prefetch" href="/tech-blog/assets/js/254.8684b1e9.js"><link rel="prefetch" href="/tech-blog/assets/js/255.da5fba2d.js"><link rel="prefetch" href="/tech-blog/assets/js/256.cdd1dbb6.js"><link rel="prefetch" href="/tech-blog/assets/js/257.cecc66ec.js"><link rel="prefetch" href="/tech-blog/assets/js/258.fcf3c1b2.js"><link rel="prefetch" href="/tech-blog/assets/js/259.dd0b785d.js"><link rel="prefetch" href="/tech-blog/assets/js/26.c667f021.js"><link rel="prefetch" href="/tech-blog/assets/js/260.6941e2e1.js"><link rel="prefetch" href="/tech-blog/assets/js/261.fa9b1454.js"><link rel="prefetch" href="/tech-blog/assets/js/262.cf8f5b55.js"><link rel="prefetch" href="/tech-blog/assets/js/263.fa67afc2.js"><link rel="prefetch" href="/tech-blog/assets/js/264.6b2dbe26.js"><link rel="prefetch" href="/tech-blog/assets/js/265.d7c5b8fd.js"><link rel="prefetch" href="/tech-blog/assets/js/266.1a162200.js"><link rel="prefetch" href="/tech-blog/assets/js/267.1b5df710.js"><link rel="prefetch" href="/tech-blog/assets/js/268.c2294c76.js"><link rel="prefetch" href="/tech-blog/assets/js/269.6abb34d3.js"><link rel="prefetch" href="/tech-blog/assets/js/27.605f1183.js"><link rel="prefetch" href="/tech-blog/assets/js/270.2cc387ea.js"><link rel="prefetch" href="/tech-blog/assets/js/271.4c0a8152.js"><link rel="prefetch" href="/tech-blog/assets/js/272.76579b08.js"><link rel="prefetch" href="/tech-blog/assets/js/273.a8e5e247.js"><link rel="prefetch" href="/tech-blog/assets/js/274.b0283f29.js"><link rel="prefetch" href="/tech-blog/assets/js/275.c82e7c90.js"><link rel="prefetch" href="/tech-blog/assets/js/276.50485337.js"><link rel="prefetch" href="/tech-blog/assets/js/277.7954540b.js"><link rel="prefetch" href="/tech-blog/assets/js/278.8ffafc74.js"><link rel="prefetch" href="/tech-blog/assets/js/279.b5a8028b.js"><link rel="prefetch" href="/tech-blog/assets/js/28.cea010b7.js"><link rel="prefetch" href="/tech-blog/assets/js/280.e972cc66.js"><link rel="prefetch" href="/tech-blog/assets/js/281.d0a4a70f.js"><link rel="prefetch" href="/tech-blog/assets/js/282.0f7e5b86.js"><link rel="prefetch" href="/tech-blog/assets/js/283.4cd3db83.js"><link rel="prefetch" href="/tech-blog/assets/js/284.da3d7e42.js"><link rel="prefetch" href="/tech-blog/assets/js/285.2ead31b6.js"><link rel="prefetch" href="/tech-blog/assets/js/286.d1e75872.js"><link rel="prefetch" href="/tech-blog/assets/js/287.7bdbbd2c.js"><link rel="prefetch" href="/tech-blog/assets/js/288.f1bb48ac.js"><link rel="prefetch" href="/tech-blog/assets/js/289.5cb43d47.js"><link rel="prefetch" href="/tech-blog/assets/js/29.7f84a6c7.js"><link rel="prefetch" href="/tech-blog/assets/js/290.17d46c7f.js"><link rel="prefetch" href="/tech-blog/assets/js/291.d856f05f.js"><link rel="prefetch" href="/tech-blog/assets/js/292.f353b737.js"><link rel="prefetch" href="/tech-blog/assets/js/293.3219d668.js"><link rel="prefetch" href="/tech-blog/assets/js/294.da30deed.js"><link rel="prefetch" href="/tech-blog/assets/js/295.3ef190bc.js"><link rel="prefetch" href="/tech-blog/assets/js/296.51842e35.js"><link rel="prefetch" href="/tech-blog/assets/js/297.d5d8bc7c.js"><link rel="prefetch" href="/tech-blog/assets/js/298.c4d02eb3.js"><link rel="prefetch" href="/tech-blog/assets/js/299.34fbb12f.js"><link rel="prefetch" href="/tech-blog/assets/js/30.a690c277.js"><link rel="prefetch" href="/tech-blog/assets/js/300.dc4ebe83.js"><link rel="prefetch" href="/tech-blog/assets/js/301.3d79013b.js"><link rel="prefetch" href="/tech-blog/assets/js/302.b7bc2077.js"><link rel="prefetch" href="/tech-blog/assets/js/303.f507bd62.js"><link rel="prefetch" href="/tech-blog/assets/js/304.70c76de8.js"><link rel="prefetch" href="/tech-blog/assets/js/305.06c79abd.js"><link rel="prefetch" href="/tech-blog/assets/js/306.b51ab104.js"><link rel="prefetch" href="/tech-blog/assets/js/307.18923549.js"><link rel="prefetch" href="/tech-blog/assets/js/308.a49a1d4b.js"><link rel="prefetch" href="/tech-blog/assets/js/309.400f0e43.js"><link rel="prefetch" href="/tech-blog/assets/js/31.210edda6.js"><link rel="prefetch" href="/tech-blog/assets/js/310.a706d0e5.js"><link rel="prefetch" href="/tech-blog/assets/js/311.7d82a7d9.js"><link rel="prefetch" href="/tech-blog/assets/js/312.58bba4e3.js"><link rel="prefetch" href="/tech-blog/assets/js/313.6147c60c.js"><link rel="prefetch" href="/tech-blog/assets/js/314.9c828d81.js"><link rel="prefetch" href="/tech-blog/assets/js/315.b71aca4e.js"><link rel="prefetch" href="/tech-blog/assets/js/316.dedf13de.js"><link rel="prefetch" href="/tech-blog/assets/js/317.1c6aedeb.js"><link rel="prefetch" href="/tech-blog/assets/js/318.4d069328.js"><link rel="prefetch" href="/tech-blog/assets/js/319.ead84e89.js"><link rel="prefetch" href="/tech-blog/assets/js/320.9196af73.js"><link rel="prefetch" href="/tech-blog/assets/js/321.1be13b10.js"><link rel="prefetch" href="/tech-blog/assets/js/322.6fa37b4f.js"><link rel="prefetch" href="/tech-blog/assets/js/323.f9d29aaf.js"><link rel="prefetch" href="/tech-blog/assets/js/324.cb6a6903.js"><link rel="prefetch" href="/tech-blog/assets/js/325.264b4bab.js"><link rel="prefetch" href="/tech-blog/assets/js/326.cd71f7a2.js"><link rel="prefetch" href="/tech-blog/assets/js/327.799dc92d.js"><link rel="prefetch" href="/tech-blog/assets/js/328.0f17409b.js"><link rel="prefetch" href="/tech-blog/assets/js/329.96099252.js"><link rel="prefetch" href="/tech-blog/assets/js/33.87770ad1.js"><link rel="prefetch" href="/tech-blog/assets/js/330.0bcb80da.js"><link rel="prefetch" href="/tech-blog/assets/js/331.946fd31f.js"><link rel="prefetch" href="/tech-blog/assets/js/332.60beb333.js"><link rel="prefetch" href="/tech-blog/assets/js/34.8ee59d40.js"><link rel="prefetch" href="/tech-blog/assets/js/35.fd994a34.js"><link rel="prefetch" href="/tech-blog/assets/js/36.584bf91b.js"><link rel="prefetch" href="/tech-blog/assets/js/37.270d1bd2.js"><link rel="prefetch" href="/tech-blog/assets/js/38.30bcfdaf.js"><link rel="prefetch" href="/tech-blog/assets/js/39.89d52ebd.js"><link rel="prefetch" href="/tech-blog/assets/js/4.6cf2314e.js"><link rel="prefetch" href="/tech-blog/assets/js/40.b8b49036.js"><link rel="prefetch" href="/tech-blog/assets/js/41.4b138d38.js"><link rel="prefetch" href="/tech-blog/assets/js/42.2b0134be.js"><link rel="prefetch" href="/tech-blog/assets/js/43.e60d3b0a.js"><link rel="prefetch" href="/tech-blog/assets/js/44.520ae30e.js"><link rel="prefetch" href="/tech-blog/assets/js/45.61a6fdb6.js"><link rel="prefetch" href="/tech-blog/assets/js/46.32a9d5f4.js"><link rel="prefetch" href="/tech-blog/assets/js/47.ccfe5207.js"><link rel="prefetch" href="/tech-blog/assets/js/48.beb20f17.js"><link rel="prefetch" href="/tech-blog/assets/js/49.eacc8bb4.js"><link rel="prefetch" href="/tech-blog/assets/js/5.a85c6e29.js"><link rel="prefetch" href="/tech-blog/assets/js/50.1643ee2a.js"><link rel="prefetch" href="/tech-blog/assets/js/51.03d8de2e.js"><link rel="prefetch" href="/tech-blog/assets/js/52.9bc355c6.js"><link rel="prefetch" href="/tech-blog/assets/js/53.53fb7223.js"><link rel="prefetch" href="/tech-blog/assets/js/54.6431de40.js"><link rel="prefetch" href="/tech-blog/assets/js/55.799b4392.js"><link rel="prefetch" href="/tech-blog/assets/js/56.1cd36345.js"><link rel="prefetch" href="/tech-blog/assets/js/57.a8fb9be3.js"><link rel="prefetch" href="/tech-blog/assets/js/58.4d7b06af.js"><link rel="prefetch" href="/tech-blog/assets/js/59.29bf2f4d.js"><link rel="prefetch" href="/tech-blog/assets/js/6.71a576b7.js"><link rel="prefetch" href="/tech-blog/assets/js/60.67eaec2f.js"><link rel="prefetch" href="/tech-blog/assets/js/61.de748b43.js"><link rel="prefetch" href="/tech-blog/assets/js/62.a49d9fca.js"><link rel="prefetch" href="/tech-blog/assets/js/63.5e3465c8.js"><link rel="prefetch" href="/tech-blog/assets/js/64.5dde0633.js"><link rel="prefetch" href="/tech-blog/assets/js/65.961dc970.js"><link rel="prefetch" href="/tech-blog/assets/js/66.61692b0a.js"><link rel="prefetch" href="/tech-blog/assets/js/67.6daf46ab.js"><link rel="prefetch" href="/tech-blog/assets/js/68.a48ed68c.js"><link rel="prefetch" href="/tech-blog/assets/js/69.88422d5f.js"><link rel="prefetch" href="/tech-blog/assets/js/7.d11dade5.js"><link rel="prefetch" href="/tech-blog/assets/js/70.374bef78.js"><link rel="prefetch" href="/tech-blog/assets/js/71.f190667d.js"><link rel="prefetch" href="/tech-blog/assets/js/72.2e1c337a.js"><link rel="prefetch" href="/tech-blog/assets/js/73.c5de23cd.js"><link rel="prefetch" href="/tech-blog/assets/js/74.6dcf0a86.js"><link rel="prefetch" href="/tech-blog/assets/js/75.bc364138.js"><link rel="prefetch" href="/tech-blog/assets/js/76.7311fb56.js"><link rel="prefetch" href="/tech-blog/assets/js/77.028b8105.js"><link rel="prefetch" href="/tech-blog/assets/js/78.a6e8f401.js"><link rel="prefetch" href="/tech-blog/assets/js/79.df7a0e94.js"><link rel="prefetch" href="/tech-blog/assets/js/8.22a8a907.js"><link rel="prefetch" href="/tech-blog/assets/js/80.e8f9a567.js"><link rel="prefetch" href="/tech-blog/assets/js/81.8fb708c0.js"><link rel="prefetch" href="/tech-blog/assets/js/82.48f868f9.js"><link rel="prefetch" href="/tech-blog/assets/js/83.0b358ab1.js"><link rel="prefetch" href="/tech-blog/assets/js/84.e443ac1b.js"><link rel="prefetch" href="/tech-blog/assets/js/85.011fafc0.js"><link rel="prefetch" href="/tech-blog/assets/js/86.f27210ae.js"><link rel="prefetch" href="/tech-blog/assets/js/87.405c7161.js"><link rel="prefetch" href="/tech-blog/assets/js/88.db7bac07.js"><link rel="prefetch" href="/tech-blog/assets/js/89.370dba33.js"><link rel="prefetch" href="/tech-blog/assets/js/9.0a76bf22.js"><link rel="prefetch" href="/tech-blog/assets/js/90.25e4d526.js"><link rel="prefetch" href="/tech-blog/assets/js/91.29b56c3f.js"><link rel="prefetch" href="/tech-blog/assets/js/92.55379378.js"><link rel="prefetch" href="/tech-blog/assets/js/93.767d64b6.js"><link rel="prefetch" href="/tech-blog/assets/js/94.48e135ed.js"><link rel="prefetch" href="/tech-blog/assets/js/95.8cec0d9a.js"><link rel="prefetch" href="/tech-blog/assets/js/96.b67923fb.js"><link rel="prefetch" href="/tech-blog/assets/js/97.59681e1a.js"><link rel="prefetch" href="/tech-blog/assets/js/98.b26adaa8.js"><link rel="prefetch" href="/tech-blog/assets/js/99.f867f3cb.js">
    <link rel="stylesheet" href="/tech-blog/assets/css/0.styles.d6b0b335.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="min-h-screen flex flex-col"><div class="relative flex-grow"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tech-blog/" class="home-link router-link-active"><!----> <span class="site-name">Tech Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tech-blog/posts-list/index.html" class="nav-link">
  All
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/data.html" class="nav-link">
  Data
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/web.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/design.html" class="nav-link">
  Design
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/other.html" class="nav-link">
  Other
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tech-blog/posts-list/index.html" class="nav-link">
  All
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/data.html" class="nav-link">
  Data
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/web.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/design.html" class="nav-link">
  Design
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/other.html" class="nav-link">
  Other
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="垃圾回收">垃圾回收</h1> <p>参考：<a href="https://zh.javascript.info/garbage-collection" target="_blank" rel="noopener noreferrer">垃圾回收<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>我们创建的原始值、对象、函数等一切都会占用内存，当我们不再需要某变量或数据时，JavaScript 引擎会自动地进行清除，该操作称为 <strong>垃圾回收</strong>。</p> <h2 id="可达性">可达性</h2> <p>可达性 Reachability 是指数据以某种方式可访问或可用，它们一定是存储在内存中的。这是 JavaScript 内存管理的主要概念。</p> <p>当一个数据是可达的它就不会被<a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)" target="_blank" rel="noopener noreferrer">垃圾回收器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（一个在JavaScript 引擎后台执行的程序，它监控着所有对象的状态）删除。</p> <p>可达值的基本集合（这些值明显不能被释放）：</p> <ul><li>前函数的局部变量和参数。</li> <li>嵌套调用时，当前调用链上所有函数的变量与参数。</li> <li>全局变量。</li> <li>还有一些内部的</li></ul> <p>💡 这些值被称作 <strong>根 roots</strong></p> <p>💡 此外，如果是通过引用或引用链从根访问任何其他值，则认为该值是可达的。如局部变量中（引用）有一个对象，并且该对象有一个属性引用了另一个对象，则该对象被认为是可达的，而且它引用的内容（嵌套）也是可达的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// user 具有对这个对象的引用</span>
<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;John&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>箭头描述了一个对象引用。全局变量 <code>user</code> 引用了对象 <code>{name：&quot;John&quot;}</code>，则此时对象是可达的。
<img src="data:image/png;base64,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" alt="reachability"></p> <p>如果 <code>user</code> 的值被重写了，这个引用就没了，即对象变成不可达的了，垃圾回收器会认为它是垃圾数据并进行回收，然后释放内存。</p> <p><img src="data:image/png;base64,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" alt="delete-assign"></p> <h2 id="内部算法">内部算法</h2> <p>垃圾回收的基本算法被称为 mark-and-sweep，其步骤如下：</p> <p><img src="/tech-blog/assets/img/20200325153425240_23124.c02ced18.png" alt="内存初始状态（右侧有一个「无法到达的岛屿」）"></p> <ol><li>垃圾收集器找到所有的根，并标记它们。</li></ol> <p><img src="/tech-blog/assets/img/20200325153455633_17914.91633355.png" alt="标记所有的根"></p> <ol start="2"><li>然后它遍历并标记来自它们的所有引用。</li></ol> <p><img src="/tech-blog/assets/img/20200325153519519_14360.95492ed1.png" alt="遍历标记所有的直接引用"></p> <ol start="3"><li>然后它遍历标记的对象并标记他们的引用。所有被遍历到的对象都会被记住，以免将来再次遍历到同一个对象……如此操作，直到所有可达的（从根部）引用都被访问到。</li></ol> <p><img src="/tech-blog/assets/img/20200325153631327_1340.bb8fc31d.png" alt="一直不断标记，直至所有从根部发出的引用都被标记"></p> <ol start="4"><li>没有被标记的对象都会被删除。</li></ol> <p><img src="/tech-blog/assets/img/20200325153645071_11081.a0bb3ec1.png" alt="删除未标记的数据"></p> <p>💡 可以将这个过程想象成从根溢出一个巨大的油漆桶，它流经所有引用并标记所有可到达的对象。然后移除未标记的。</p> <h2 id="延伸阅读">延伸阅读</h2> <p>《The Garbage Collection Handbook: The Art of Automatic Memory Management》（R. Jones 等人著）这本书涵盖了其中一些内容。</p> <p>如果你熟悉底层（low-level）编程，关于 V8 引擎垃圾回收器的更详细信息请参阅文章 <a href="http://jayconrod.com/posts/55/a-tour-of-v8-garbage-collection" target="_blank" rel="noopener noreferrer">V8 之旅：垃圾回收<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p><a href="http://v8project.blogspot.com/" target="_blank" rel="noopener noreferrer">V8 博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 还不时发布关于内存管理变化的文章。当然，为了学习垃圾收集，你最好通过学习 V8 引擎内部知识来进行准备，并阅读一个名为 <a href="http://mrale.ph/" target="_blank" rel="noopener noreferrer">Vyacheslav Egorov<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的 V8 引擎工程师的博客。我之所以说 “V8”，因为网上关于它的文章最丰富的。对于其他引擎，许多方法是相似的，但在垃圾收集上许多方面有所不同。</p> <p>当你需要底层的优化时，对引擎有深入了解将很有帮助。在熟悉了这门编程语言之后，把熟悉引擎作为下一步计划是明智之选。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2/25/2021, 6:05:13 PM</span></div></footer> <!----> </main></div> <div class="catalog-container absolute top-0 right-0 h-full hidden lg:block" style="width:0px;"><div class="headings-list-container sticky top-36" data-v-cceeb8de><ul class="m-2 lg:pl-7 xl:pl-11 py-7 opacity-60 hover:opacity-100 transition-all duration-300" data-v-cceeb8de></ul></div></div></div> <div class="catalog-btn hidden sticky bottom-16 lg:flex justify-end items-center mb-4"><button class="focus:outline-none"><div class="p-2 flex justify-center items-center rounded-l-md bg-gray-300 text-white transition-all duration-500 bg-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg> <span class="pl-2 hidden text-xs" style="display:none;">显示目录</span> <span class="pl-2 hidden text-xs" style="display:;">关闭目录</span></div></button></div> <div class="scroll-to-top hidden sticky bottom-6 lg:flex justify-end items-center mb-4" data-v-73a2269d><button data-v-73a2269d><div class="p-2 flex justify-center items-center rounded-l-md bg-gray-300 text-white hover:bg-gray-600 transition-all duration-500" data-v-73a2269d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" data-v-73a2269d><path fill-rule="evenodd" d="M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z" data-v-73a2269d></path></svg> <span class="pl-2 hidden text-xs" data-v-73a2269d>返回顶部</span></div></button></div> <div class="more-btns lg:hidden sticky bottom-6 flex justify-end items-center mb-4" style="display:;"><div class="py-1 flex justify-center items-center rounded-l-md text-white transition-all duration-500 bg-gray-300"><button class="p-2" style="display:;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223z"></path></svg></button> <button class="p-2" style="display:none;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671z"></path></svg></button> <button class="p-2 border-l flex justify-center items-center" style="display:none;"><span class="pl-1 text-xs">打开目录</span></button> <button class="p-2 border-l flex justify-center items-center" style="display:none;"><span class="pl-1 text-xs">返回顶部</span></button></div></div> <footer class="bg-gray-300 w-full p-10 flex flex-col md:flex-row justify-between items-center" data-v-496c892e><button class="relative" data-v-496c892e><a href="/" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/Ben.png" alt="avatar" class="w-auto h-12 rounded-full" data-v-496c892e></button> <div class="copyright py-5 md:py-0" data-v-496c892e><p class="text-center text-sm" data-v-496c892e>
      ©2021
      <span class="author" data-v-496c892e>BenThomson</span>. All Right Reserved.
    </p> <p class="text-xs text-center text-gray-400" data-v-496c892e>
      除特殊说明外，本站的文章遵循
      <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400" data-v-496c892e>CC-BY-SA-4.0</a>
      协议
    </p></div> <div class="btn-container" data-v-496c892e><button class="relative mx-1" data-v-496c892e><a href="mailto:mebeansbin@gmail.com" target="" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/email.svg" alt="email" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://github.com/Benbinbin" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/github.svg" alt="github" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://juejin.cn/user/3175045314389278/posts" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/juejin.svg" alt="juejin" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://dribbble.com/BinBinDesign" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/dribbble.svg" alt="dribbble" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://twitter.com/Benbinbin_fun" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/twitter.svg" alt="twitter" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://weibo.com/binbindesign" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/weibo.svg" alt="weibo" class="w-auto h-5" data-v-496c892e></button></div></footer> <!----> <div class="tooltip fixed inset-x-4 top-20 z-10 border bg-gray-50 bg-opacity-95 rounded-xl border-gray-300 shadow" style="display:none;"><div class="headings-tooltip-container" data-v-e14be5f8><ul class="m-2 pt-8 relative flex justify-between overflow-x-auto" data-v-e14be5f8></ul></div></div></div><div class="global-ui"></div></div>
    <script src="/tech-blog/assets/js/app.e2907910.js" defer></script><script src="/tech-blog/assets/js/19.4fae91a9.js" defer></script><script src="/tech-blog/assets/js/1.c19b0b73.js" defer></script><script src="/tech-blog/assets/js/32.4f0968eb.js" defer></script>
  </body>
</html>
