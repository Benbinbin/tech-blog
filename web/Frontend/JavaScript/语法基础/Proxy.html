<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Proxy | Tech Blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Notes written by BenThomson when learning tech skills.">
    
    <link rel="preload" href="/tech-blog/assets/css/0.styles.d6b0b335.css" as="style"><link rel="preload" href="/tech-blog/assets/js/app.e2907910.js" as="script"><link rel="preload" href="/tech-blog/assets/js/19.4fae91a9.js" as="script"><link rel="preload" href="/tech-blog/assets/js/1.c19b0b73.js" as="script"><link rel="preload" href="/tech-blog/assets/js/158.ed339647.js" as="script"><link rel="prefetch" href="/tech-blog/assets/js/10.b6368563.js"><link rel="prefetch" href="/tech-blog/assets/js/100.e76d45fb.js"><link rel="prefetch" href="/tech-blog/assets/js/101.4a645a30.js"><link rel="prefetch" href="/tech-blog/assets/js/102.a6b546e7.js"><link rel="prefetch" href="/tech-blog/assets/js/103.b4b72833.js"><link rel="prefetch" href="/tech-blog/assets/js/104.0ebb204e.js"><link rel="prefetch" href="/tech-blog/assets/js/105.b73e77fa.js"><link rel="prefetch" href="/tech-blog/assets/js/106.436e9b33.js"><link rel="prefetch" href="/tech-blog/assets/js/107.fc159900.js"><link rel="prefetch" href="/tech-blog/assets/js/108.df6a446a.js"><link rel="prefetch" href="/tech-blog/assets/js/109.dee6ddc0.js"><link rel="prefetch" href="/tech-blog/assets/js/11.7f313d83.js"><link rel="prefetch" href="/tech-blog/assets/js/110.3ac7e842.js"><link rel="prefetch" href="/tech-blog/assets/js/111.1e260a97.js"><link rel="prefetch" href="/tech-blog/assets/js/112.91a95354.js"><link rel="prefetch" href="/tech-blog/assets/js/113.0260f8a8.js"><link rel="prefetch" href="/tech-blog/assets/js/114.e757a67b.js"><link rel="prefetch" href="/tech-blog/assets/js/115.9266e866.js"><link rel="prefetch" href="/tech-blog/assets/js/116.38cb7f4e.js"><link rel="prefetch" href="/tech-blog/assets/js/117.5c68130b.js"><link rel="prefetch" href="/tech-blog/assets/js/118.e45f0f67.js"><link rel="prefetch" href="/tech-blog/assets/js/119.7c831a81.js"><link rel="prefetch" href="/tech-blog/assets/js/12.50459577.js"><link rel="prefetch" href="/tech-blog/assets/js/120.0b394698.js"><link rel="prefetch" href="/tech-blog/assets/js/121.2f679253.js"><link rel="prefetch" href="/tech-blog/assets/js/122.ca87e3bf.js"><link rel="prefetch" href="/tech-blog/assets/js/123.2c3d9f63.js"><link rel="prefetch" href="/tech-blog/assets/js/124.7af73ab3.js"><link rel="prefetch" href="/tech-blog/assets/js/125.5a8e0f06.js"><link rel="prefetch" href="/tech-blog/assets/js/126.c74b0881.js"><link rel="prefetch" href="/tech-blog/assets/js/127.ca005d5c.js"><link rel="prefetch" href="/tech-blog/assets/js/128.4eb3c0f2.js"><link rel="prefetch" href="/tech-blog/assets/js/129.7d437ef1.js"><link rel="prefetch" href="/tech-blog/assets/js/13.74fe14ff.js"><link rel="prefetch" href="/tech-blog/assets/js/130.ac2c9b29.js"><link rel="prefetch" href="/tech-blog/assets/js/131.b3b8e1f9.js"><link rel="prefetch" href="/tech-blog/assets/js/132.bb174784.js"><link rel="prefetch" href="/tech-blog/assets/js/133.e3f58838.js"><link rel="prefetch" href="/tech-blog/assets/js/134.f7710664.js"><link rel="prefetch" href="/tech-blog/assets/js/135.17e40d08.js"><link rel="prefetch" href="/tech-blog/assets/js/136.7c96c1ac.js"><link rel="prefetch" href="/tech-blog/assets/js/137.06f4bf7f.js"><link rel="prefetch" href="/tech-blog/assets/js/138.51e41cae.js"><link rel="prefetch" href="/tech-blog/assets/js/139.db6de4c6.js"><link rel="prefetch" href="/tech-blog/assets/js/14.b9eb7a74.js"><link rel="prefetch" href="/tech-blog/assets/js/140.7cd18e71.js"><link rel="prefetch" href="/tech-blog/assets/js/141.bb189059.js"><link rel="prefetch" href="/tech-blog/assets/js/142.b3ae92f6.js"><link rel="prefetch" href="/tech-blog/assets/js/143.a84820c0.js"><link rel="prefetch" href="/tech-blog/assets/js/144.71f6dede.js"><link rel="prefetch" href="/tech-blog/assets/js/145.55967075.js"><link rel="prefetch" href="/tech-blog/assets/js/146.afc5f6c4.js"><link rel="prefetch" href="/tech-blog/assets/js/147.bc78c79c.js"><link rel="prefetch" href="/tech-blog/assets/js/148.a2b2a61a.js"><link rel="prefetch" href="/tech-blog/assets/js/149.03267208.js"><link rel="prefetch" href="/tech-blog/assets/js/15.87822948.js"><link rel="prefetch" href="/tech-blog/assets/js/150.930ebe5e.js"><link rel="prefetch" href="/tech-blog/assets/js/151.16885b8e.js"><link rel="prefetch" href="/tech-blog/assets/js/152.1da3b71e.js"><link rel="prefetch" href="/tech-blog/assets/js/153.526ebd90.js"><link rel="prefetch" href="/tech-blog/assets/js/154.59aff75a.js"><link rel="prefetch" href="/tech-blog/assets/js/155.b6348b0c.js"><link rel="prefetch" href="/tech-blog/assets/js/156.9b730b36.js"><link rel="prefetch" href="/tech-blog/assets/js/157.714e8356.js"><link rel="prefetch" href="/tech-blog/assets/js/159.bb53475e.js"><link rel="prefetch" href="/tech-blog/assets/js/16.ed1157a5.js"><link rel="prefetch" href="/tech-blog/assets/js/160.7c7d0c92.js"><link rel="prefetch" href="/tech-blog/assets/js/161.860b8f7c.js"><link rel="prefetch" href="/tech-blog/assets/js/162.11bf5a07.js"><link rel="prefetch" href="/tech-blog/assets/js/163.76dfbd4a.js"><link rel="prefetch" href="/tech-blog/assets/js/164.998d552b.js"><link rel="prefetch" href="/tech-blog/assets/js/165.4b7fea67.js"><link rel="prefetch" href="/tech-blog/assets/js/166.5bd52768.js"><link rel="prefetch" href="/tech-blog/assets/js/167.d966178f.js"><link rel="prefetch" href="/tech-blog/assets/js/168.220219c5.js"><link rel="prefetch" href="/tech-blog/assets/js/169.7c0f662b.js"><link rel="prefetch" href="/tech-blog/assets/js/17.fb473c93.js"><link rel="prefetch" href="/tech-blog/assets/js/170.c687f331.js"><link rel="prefetch" href="/tech-blog/assets/js/171.84c9eb16.js"><link rel="prefetch" href="/tech-blog/assets/js/172.1057763b.js"><link rel="prefetch" href="/tech-blog/assets/js/173.863408c4.js"><link rel="prefetch" href="/tech-blog/assets/js/174.ae976955.js"><link rel="prefetch" href="/tech-blog/assets/js/175.723d8fb3.js"><link rel="prefetch" href="/tech-blog/assets/js/176.4e52e151.js"><link rel="prefetch" href="/tech-blog/assets/js/177.28e3dbd9.js"><link rel="prefetch" href="/tech-blog/assets/js/178.fe642e1b.js"><link rel="prefetch" href="/tech-blog/assets/js/179.8a237636.js"><link rel="prefetch" href="/tech-blog/assets/js/18.8d825957.js"><link rel="prefetch" href="/tech-blog/assets/js/180.7d5bab8b.js"><link rel="prefetch" href="/tech-blog/assets/js/181.2b1b15fd.js"><link rel="prefetch" href="/tech-blog/assets/js/182.049370ee.js"><link rel="prefetch" href="/tech-blog/assets/js/183.06ccd661.js"><link rel="prefetch" href="/tech-blog/assets/js/184.0af82719.js"><link rel="prefetch" href="/tech-blog/assets/js/185.d261b0af.js"><link rel="prefetch" href="/tech-blog/assets/js/186.2454c831.js"><link rel="prefetch" href="/tech-blog/assets/js/187.c6e8c2fb.js"><link rel="prefetch" href="/tech-blog/assets/js/188.98775ab9.js"><link rel="prefetch" href="/tech-blog/assets/js/189.32aae8d7.js"><link rel="prefetch" href="/tech-blog/assets/js/190.f4621a4d.js"><link rel="prefetch" href="/tech-blog/assets/js/191.9466b89e.js"><link rel="prefetch" href="/tech-blog/assets/js/192.51af6405.js"><link rel="prefetch" href="/tech-blog/assets/js/193.adcb809e.js"><link rel="prefetch" href="/tech-blog/assets/js/194.c96d7977.js"><link rel="prefetch" href="/tech-blog/assets/js/195.3e20a5ff.js"><link rel="prefetch" href="/tech-blog/assets/js/196.538eca67.js"><link rel="prefetch" href="/tech-blog/assets/js/197.64c0b608.js"><link rel="prefetch" href="/tech-blog/assets/js/198.a9a0b850.js"><link rel="prefetch" href="/tech-blog/assets/js/199.f0f16c6c.js"><link rel="prefetch" href="/tech-blog/assets/js/2.566c27d6.js"><link rel="prefetch" href="/tech-blog/assets/js/20.d74b39d9.js"><link rel="prefetch" href="/tech-blog/assets/js/200.c84b6726.js"><link rel="prefetch" href="/tech-blog/assets/js/201.fab1ff25.js"><link rel="prefetch" href="/tech-blog/assets/js/202.232d9fa7.js"><link rel="prefetch" href="/tech-blog/assets/js/203.305c86b7.js"><link rel="prefetch" href="/tech-blog/assets/js/204.949c7add.js"><link rel="prefetch" href="/tech-blog/assets/js/205.184b0b2d.js"><link rel="prefetch" href="/tech-blog/assets/js/206.3fd3cfa2.js"><link rel="prefetch" href="/tech-blog/assets/js/207.9e6b9521.js"><link rel="prefetch" href="/tech-blog/assets/js/208.ecbcc4da.js"><link rel="prefetch" href="/tech-blog/assets/js/209.ee7faba1.js"><link rel="prefetch" href="/tech-blog/assets/js/21.0185f12c.js"><link rel="prefetch" href="/tech-blog/assets/js/210.b5d484ac.js"><link rel="prefetch" href="/tech-blog/assets/js/211.e8092c05.js"><link rel="prefetch" href="/tech-blog/assets/js/212.0e6ba584.js"><link rel="prefetch" href="/tech-blog/assets/js/213.ff3d4871.js"><link rel="prefetch" href="/tech-blog/assets/js/214.5bae2dc0.js"><link rel="prefetch" href="/tech-blog/assets/js/215.62695694.js"><link rel="prefetch" href="/tech-blog/assets/js/216.d657080f.js"><link rel="prefetch" href="/tech-blog/assets/js/217.ce6cde02.js"><link rel="prefetch" href="/tech-blog/assets/js/218.865fd3cf.js"><link rel="prefetch" href="/tech-blog/assets/js/219.6571a742.js"><link rel="prefetch" href="/tech-blog/assets/js/22.2d412bec.js"><link rel="prefetch" href="/tech-blog/assets/js/220.18e726d8.js"><link rel="prefetch" href="/tech-blog/assets/js/221.c9db8555.js"><link rel="prefetch" href="/tech-blog/assets/js/222.7b19269a.js"><link rel="prefetch" href="/tech-blog/assets/js/223.f1a5cd82.js"><link rel="prefetch" href="/tech-blog/assets/js/224.124126e0.js"><link rel="prefetch" href="/tech-blog/assets/js/225.44034b61.js"><link rel="prefetch" href="/tech-blog/assets/js/226.4fe77bfd.js"><link rel="prefetch" href="/tech-blog/assets/js/227.f96362d4.js"><link rel="prefetch" href="/tech-blog/assets/js/228.a02346a8.js"><link rel="prefetch" href="/tech-blog/assets/js/229.3cf5a688.js"><link rel="prefetch" href="/tech-blog/assets/js/23.9d37722d.js"><link rel="prefetch" href="/tech-blog/assets/js/230.7fb68917.js"><link rel="prefetch" href="/tech-blog/assets/js/231.303d5843.js"><link rel="prefetch" href="/tech-blog/assets/js/232.9487eead.js"><link rel="prefetch" href="/tech-blog/assets/js/233.c40e35a8.js"><link rel="prefetch" href="/tech-blog/assets/js/234.c2e08d41.js"><link rel="prefetch" href="/tech-blog/assets/js/235.13434890.js"><link rel="prefetch" href="/tech-blog/assets/js/236.58235d4b.js"><link rel="prefetch" href="/tech-blog/assets/js/237.74ec86f6.js"><link rel="prefetch" href="/tech-blog/assets/js/238.a2cecdbf.js"><link rel="prefetch" href="/tech-blog/assets/js/239.31cb5750.js"><link rel="prefetch" href="/tech-blog/assets/js/24.bd0ece1f.js"><link rel="prefetch" href="/tech-blog/assets/js/240.0d0ecd96.js"><link rel="prefetch" href="/tech-blog/assets/js/241.a56701a5.js"><link rel="prefetch" href="/tech-blog/assets/js/242.8c0043d9.js"><link rel="prefetch" href="/tech-blog/assets/js/243.352cbd64.js"><link rel="prefetch" href="/tech-blog/assets/js/244.3a8b742d.js"><link rel="prefetch" href="/tech-blog/assets/js/245.d195e8c4.js"><link rel="prefetch" href="/tech-blog/assets/js/246.72ef9e6d.js"><link rel="prefetch" href="/tech-blog/assets/js/247.c60e70ff.js"><link rel="prefetch" href="/tech-blog/assets/js/248.190b2e01.js"><link rel="prefetch" href="/tech-blog/assets/js/249.44f039a3.js"><link rel="prefetch" href="/tech-blog/assets/js/25.b3e6892d.js"><link rel="prefetch" href="/tech-blog/assets/js/250.d4f68fc6.js"><link rel="prefetch" href="/tech-blog/assets/js/251.c54bd24f.js"><link rel="prefetch" href="/tech-blog/assets/js/252.ef86b8ae.js"><link rel="prefetch" href="/tech-blog/assets/js/253.af575fd6.js"><link rel="prefetch" href="/tech-blog/assets/js/254.8684b1e9.js"><link rel="prefetch" href="/tech-blog/assets/js/255.da5fba2d.js"><link rel="prefetch" href="/tech-blog/assets/js/256.cdd1dbb6.js"><link rel="prefetch" href="/tech-blog/assets/js/257.cecc66ec.js"><link rel="prefetch" href="/tech-blog/assets/js/258.fcf3c1b2.js"><link rel="prefetch" href="/tech-blog/assets/js/259.dd0b785d.js"><link rel="prefetch" href="/tech-blog/assets/js/26.c667f021.js"><link rel="prefetch" href="/tech-blog/assets/js/260.6941e2e1.js"><link rel="prefetch" href="/tech-blog/assets/js/261.fa9b1454.js"><link rel="prefetch" href="/tech-blog/assets/js/262.cf8f5b55.js"><link rel="prefetch" href="/tech-blog/assets/js/263.fa67afc2.js"><link rel="prefetch" href="/tech-blog/assets/js/264.6b2dbe26.js"><link rel="prefetch" href="/tech-blog/assets/js/265.d7c5b8fd.js"><link rel="prefetch" href="/tech-blog/assets/js/266.1a162200.js"><link rel="prefetch" href="/tech-blog/assets/js/267.1b5df710.js"><link rel="prefetch" href="/tech-blog/assets/js/268.c2294c76.js"><link rel="prefetch" href="/tech-blog/assets/js/269.6abb34d3.js"><link rel="prefetch" href="/tech-blog/assets/js/27.605f1183.js"><link rel="prefetch" href="/tech-blog/assets/js/270.2cc387ea.js"><link rel="prefetch" href="/tech-blog/assets/js/271.4c0a8152.js"><link rel="prefetch" href="/tech-blog/assets/js/272.76579b08.js"><link rel="prefetch" href="/tech-blog/assets/js/273.a8e5e247.js"><link rel="prefetch" href="/tech-blog/assets/js/274.b0283f29.js"><link rel="prefetch" href="/tech-blog/assets/js/275.c82e7c90.js"><link rel="prefetch" href="/tech-blog/assets/js/276.50485337.js"><link rel="prefetch" href="/tech-blog/assets/js/277.7954540b.js"><link rel="prefetch" href="/tech-blog/assets/js/278.8ffafc74.js"><link rel="prefetch" href="/tech-blog/assets/js/279.b5a8028b.js"><link rel="prefetch" href="/tech-blog/assets/js/28.cea010b7.js"><link rel="prefetch" href="/tech-blog/assets/js/280.e972cc66.js"><link rel="prefetch" href="/tech-blog/assets/js/281.d0a4a70f.js"><link rel="prefetch" href="/tech-blog/assets/js/282.0f7e5b86.js"><link rel="prefetch" href="/tech-blog/assets/js/283.4cd3db83.js"><link rel="prefetch" href="/tech-blog/assets/js/284.da3d7e42.js"><link rel="prefetch" href="/tech-blog/assets/js/285.2ead31b6.js"><link rel="prefetch" href="/tech-blog/assets/js/286.d1e75872.js"><link rel="prefetch" href="/tech-blog/assets/js/287.7bdbbd2c.js"><link rel="prefetch" href="/tech-blog/assets/js/288.f1bb48ac.js"><link rel="prefetch" href="/tech-blog/assets/js/289.5cb43d47.js"><link rel="prefetch" href="/tech-blog/assets/js/29.7f84a6c7.js"><link rel="prefetch" href="/tech-blog/assets/js/290.17d46c7f.js"><link rel="prefetch" href="/tech-blog/assets/js/291.d856f05f.js"><link rel="prefetch" href="/tech-blog/assets/js/292.f353b737.js"><link rel="prefetch" href="/tech-blog/assets/js/293.3219d668.js"><link rel="prefetch" href="/tech-blog/assets/js/294.da30deed.js"><link rel="prefetch" href="/tech-blog/assets/js/295.3ef190bc.js"><link rel="prefetch" href="/tech-blog/assets/js/296.51842e35.js"><link rel="prefetch" href="/tech-blog/assets/js/297.d5d8bc7c.js"><link rel="prefetch" href="/tech-blog/assets/js/298.c4d02eb3.js"><link rel="prefetch" href="/tech-blog/assets/js/299.34fbb12f.js"><link rel="prefetch" href="/tech-blog/assets/js/30.a690c277.js"><link rel="prefetch" href="/tech-blog/assets/js/300.dc4ebe83.js"><link rel="prefetch" href="/tech-blog/assets/js/301.3d79013b.js"><link rel="prefetch" href="/tech-blog/assets/js/302.b7bc2077.js"><link rel="prefetch" href="/tech-blog/assets/js/303.f507bd62.js"><link rel="prefetch" href="/tech-blog/assets/js/304.70c76de8.js"><link rel="prefetch" href="/tech-blog/assets/js/305.06c79abd.js"><link rel="prefetch" href="/tech-blog/assets/js/306.b51ab104.js"><link rel="prefetch" href="/tech-blog/assets/js/307.18923549.js"><link rel="prefetch" href="/tech-blog/assets/js/308.a49a1d4b.js"><link rel="prefetch" href="/tech-blog/assets/js/309.400f0e43.js"><link rel="prefetch" href="/tech-blog/assets/js/31.210edda6.js"><link rel="prefetch" href="/tech-blog/assets/js/310.a706d0e5.js"><link rel="prefetch" href="/tech-blog/assets/js/311.7d82a7d9.js"><link rel="prefetch" href="/tech-blog/assets/js/312.58bba4e3.js"><link rel="prefetch" href="/tech-blog/assets/js/313.6147c60c.js"><link rel="prefetch" href="/tech-blog/assets/js/314.9c828d81.js"><link rel="prefetch" href="/tech-blog/assets/js/315.b71aca4e.js"><link rel="prefetch" href="/tech-blog/assets/js/316.dedf13de.js"><link rel="prefetch" href="/tech-blog/assets/js/317.1c6aedeb.js"><link rel="prefetch" href="/tech-blog/assets/js/318.4d069328.js"><link rel="prefetch" href="/tech-blog/assets/js/319.ead84e89.js"><link rel="prefetch" href="/tech-blog/assets/js/32.4f0968eb.js"><link rel="prefetch" href="/tech-blog/assets/js/320.9196af73.js"><link rel="prefetch" href="/tech-blog/assets/js/321.1be13b10.js"><link rel="prefetch" href="/tech-blog/assets/js/322.6fa37b4f.js"><link rel="prefetch" href="/tech-blog/assets/js/323.f9d29aaf.js"><link rel="prefetch" href="/tech-blog/assets/js/324.cb6a6903.js"><link rel="prefetch" href="/tech-blog/assets/js/325.264b4bab.js"><link rel="prefetch" href="/tech-blog/assets/js/326.cd71f7a2.js"><link rel="prefetch" href="/tech-blog/assets/js/327.799dc92d.js"><link rel="prefetch" href="/tech-blog/assets/js/328.0f17409b.js"><link rel="prefetch" href="/tech-blog/assets/js/329.96099252.js"><link rel="prefetch" href="/tech-blog/assets/js/33.87770ad1.js"><link rel="prefetch" href="/tech-blog/assets/js/330.0bcb80da.js"><link rel="prefetch" href="/tech-blog/assets/js/331.946fd31f.js"><link rel="prefetch" href="/tech-blog/assets/js/332.60beb333.js"><link rel="prefetch" href="/tech-blog/assets/js/34.8ee59d40.js"><link rel="prefetch" href="/tech-blog/assets/js/35.fd994a34.js"><link rel="prefetch" href="/tech-blog/assets/js/36.584bf91b.js"><link rel="prefetch" href="/tech-blog/assets/js/37.270d1bd2.js"><link rel="prefetch" href="/tech-blog/assets/js/38.30bcfdaf.js"><link rel="prefetch" href="/tech-blog/assets/js/39.89d52ebd.js"><link rel="prefetch" href="/tech-blog/assets/js/4.6cf2314e.js"><link rel="prefetch" href="/tech-blog/assets/js/40.b8b49036.js"><link rel="prefetch" href="/tech-blog/assets/js/41.4b138d38.js"><link rel="prefetch" href="/tech-blog/assets/js/42.2b0134be.js"><link rel="prefetch" href="/tech-blog/assets/js/43.e60d3b0a.js"><link rel="prefetch" href="/tech-blog/assets/js/44.520ae30e.js"><link rel="prefetch" href="/tech-blog/assets/js/45.61a6fdb6.js"><link rel="prefetch" href="/tech-blog/assets/js/46.32a9d5f4.js"><link rel="prefetch" href="/tech-blog/assets/js/47.ccfe5207.js"><link rel="prefetch" href="/tech-blog/assets/js/48.beb20f17.js"><link rel="prefetch" href="/tech-blog/assets/js/49.eacc8bb4.js"><link rel="prefetch" href="/tech-blog/assets/js/5.a85c6e29.js"><link rel="prefetch" href="/tech-blog/assets/js/50.1643ee2a.js"><link rel="prefetch" href="/tech-blog/assets/js/51.03d8de2e.js"><link rel="prefetch" href="/tech-blog/assets/js/52.9bc355c6.js"><link rel="prefetch" href="/tech-blog/assets/js/53.53fb7223.js"><link rel="prefetch" href="/tech-blog/assets/js/54.6431de40.js"><link rel="prefetch" href="/tech-blog/assets/js/55.799b4392.js"><link rel="prefetch" href="/tech-blog/assets/js/56.1cd36345.js"><link rel="prefetch" href="/tech-blog/assets/js/57.a8fb9be3.js"><link rel="prefetch" href="/tech-blog/assets/js/58.4d7b06af.js"><link rel="prefetch" href="/tech-blog/assets/js/59.29bf2f4d.js"><link rel="prefetch" href="/tech-blog/assets/js/6.71a576b7.js"><link rel="prefetch" href="/tech-blog/assets/js/60.67eaec2f.js"><link rel="prefetch" href="/tech-blog/assets/js/61.de748b43.js"><link rel="prefetch" href="/tech-blog/assets/js/62.a49d9fca.js"><link rel="prefetch" href="/tech-blog/assets/js/63.5e3465c8.js"><link rel="prefetch" href="/tech-blog/assets/js/64.5dde0633.js"><link rel="prefetch" href="/tech-blog/assets/js/65.961dc970.js"><link rel="prefetch" href="/tech-blog/assets/js/66.61692b0a.js"><link rel="prefetch" href="/tech-blog/assets/js/67.6daf46ab.js"><link rel="prefetch" href="/tech-blog/assets/js/68.a48ed68c.js"><link rel="prefetch" href="/tech-blog/assets/js/69.88422d5f.js"><link rel="prefetch" href="/tech-blog/assets/js/7.d11dade5.js"><link rel="prefetch" href="/tech-blog/assets/js/70.374bef78.js"><link rel="prefetch" href="/tech-blog/assets/js/71.f190667d.js"><link rel="prefetch" href="/tech-blog/assets/js/72.2e1c337a.js"><link rel="prefetch" href="/tech-blog/assets/js/73.c5de23cd.js"><link rel="prefetch" href="/tech-blog/assets/js/74.6dcf0a86.js"><link rel="prefetch" href="/tech-blog/assets/js/75.bc364138.js"><link rel="prefetch" href="/tech-blog/assets/js/76.7311fb56.js"><link rel="prefetch" href="/tech-blog/assets/js/77.028b8105.js"><link rel="prefetch" href="/tech-blog/assets/js/78.a6e8f401.js"><link rel="prefetch" href="/tech-blog/assets/js/79.df7a0e94.js"><link rel="prefetch" href="/tech-blog/assets/js/8.22a8a907.js"><link rel="prefetch" href="/tech-blog/assets/js/80.e8f9a567.js"><link rel="prefetch" href="/tech-blog/assets/js/81.8fb708c0.js"><link rel="prefetch" href="/tech-blog/assets/js/82.48f868f9.js"><link rel="prefetch" href="/tech-blog/assets/js/83.0b358ab1.js"><link rel="prefetch" href="/tech-blog/assets/js/84.e443ac1b.js"><link rel="prefetch" href="/tech-blog/assets/js/85.011fafc0.js"><link rel="prefetch" href="/tech-blog/assets/js/86.f27210ae.js"><link rel="prefetch" href="/tech-blog/assets/js/87.405c7161.js"><link rel="prefetch" href="/tech-blog/assets/js/88.db7bac07.js"><link rel="prefetch" href="/tech-blog/assets/js/89.370dba33.js"><link rel="prefetch" href="/tech-blog/assets/js/9.0a76bf22.js"><link rel="prefetch" href="/tech-blog/assets/js/90.25e4d526.js"><link rel="prefetch" href="/tech-blog/assets/js/91.29b56c3f.js"><link rel="prefetch" href="/tech-blog/assets/js/92.55379378.js"><link rel="prefetch" href="/tech-blog/assets/js/93.767d64b6.js"><link rel="prefetch" href="/tech-blog/assets/js/94.48e135ed.js"><link rel="prefetch" href="/tech-blog/assets/js/95.8cec0d9a.js"><link rel="prefetch" href="/tech-blog/assets/js/96.b67923fb.js"><link rel="prefetch" href="/tech-blog/assets/js/97.59681e1a.js"><link rel="prefetch" href="/tech-blog/assets/js/98.b26adaa8.js"><link rel="prefetch" href="/tech-blog/assets/js/99.f867f3cb.js">
    <link rel="stylesheet" href="/tech-blog/assets/css/0.styles.d6b0b335.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="min-h-screen flex flex-col"><div class="relative flex-grow"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tech-blog/" class="home-link router-link-active"><!----> <span class="site-name">Tech Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tech-blog/posts-list/index.html" class="nav-link">
  All
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/data.html" class="nav-link">
  Data
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/web.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/design.html" class="nav-link">
  Design
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/other.html" class="nav-link">
  Other
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tech-blog/posts-list/index.html" class="nav-link">
  All
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/data.html" class="nav-link">
  Data
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/web.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/design.html" class="nav-link">
  Design
</a></div><div class="nav-item"><a href="/tech-blog/posts-list/other.html" class="nav-link">
  Other
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="proxy">Proxy</h1> <p>参考：<a href="https://zh.javascript.info/proxy" target="_blank" rel="noopener noreferrer">Proxy 和 Reflect<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Proxy 是对象的包装器，使用构造器 <code>new Proxy</code> 创建一个 Proxy 对象以包装另一个对象，并设置陷阱 traps 拦截特定的操作，如读取/写入属性，以选择自行处理它们，或者透明地将插座转发到原始对象上。</p> <p>💡 代理 Proxy 相当于对象的「中介」，它会拦截预设的操作并执行另外自定义的行为，而其他操作就会转发到原来的对象上，也可以包装任何类型的对象，包括类和函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>  handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>参数说明</p> <ul><li><code>target</code> 要包装的对象，可以是任何对象东西，包括函数。</li> <li><code>handler</code> 代理配置，即带有「陷阱」traps，拦截操作的方法的对象，如 <code>get</code> 陷阱、<code>set</code> 陷阱等。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 空的 handler 对象</span>

proxy<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 写入 proxy 对象</span>
<span class="token function">alert</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5，test 属性出现在了 target 中！</span>

<span class="token function">alert</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5，我们也可以从 proxy 对象读取它</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> proxy<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// test，迭代也正常工作</span>
</code></pre></div><p>上述实例中由于没有陷阱，所有对 <code>proxy</code> 的操作都直接透明地转发给了 <code>target</code>，即 <code>proxy</code> 是一个 <code>target</code> 的透明包装器 wrapper。</p> <p><img src="data:image/png;base64,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" alt="proxy"></p> <p>当我们设置了「陷阱」traps 就可以拦截对象的特定操作，其原理是对于对象的大多数操作 JavaScript 规范中有一个所谓的「内部方法」描述了最底层的工作方式，如 <code>[[Get]]</code> 用于读取属性的内部方法，<code>[[Set]]</code> 用于写入属性的内部方法等。这些方法仅在规范中使用，我们不能直接通过方法名调用它们，但对于每个内部方法 Proxy 都有一个对应的陷阱用于拦截这些方法的调用。它们在 <a href="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots" target="_blank" rel="noopener noreferrer">proxy 规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 被列出，常用的内部方法和陷阱（<code>handler</code> 方法）及其触发条件如下：</p> <table><thead><tr><th>内部方法</th> <th>Handler 方法</th> <th>何时触发</th></tr></thead> <tbody><tr><td><code>[[Get]]</code></td> <td><code>get</code></td> <td>读取属性</td></tr> <tr><td><code>[[Set]]</code></td> <td><code>set</code></td> <td>写入属性</td></tr> <tr><td><code>[[HasProperty]]</code></td> <td><code>has</code></td> <td><code>in</code> 操作符</td></tr> <tr><td><code>[[Delete]]</code></td> <td><code>deleteProperty</code></td> <td><code>delete</code> 操作符</td></tr> <tr><td><code>[[Call]]</code></td> <td><code>apply</code></td> <td>函数调用</td></tr> <tr><td><code>[[Construct]]</code></td> <td><code>construct</code></td> <td><code>new</code> 操作符</td></tr> <tr><td><code>[[GetPrototypeOf]]</code></td> <td><code>getPrototypeOf</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" target="_blank" rel="noopener noreferrer">Object.getPrototypeOf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[SetPrototypeOf]]</code></td> <td><code>setPrototypeOf</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" target="_blank" rel="noopener noreferrer">Object.setPrototypeOf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[IsExtensible]]</code></td> <td><code>isExtensible</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" rel="noopener noreferrer">Object.isExtensible<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[PreventExtensions]]</code></td> <td><code>preventExtensions</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noopener noreferrer">Object.preventExtensions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[DefineOwnProperty]]</code></td> <td><code>defineProperty</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreferrer">Object.defineProperty<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties" target="_blank" rel="noopener noreferrer">Object.defineProperties<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[GetOwnProperty]]</code></td> <td><code>getOwnPropertyDescriptor</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyDescriptor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <code>for..in</code>, <code>Object.keys/values/entries</code></td></tr> <tr><td><code>[[OwnPropertyKeys]]</code></td> <td><code>ownKeys</code></td> <td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyNames<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols" target="_blank" rel="noopener noreferrer">Object.getOwnPropertySymbols<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <code>for..in</code>, <code>Object/keys/values/entries</code></td></tr></tbody></table> <p>⚠️ 针对某些内部方法和陷阱，JavaScript 要求强制执行某些操作以满足必要的条件，称为不变量 Invariant（大多数要求有特定的返回值），应该遵顼这些规定以确保语言功能的正确和行为一致性，完整的不变量列表在 <a href="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots" target="_blank" rel="noopener noreferrer">规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中。</p> <ul><li><code>[[Set]]</code> 如果值已成功写入，则必须返回 <code>true</code>，否则返回 <code>false</code>。如果忘记设置返回值或返回任何假（falsy）值，则该操作将触发 <code>TypeError</code>。</li> <li><code>[[Delete]]</code> 如果已成功删除该值，则必须返回 <code>true</code>，否则返回 <code>false</code>。</li> <li>应用于代理对象的 <code>[[GetPrototypeOf]]</code>，必须返回与被代理对象的 <code>[[GetPrototypeOf]]</code> 相同的值，即读取代理对象的原型必须始终返回被代理对象的原型。</li></ul> <p>使用代理并设置多个陷阱来防止对以 _ 开头的属性的任何访问</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  _password<span class="token operator">:</span> <span class="token string">&quot;***&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// get trap 拦截 _ 开头的属性读取</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Access denied&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span> <span class="token comment">// (*)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// set trap 拦截 _ 开头的属性写入</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Access denied&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// deleProperty trap 拦截 _ 开头的属性删除</span>
  <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Access denied&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// ownKeys trap 在使用 for..in 和像 Object.keys 这样的的方法时排除以 _ 开头的属性</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 拦截读取属性列表</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &quot;get&quot; 不允许读取 _password</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>_password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Access denied</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">// &quot;set&quot; 不允许写入 _password</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span>_password <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span> <span class="token comment">// Error: Access denied</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">// &quot;deleteProperty&quot; 不允许删除 _password</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">delete</span> user<span class="token punctuation">.</span>_password<span class="token punctuation">;</span> <span class="token comment">// Error: Access denied</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">// &quot;ownKeys&quot; 将 _password 过滤出去</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>
</code></pre></div><p>使用 <code>has</code> 陷阱拦截 <code>in</code> 调用，并自定义其返回结果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
  start<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  end<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> prop <span class="token operator">&gt;=</span> target<span class="token punctuation">.</span>start <span class="token operator">&amp;&amp;</span> prop <span class="token operator">&lt;=</span> target<span class="token punctuation">.</span>end<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">50</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p>代理 proxy 可以包装在函数周围，使用<code>apply(target, thisArg, args)</code> 陷阱能使代理以函数的方式被调用</p> <p>参数说明</p> <ul><li><code>target</code> 是目标对象（在 JavaScript 中，函数就是一个对象），</li> <li><code>thisArg</code> 是 <code>this</code> 的值。</li> <li><code>args</code> 是参数列表。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">target</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 (*) proxy 将“获取 length”的操作转发给目标对象</span>

<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, John!（3 秒后）</span>
</code></pre></div><p>💡 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect" target="_blank" rel="noopener noreferrer">Reflect<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> API 旨在补充 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener noreferrer">Proxy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，对于任意 <code>Proxy</code> 陷阱都有一个带有相同参数的 <code>Reflect</code> 调用，使用它们将调用转发给目标对象。</p> <p>⚠️ Proxy 有一些局限性：</p> <ul><li>内建对象具有“内部插槽”，对这些对象的访问无法被代理。请参阅上文中的解决方法。</li> <li>私有类字段也是如此，因为它们也是在内部使用插槽实现的。因此，代理方法的调用必须具有目标对象作为 <code>this</code> 才能访问它们。</li> <li>对象的严格相等性检查 <code>===</code> 无法被拦截。</li> <li>性能：基准测试（benchmark）取决于引擎，但通常使用最简单的代理访问属性所需的时间也要长几倍。实际上，这仅对某些“瓶颈”对象来说才重要。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2/25/2021, 6:05:13 PM</span></div></footer> <!----> </main></div> <div class="catalog-container absolute top-0 right-0 h-full hidden lg:block" style="width:0px;"><div class="headings-list-container sticky top-36" data-v-cceeb8de><ul class="m-2 lg:pl-7 xl:pl-11 py-7 opacity-60 hover:opacity-100 transition-all duration-300" data-v-cceeb8de></ul></div></div></div> <div class="catalog-btn hidden sticky bottom-16 lg:flex justify-end items-center mb-4"><button class="focus:outline-none"><div class="p-2 flex justify-center items-center rounded-l-md bg-gray-300 text-white transition-all duration-500 bg-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg> <span class="pl-2 hidden text-xs" style="display:none;">显示目录</span> <span class="pl-2 hidden text-xs" style="display:;">关闭目录</span></div></button></div> <div class="scroll-to-top hidden sticky bottom-6 lg:flex justify-end items-center mb-4" data-v-73a2269d><button data-v-73a2269d><div class="p-2 flex justify-center items-center rounded-l-md bg-gray-300 text-white hover:bg-gray-600 transition-all duration-500" data-v-73a2269d><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" data-v-73a2269d><path fill-rule="evenodd" d="M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z" data-v-73a2269d></path></svg> <span class="pl-2 hidden text-xs" data-v-73a2269d>返回顶部</span></div></button></div> <div class="more-btns lg:hidden sticky bottom-6 flex justify-end items-center mb-4" style="display:;"><div class="py-1 flex justify-center items-center rounded-l-md text-white transition-all duration-500 bg-gray-300"><button class="p-2" style="display:;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223z"></path></svg></button> <button class="p-2" style="display:none;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671z"></path></svg></button> <button class="p-2 border-l flex justify-center items-center" style="display:none;"><span class="pl-1 text-xs">打开目录</span></button> <button class="p-2 border-l flex justify-center items-center" style="display:none;"><span class="pl-1 text-xs">返回顶部</span></button></div></div> <footer class="bg-gray-300 w-full p-10 flex flex-col md:flex-row justify-between items-center" data-v-496c892e><button class="relative" data-v-496c892e><a href="/" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/Ben.png" alt="avatar" class="w-auto h-12 rounded-full" data-v-496c892e></button> <div class="copyright py-5 md:py-0" data-v-496c892e><p class="text-center text-sm" data-v-496c892e>
      ©2021
      <span class="author" data-v-496c892e>BenThomson</span>. All Right Reserved.
    </p> <p class="text-xs text-center text-gray-400" data-v-496c892e>
      除特殊说明外，本站的文章遵循
      <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400" data-v-496c892e>CC-BY-SA-4.0</a>
      协议
    </p></div> <div class="btn-container" data-v-496c892e><button class="relative mx-1" data-v-496c892e><a href="mailto:mebeansbin@gmail.com" target="" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/email.svg" alt="email" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://github.com/Benbinbin" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/github.svg" alt="github" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://juejin.cn/user/3175045314389278/posts" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/juejin.svg" alt="juejin" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://dribbble.com/BinBinDesign" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/dribbble.svg" alt="dribbble" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://twitter.com/Benbinbin_fun" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/twitter.svg" alt="twitter" class="w-auto h-5" data-v-496c892e></button><button class="relative mx-1" data-v-496c892e><a href="https://weibo.com/binbindesign" target="_blank" class="absolute top-0 right-0 w-full h-full" data-v-496c892e></a> <img src="/tech-blog/img/weibo.svg" alt="weibo" class="w-auto h-5" data-v-496c892e></button></div></footer> <!----> <div class="tooltip fixed inset-x-4 top-20 z-10 border bg-gray-50 bg-opacity-95 rounded-xl border-gray-300 shadow" style="display:none;"><div class="headings-tooltip-container" data-v-e14be5f8><ul class="m-2 pt-8 relative flex justify-between overflow-x-auto" data-v-e14be5f8></ul></div></div></div><div class="global-ui"></div></div>
    <script src="/tech-blog/assets/js/app.e2907910.js" defer></script><script src="/tech-blog/assets/js/19.4fae91a9.js" defer></script><script src="/tech-blog/assets/js/1.c19b0b73.js" defer></script><script src="/tech-blog/assets/js/158.ed339647.js" defer></script>
  </body>
</html>
